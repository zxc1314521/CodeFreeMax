import{m as Zt}from"./toggleHighContrast-nRmgfX6B.js";import"./SimpleMonaco-BBDXOnfl.js";import"./debounce-BNOmQ76Y.js";try{E=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(de=new E.Error().stack)&&(E._sentryDebugIds=E._sentryDebugIds||{},E._sentryDebugIds[de]="3aa656fd-8972-46de-8095-d932658c1b9a",E._sentryDebugIdIdentifier="sentry-dbid-3aa656fd-8972-46de-8095-d932658c1b9a")}catch{}var E,de,en=Object.defineProperty,tn=Object.getOwnPropertyDescriptor,nn=Object.getOwnPropertyNames,rn=Object.prototype.hasOwnProperty,u={};((t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of nn(e))rn.call(t,o)||o===n||en(t,o,{get:()=>e[o],enumerable:!(i=tn(e,o))||i.enumerable})})(u,Zt,"default");var le,z,ge,L,N,T,y,fe,h,he,U,me,pe,ve,$,be,_e,ye,ke,we,P,B,xe,Ie,q,Ee,R,V,Ae,Ce,Se,O,Re,A,Le,C,K,Q,Te,S,Me,W,G,De,J,Pe,Y,Fe,Z,je,ee,Ne,Ue,Ve,Oe,te,Ke,We,He,ne,M,D,m,g,ue,Xe,ze,$e,Be,qe,Qe,Ge,Je,Ye,H,Ze,et,tt,nt,F,re,rt,p,l,it,ot,at,st,ut,ct,w,X,dt,lt,gt,ft,ht,mt,pt,vt,bt,_t,yt,kt,ie,wt,f,xt,k,It,Et,At,Ct,St,Rt,Lt,Tt,Mt,oe,ae,se,Dt,Pt,Ft,jt,Nt,Ut,Vt,Ot,Kt,Wt,Ht,Xt,on=class{constructor(t){this._defaults=t,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval((()=>this._checkIfIdle()),3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange((()=>this._stopWorker()))}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>12e4&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=u.editor.createWebWorker({moduleId:"vs/language/css/cssWorker",label:this._defaults.languageId,createData:{options:this._defaults.options,languageId:this._defaults.languageId}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...t){let e;return this._getClient().then((n=>{e=n})).then((n=>{if(this._worker)return this._worker.withSyncedResources(t)})).then((n=>e))}};(le||(le={})).is=function(t){return typeof t=="string"},(z||(z={})).is=function(t){return typeof t=="string"},(L=ge||(ge={})).MIN_VALUE=-2147483648,L.MAX_VALUE=2147483647,L.is=function(t){return typeof t=="number"&&L.MIN_VALUE<=t&&t<=L.MAX_VALUE},(T=N||(N={})).MIN_VALUE=0,T.MAX_VALUE=2147483647,T.is=function(t){return typeof t=="number"&&T.MIN_VALUE<=t&&t<=T.MAX_VALUE},(fe=y||(y={})).create=function(t,e){return t===Number.MAX_VALUE&&(t=N.MAX_VALUE),e===Number.MAX_VALUE&&(e=N.MAX_VALUE),{line:t,character:e}},fe.is=function(t){let e=t;return r.objectLiteral(e)&&r.uinteger(e.line)&&r.uinteger(e.character)},(he=h||(h={})).create=function(t,e,n,i){if(r.uinteger(t)&&r.uinteger(e)&&r.uinteger(n)&&r.uinteger(i))return{start:y.create(t,e),end:y.create(n,i)};if(y.is(t)&&y.is(e))return{start:t,end:e};throw new Error(`Range#create called with invalid arguments[${t}, ${e}, ${n}, ${i}]`)},he.is=function(t){let e=t;return r.objectLiteral(e)&&y.is(e.start)&&y.is(e.end)},(me=U||(U={})).create=function(t,e){return{uri:t,range:e}},me.is=function(t){let e=t;return r.objectLiteral(e)&&h.is(e.range)&&(r.string(e.uri)||r.undefined(e.uri))},(ve=pe||(pe={})).create=function(t,e,n,i){return{targetUri:t,targetRange:e,targetSelectionRange:n,originSelectionRange:i}},ve.is=function(t){let e=t;return r.objectLiteral(e)&&h.is(e.targetRange)&&r.string(e.targetUri)&&h.is(e.targetSelectionRange)&&(h.is(e.originSelectionRange)||r.undefined(e.originSelectionRange))},(be=$||($={})).create=function(t,e,n,i){return{red:t,green:e,blue:n,alpha:i}},be.is=function(t){const e=t;return r.objectLiteral(e)&&r.numberRange(e.red,0,1)&&r.numberRange(e.green,0,1)&&r.numberRange(e.blue,0,1)&&r.numberRange(e.alpha,0,1)},(ye=_e||(_e={})).create=function(t,e){return{range:t,color:e}},ye.is=function(t){const e=t;return r.objectLiteral(e)&&h.is(e.range)&&$.is(e.color)},(we=ke||(ke={})).create=function(t,e,n){return{label:t,textEdit:e,additionalTextEdits:n}},we.is=function(t){const e=t;return r.objectLiteral(e)&&r.string(e.label)&&(r.undefined(e.textEdit)||C.is(e))&&(r.undefined(e.additionalTextEdits)||r.typedArray(e.additionalTextEdits,C.is))},(B=P||(P={})).Comment="comment",B.Imports="imports",B.Region="region",(Ie=xe||(xe={})).create=function(t,e,n,i,o,a){const s={startLine:t,endLine:e};return r.defined(n)&&(s.startCharacter=n),r.defined(i)&&(s.endCharacter=i),r.defined(o)&&(s.kind=o),r.defined(a)&&(s.collapsedText=a),s},Ie.is=function(t){const e=t;return r.objectLiteral(e)&&r.uinteger(e.startLine)&&r.uinteger(e.startLine)&&(r.undefined(e.startCharacter)||r.uinteger(e.startCharacter))&&(r.undefined(e.endCharacter)||r.uinteger(e.endCharacter))&&(r.undefined(e.kind)||r.string(e.kind))},(Ee=q||(q={})).create=function(t,e){return{location:t,message:e}},Ee.is=function(t){let e=t;return r.defined(e)&&U.is(e.location)&&r.string(e.message)},(V=R||(R={})).Error=1,V.Warning=2,V.Information=3,V.Hint=4,(Ce=Ae||(Ae={})).Unnecessary=1,Ce.Deprecated=2,(Se||(Se={})).is=function(t){const e=t;return r.objectLiteral(e)&&r.string(e.href)},(Re=O||(O={})).create=function(t,e,n,i,o,a){let s={range:t,message:e};return r.defined(n)&&(s.severity=n),r.defined(i)&&(s.code=i),r.defined(o)&&(s.source=o),r.defined(a)&&(s.relatedInformation=a),s},Re.is=function(t){var e;let n=t;return r.defined(n)&&h.is(n.range)&&r.string(n.message)&&(r.number(n.severity)||r.undefined(n.severity))&&(r.integer(n.code)||r.string(n.code)||r.undefined(n.code))&&(r.undefined(n.codeDescription)||r.string((e=n.codeDescription)===null||e===void 0?void 0:e.href))&&(r.string(n.source)||r.undefined(n.source))&&(r.undefined(n.relatedInformation)||r.typedArray(n.relatedInformation,q.is))},(Le=A||(A={})).create=function(t,e,...n){let i={title:t,command:e};return r.defined(n)&&n.length>0&&(i.arguments=n),i},Le.is=function(t){let e=t;return r.defined(e)&&r.string(e.title)&&r.string(e.command)},(K=C||(C={})).replace=function(t,e){return{range:t,newText:e}},K.insert=function(t,e){return{range:{start:t,end:t},newText:e}},K.del=function(t){return{range:t,newText:""}},K.is=function(t){const e=t;return r.objectLiteral(e)&&r.string(e.newText)&&h.is(e.range)},(Te=Q||(Q={})).create=function(t,e,n){const i={label:t};return e!==void 0&&(i.needsConfirmation=e),n!==void 0&&(i.description=n),i},Te.is=function(t){const e=t;return r.objectLiteral(e)&&r.string(e.label)&&(r.boolean(e.needsConfirmation)||e.needsConfirmation===void 0)&&(r.string(e.description)||e.description===void 0)},(S||(S={})).is=function(t){const e=t;return r.string(e)},(W=Me||(Me={})).replace=function(t,e,n){return{range:t,newText:e,annotationId:n}},W.insert=function(t,e,n){return{range:{start:t,end:t},newText:e,annotationId:n}},W.del=function(t,e){return{range:t,newText:"",annotationId:e}},W.is=function(t){const e=t;return C.is(e)&&(Q.is(e.annotationId)||S.is(e.annotationId))},(De=G||(G={})).create=function(t,e){return{textDocument:t,edits:e}},De.is=function(t){let e=t;return r.defined(e)&&te.is(e.textDocument)&&Array.isArray(e.edits)},(Pe=J||(J={})).create=function(t,e,n){let i={kind:"create",uri:t};return e===void 0||e.overwrite===void 0&&e.ignoreIfExists===void 0||(i.options=e),n!==void 0&&(i.annotationId=n),i},Pe.is=function(t){let e=t;return e&&e.kind==="create"&&r.string(e.uri)&&(e.options===void 0||(e.options.overwrite===void 0||r.boolean(e.options.overwrite))&&(e.options.ignoreIfExists===void 0||r.boolean(e.options.ignoreIfExists)))&&(e.annotationId===void 0||S.is(e.annotationId))},(Fe=Y||(Y={})).create=function(t,e,n,i){let o={kind:"rename",oldUri:t,newUri:e};return n===void 0||n.overwrite===void 0&&n.ignoreIfExists===void 0||(o.options=n),i!==void 0&&(o.annotationId=i),o},Fe.is=function(t){let e=t;return e&&e.kind==="rename"&&r.string(e.oldUri)&&r.string(e.newUri)&&(e.options===void 0||(e.options.overwrite===void 0||r.boolean(e.options.overwrite))&&(e.options.ignoreIfExists===void 0||r.boolean(e.options.ignoreIfExists)))&&(e.annotationId===void 0||S.is(e.annotationId))},(je=Z||(Z={})).create=function(t,e,n){let i={kind:"delete",uri:t};return e===void 0||e.recursive===void 0&&e.ignoreIfNotExists===void 0||(i.options=e),n!==void 0&&(i.annotationId=n),i},je.is=function(t){let e=t;return e&&e.kind==="delete"&&r.string(e.uri)&&(e.options===void 0||(e.options.recursive===void 0||r.boolean(e.options.recursive))&&(e.options.ignoreIfNotExists===void 0||r.boolean(e.options.ignoreIfNotExists)))&&(e.annotationId===void 0||S.is(e.annotationId))},(ee||(ee={})).is=function(t){let e=t;return e&&(e.changes!==void 0||e.documentChanges!==void 0)&&(e.documentChanges===void 0||e.documentChanges.every((n=>r.string(n.kind)?J.is(n)||Y.is(n)||Z.is(n):G.is(n))))},(Ue=Ne||(Ne={})).create=function(t){return{uri:t}},Ue.is=function(t){let e=t;return r.defined(e)&&r.string(e.uri)},(Oe=Ve||(Ve={})).create=function(t,e){return{uri:t,version:e}},Oe.is=function(t){let e=t;return r.defined(e)&&r.string(e.uri)&&r.integer(e.version)},(Ke=te||(te={})).create=function(t,e){return{uri:t,version:e}},Ke.is=function(t){let e=t;return r.defined(e)&&r.string(e.uri)&&(e.version===null||r.integer(e.version))},(He=We||(We={})).create=function(t,e,n,i){return{uri:t,languageId:e,version:n,text:i}},He.is=function(t){let e=t;return r.defined(e)&&r.string(e.uri)&&r.string(e.languageId)&&r.integer(e.version)&&r.string(e.text)},(M=ne||(ne={})).PlainText="plaintext",M.Markdown="markdown",M.is=function(t){const e=t;return e===M.PlainText||e===M.Markdown},(D||(D={})).is=function(t){const e=t;return r.objectLiteral(t)&&ne.is(e.kind)&&r.string(e.value)},(g=m||(m={})).Text=1,g.Method=2,g.Function=3,g.Constructor=4,g.Field=5,g.Variable=6,g.Class=7,g.Interface=8,g.Module=9,g.Property=10,g.Unit=11,g.Value=12,g.Enum=13,g.Keyword=14,g.Snippet=15,g.Color=16,g.File=17,g.Reference=18,g.Folder=19,g.EnumMember=20,g.Constant=21,g.Struct=22,g.Event=23,g.Operator=24,g.TypeParameter=25,(Xe=ue||(ue={})).PlainText=1,Xe.Snippet=2,(ze||(ze={})).Deprecated=1,(Be=$e||($e={})).create=function(t,e,n){return{newText:t,insert:e,replace:n}},Be.is=function(t){const e=t;return e&&r.string(e.newText)&&h.is(e.insert)&&h.is(e.replace)},(Qe=qe||(qe={})).asIs=1,Qe.adjustIndentation=2,(Ge||(Ge={})).is=function(t){const e=t;return e&&(r.string(e.detail)||e.detail===void 0)&&(r.string(e.description)||e.description===void 0)},(Je||(Je={})).create=function(t){return{label:t}},(Ye||(Ye={})).create=function(t,e){return{items:t||[],isIncomplete:!!e}},(Ze=H||(H={})).fromPlainText=function(t){return t.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},Ze.is=function(t){const e=t;return r.string(e)||r.objectLiteral(e)&&r.string(e.language)&&r.string(e.value)},(et||(et={})).is=function(t){let e=t;return!!e&&r.objectLiteral(e)&&(D.is(e.contents)||H.is(e.contents)||r.typedArray(e.contents,H.is))&&(t.range===void 0||h.is(t.range))},(tt||(tt={})).create=function(t,e){return e?{label:t,documentation:e}:{label:t}},(nt||(nt={})).create=function(t,e,...n){let i={label:t};return r.defined(e)&&(i.documentation=e),r.defined(n)?i.parameters=n:i.parameters=[],i},(re=F||(F={})).Text=1,re.Read=2,re.Write=3,(rt||(rt={})).create=function(t,e){let n={range:t};return r.number(e)&&(n.kind=e),n},(l=p||(p={})).File=1,l.Module=2,l.Namespace=3,l.Package=4,l.Class=5,l.Method=6,l.Property=7,l.Field=8,l.Constructor=9,l.Enum=10,l.Interface=11,l.Function=12,l.Variable=13,l.Constant=14,l.String=15,l.Number=16,l.Boolean=17,l.Array=18,l.Object=19,l.Key=20,l.Null=21,l.EnumMember=22,l.Struct=23,l.Event=24,l.Operator=25,l.TypeParameter=26,(it||(it={})).Deprecated=1,(ot||(ot={})).create=function(t,e,n,i,o){let a={name:t,kind:e,location:{uri:i,range:n}};return o&&(a.containerName=o),a},(at||(at={})).create=function(t,e,n,i){return i!==void 0?{name:t,kind:e,location:{uri:n,range:i}}:{name:t,kind:e,location:{uri:n}}},(ut=st||(st={})).create=function(t,e,n,i,o,a){let s={name:t,detail:e,kind:n,range:i,selectionRange:o};return a!==void 0&&(s.children=a),s},ut.is=function(t){let e=t;return e&&r.string(e.name)&&r.number(e.kind)&&h.is(e.range)&&h.is(e.selectionRange)&&(e.detail===void 0||r.string(e.detail))&&(e.deprecated===void 0||r.boolean(e.deprecated))&&(e.children===void 0||Array.isArray(e.children))&&(e.tags===void 0||Array.isArray(e.tags))},(w=ct||(ct={})).Empty="",w.QuickFix="quickfix",w.Refactor="refactor",w.RefactorExtract="refactor.extract",w.RefactorInline="refactor.inline",w.RefactorRewrite="refactor.rewrite",w.Source="source",w.SourceOrganizeImports="source.organizeImports",w.SourceFixAll="source.fixAll",(dt=X||(X={})).Invoked=1,dt.Automatic=2,(gt=lt||(lt={})).create=function(t,e,n){let i={diagnostics:t};return e!=null&&(i.only=e),n!=null&&(i.triggerKind=n),i},gt.is=function(t){let e=t;return r.defined(e)&&r.typedArray(e.diagnostics,O.is)&&(e.only===void 0||r.typedArray(e.only,r.string))&&(e.triggerKind===void 0||e.triggerKind===X.Invoked||e.triggerKind===X.Automatic)},(ht=ft||(ft={})).create=function(t,e,n){let i={title:t},o=!0;return typeof e=="string"?(o=!1,i.kind=e):A.is(e)?i.command=e:i.edit=e,o&&n!==void 0&&(i.kind=n),i},ht.is=function(t){let e=t;return e&&r.string(e.title)&&(e.diagnostics===void 0||r.typedArray(e.diagnostics,O.is))&&(e.kind===void 0||r.string(e.kind))&&(e.edit!==void 0||e.command!==void 0)&&(e.command===void 0||A.is(e.command))&&(e.isPreferred===void 0||r.boolean(e.isPreferred))&&(e.edit===void 0||ee.is(e.edit))},(pt=mt||(mt={})).create=function(t,e){let n={range:t};return r.defined(e)&&(n.data=e),n},pt.is=function(t){let e=t;return r.defined(e)&&h.is(e.range)&&(r.undefined(e.command)||A.is(e.command))},(bt=vt||(vt={})).create=function(t,e){return{tabSize:t,insertSpaces:e}},bt.is=function(t){let e=t;return r.defined(e)&&r.uinteger(e.tabSize)&&r.boolean(e.insertSpaces)},(yt=_t||(_t={})).create=function(t,e,n){return{range:t,target:e,data:n}},yt.is=function(t){let e=t;return r.defined(e)&&h.is(e.range)&&(r.undefined(e.target)||r.string(e.target))},(ie=kt||(kt={})).create=function(t,e){return{range:t,parent:e}},ie.is=function(t){let e=t;return r.objectLiteral(e)&&h.is(e.range)&&(e.parent===void 0||ie.is(e.parent))},(f=wt||(wt={})).namespace="namespace",f.type="type",f.class="class",f.enum="enum",f.interface="interface",f.struct="struct",f.typeParameter="typeParameter",f.parameter="parameter",f.variable="variable",f.property="property",f.enumMember="enumMember",f.event="event",f.function="function",f.method="method",f.macro="macro",f.keyword="keyword",f.modifier="modifier",f.comment="comment",f.string="string",f.number="number",f.regexp="regexp",f.operator="operator",f.decorator="decorator",(k=xt||(xt={})).declaration="declaration",k.definition="definition",k.readonly="readonly",k.static="static",k.deprecated="deprecated",k.abstract="abstract",k.async="async",k.modification="modification",k.documentation="documentation",k.defaultLibrary="defaultLibrary",(It||(It={})).is=function(t){const e=t;return r.objectLiteral(e)&&(e.resultId===void 0||typeof e.resultId=="string")&&Array.isArray(e.data)&&(e.data.length===0||typeof e.data[0]=="number")},(At=Et||(Et={})).create=function(t,e){return{range:t,text:e}},At.is=function(t){const e=t;return e!=null&&h.is(e.range)&&r.string(e.text)},(St=Ct||(Ct={})).create=function(t,e,n){return{range:t,variableName:e,caseSensitiveLookup:n}},St.is=function(t){const e=t;return e!=null&&h.is(e.range)&&r.boolean(e.caseSensitiveLookup)&&(r.string(e.variableName)||e.variableName===void 0)},(Lt=Rt||(Rt={})).create=function(t,e){return{range:t,expression:e}},Lt.is=function(t){const e=t;return e!=null&&h.is(e.range)&&(r.string(e.expression)||e.expression===void 0)},(Mt=Tt||(Tt={})).create=function(t,e){return{frameId:t,stoppedLocation:e}},Mt.is=function(t){const e=t;return r.defined(e)&&h.is(t.stoppedLocation)},(ae=oe||(oe={})).Type=1,ae.Parameter=2,ae.is=function(t){return t===1||t===2},(Dt=se||(se={})).create=function(t){return{value:t}},Dt.is=function(t){const e=t;return r.objectLiteral(e)&&(e.tooltip===void 0||r.string(e.tooltip)||D.is(e.tooltip))&&(e.location===void 0||U.is(e.location))&&(e.command===void 0||A.is(e.command))},(Ft=Pt||(Pt={})).create=function(t,e,n){const i={position:t,label:e};return n!==void 0&&(i.kind=n),i},Ft.is=function(t){const e=t;return r.objectLiteral(e)&&y.is(e.position)&&(r.string(e.label)||r.typedArray(e.label,se.is))&&(e.kind===void 0||oe.is(e.kind))&&e.textEdits===void 0||r.typedArray(e.textEdits,C.is)&&(e.tooltip===void 0||r.string(e.tooltip)||D.is(e.tooltip))&&(e.paddingLeft===void 0||r.boolean(e.paddingLeft))&&(e.paddingRight===void 0||r.boolean(e.paddingRight))},(jt||(jt={})).createSnippet=function(t){return{kind:"snippet",value:t}},(Nt||(Nt={})).create=function(t,e,n,i){return{insertText:t,filterText:e,range:n,command:i}},(Ut||(Ut={})).create=function(t){return{items:t}},(Ot=Vt||(Vt={})).Invoked=0,Ot.Automatic=1,(Kt||(Kt={})).create=function(t,e){return{range:t,text:e}},(Wt||(Wt={})).create=function(t,e){return{triggerKind:t,selectedCompletionInfo:e}},(Ht||(Ht={})).is=function(t){const e=t;return r.objectLiteral(e)&&z.is(e.uri)&&r.string(e.name)},(function(t){function e(n,i){if(n.length<=1)return n;const o=n.length/2|0,a=n.slice(0,o),s=n.slice(o);e(a,i),e(s,i);let c=0,v=0,d=0;for(;c<a.length&&v<s.length;){let _=i(a[c],s[v]);n[d++]=_<=0?a[c++]:s[v++]}for(;c<a.length;)n[d++]=a[c++];for(;v<s.length;)n[d++]=s[v++];return n}t.create=function(n,i,o,a){return new an(n,i,o,a)},t.is=function(n){let i=n;return!!(r.defined(i)&&r.string(i.uri)&&(r.undefined(i.languageId)||r.string(i.languageId))&&r.uinteger(i.lineCount)&&r.func(i.getText)&&r.func(i.positionAt)&&r.func(i.offsetAt))},t.applyEdits=function(n,i){let o=n.getText(),a=e(i,((c,v)=>{let d=c.range.start.line-v.range.start.line;return d===0?c.range.start.character-v.range.start.character:d})),s=o.length;for(let c=a.length-1;c>=0;c--){let v=a[c],d=n.offsetAt(v.range.start),_=n.offsetAt(v.range.end);if(!(_<=s))throw new Error("Overlapping edit");o=o.substring(0,d)+v.newText+o.substring(_,o.length),s=d}return o}})(Xt||(Xt={}));var r,an=class{constructor(t,e,n,i){this._uri=t,this._languageId=e,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let e=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(e,n)}return this._content}update(t,e){this._content=t.text,this._version=e,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],e=this._content,n=!0;for(let i=0;i<e.length;i++){n&&(t.push(i),n=!1);let o=e.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<e.length&&e.charAt(i+1)===`
`&&i++}n&&e.length>0&&t.push(e.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let e=this.getLineOffsets(),n=0,i=e.length;if(i===0)return y.create(0,t);for(;n<i;){let a=Math.floor((n+i)/2);e[a]>t?i=a:n=a+1}let o=n-1;return y.create(o,t-e[o])}offsetAt(t){let e=this.getLineOffsets();if(t.line>=e.length)return this._content.length;if(t.line<0)return 0;let n=e[t.line],i=t.line+1<e.length?e[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(t){const e=Object.prototype.toString;t.defined=function(n){return n!==void 0},t.undefined=function(n){return n===void 0},t.boolean=function(n){return n===!0||n===!1},t.string=function(n){return e.call(n)==="[object String]"},t.number=function(n){return e.call(n)==="[object Number]"},t.numberRange=function(n,i,o){return e.call(n)==="[object Number]"&&i<=n&&n<=o},t.integer=function(n){return e.call(n)==="[object Number]"&&-2147483648<=n&&n<=2147483647},t.uinteger=function(n){return e.call(n)==="[object Number]"&&0<=n&&n<=2147483647},t.func=function(n){return e.call(n)==="[object Function]"},t.objectLiteral=function(n){return n!==null&&typeof n=="object"},t.typedArray=function(n,i){return Array.isArray(n)&&n.every(i)}})(r||(r={}));var sn=class{constructor(t,e,n){this._languageId=t,this._worker=e,this._disposables=[],this._listener=Object.create(null);const i=a=>{let s,c=a.getLanguageId();c===this._languageId&&(this._listener[a.uri.toString()]=a.onDidChangeContent((()=>{window.clearTimeout(s),s=window.setTimeout((()=>this._doValidate(a.uri,c)),500)})),this._doValidate(a.uri,c))},o=a=>{u.editor.setModelMarkers(a,this._languageId,[]);let s=a.uri.toString(),c=this._listener[s];c&&(c.dispose(),delete this._listener[s])};this._disposables.push(u.editor.onDidCreateModel(i)),this._disposables.push(u.editor.onWillDisposeModel(o)),this._disposables.push(u.editor.onDidChangeModelLanguage((a=>{o(a.model),i(a.model)}))),this._disposables.push(n((a=>{u.editor.getModels().forEach((s=>{s.getLanguageId()===this._languageId&&(o(s),i(s))}))}))),this._disposables.push({dispose:()=>{u.editor.getModels().forEach(o);for(let a in this._listener)this._listener[a].dispose()}}),u.editor.getModels().forEach(i)}dispose(){this._disposables.forEach((t=>t&&t.dispose())),this._disposables.length=0}_doValidate(t,e){this._worker(t).then((n=>n.doValidation(t.toString()))).then((n=>{const i=n.map((a=>(function(s,c){let v=typeof c.code=="number"?String(c.code):c.code;return{severity:un(c.severity),startLineNumber:c.range.start.line+1,startColumn:c.range.start.character+1,endLineNumber:c.range.end.line+1,endColumn:c.range.end.character+1,message:c.message,code:v,source:c.source}})(0,a)));let o=u.editor.getModel(t);o&&o.getLanguageId()===e&&u.editor.setModelMarkers(o,e,i)})).then(void 0,(n=>{console.error(n)}))}};function un(t){switch(t){case R.Error:return u.MarkerSeverity.Error;case R.Warning:return u.MarkerSeverity.Warning;case R.Information:return u.MarkerSeverity.Info;case R.Hint:return u.MarkerSeverity.Hint;default:return u.MarkerSeverity.Info}}var cn=class{constructor(t,e){this._worker=t,this._triggerCharacters=e}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(t,e,n,i){const o=t.uri;return this._worker(o).then((a=>a.doComplete(o.toString(),x(e)))).then((a=>{if(!a)return;const s=t.getWordUntilPosition(e),c=new u.Range(e.lineNumber,s.startColumn,e.lineNumber,s.endColumn),v=a.items.map((d=>{const _={label:d.label,insertText:d.insertText||d.label,sortText:d.sortText,filterText:d.filterText,documentation:d.documentation,detail:d.detail,command:(I=d.command,I&&I.command==="editor.action.triggerSuggest"?{id:I.command,title:I.title,arguments:I.arguments}:void 0),range:c,kind:dn(d.kind)};var I,ce;return d.textEdit&&((ce=d.textEdit).insert!==void 0&&ce.replace!==void 0?_.range={insert:b(d.textEdit.insert),replace:b(d.textEdit.replace)}:_.range=b(d.textEdit.range),_.insertText=d.textEdit.newText),d.additionalTextEdits&&(_.additionalTextEdits=d.additionalTextEdits.map(j)),d.insertTextFormat===ue.Snippet&&(_.insertTextRules=u.languages.CompletionItemInsertTextRule.InsertAsSnippet),_}));return{isIncomplete:a.isIncomplete,suggestions:v}}))}};function x(t){if(t)return{character:t.column-1,line:t.lineNumber-1}}function Bt(t){if(t)return{start:{line:t.startLineNumber-1,character:t.startColumn-1},end:{line:t.endLineNumber-1,character:t.endColumn-1}}}function b(t){if(t)return new u.Range(t.start.line+1,t.start.character+1,t.end.line+1,t.end.character+1)}function dn(t){const e=u.languages.CompletionItemKind;switch(t){case m.Text:return e.Text;case m.Method:return e.Method;case m.Function:return e.Function;case m.Constructor:return e.Constructor;case m.Field:return e.Field;case m.Variable:return e.Variable;case m.Class:return e.Class;case m.Interface:return e.Interface;case m.Module:return e.Module;case m.Property:return e.Property;case m.Unit:return e.Unit;case m.Value:return e.Value;case m.Enum:return e.Enum;case m.Keyword:return e.Keyword;case m.Snippet:return e.Snippet;case m.Color:return e.Color;case m.File:return e.File;case m.Reference:return e.Reference}return e.Property}function j(t){if(t)return{range:b(t.range),text:t.newText}}var ln=class{constructor(t){this._worker=t}provideHover(t,e,n){let i=t.uri;return this._worker(i).then((o=>o.doHover(i.toString(),x(e)))).then((o=>{if(o)return{range:b(o.range),contents:gn(o.contents)}}))}};function zt(t){return typeof t=="string"?{value:t}:(e=t)&&typeof e=="object"&&typeof e.kind=="string"?t.kind==="plaintext"?{value:t.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:t.value}:{value:"```"+t.language+`
`+t.value+"\n```\n"};var e}function gn(t){if(t)return Array.isArray(t)?t.map(zt):[zt(t)]}var fn=class{constructor(t){this._worker=t}provideDocumentHighlights(t,e,n){const i=t.uri;return this._worker(i).then((o=>o.findDocumentHighlights(i.toString(),x(e)))).then((o=>{if(o)return o.map((a=>({range:b(a.range),kind:hn(a.kind)})))}))}};function hn(t){switch(t){case F.Read:return u.languages.DocumentHighlightKind.Read;case F.Write:return u.languages.DocumentHighlightKind.Write;case F.Text:return u.languages.DocumentHighlightKind.Text}return u.languages.DocumentHighlightKind.Text}var mn=class{constructor(t){this._worker=t}provideDefinition(t,e,n){const i=t.uri;return this._worker(i).then((o=>o.findDefinition(i.toString(),x(e)))).then((o=>{if(o)return[qt(o)]}))}};function qt(t){return{uri:u.Uri.parse(t.uri),range:b(t.range)}}var pn=class{constructor(t){this._worker=t}provideReferences(t,e,n,i){const o=t.uri;return this._worker(o).then((a=>a.findReferences(o.toString(),x(e)))).then((a=>{if(a)return a.map(qt)}))}},vn=class{constructor(t){this._worker=t}provideRenameEdits(t,e,n,i){const o=t.uri;return this._worker(o).then((a=>a.doRename(o.toString(),x(e),n))).then((a=>(function(s){if(!s||!s.changes)return;let c=[];for(let v in s.changes){const d=u.Uri.parse(v);for(let _ of s.changes[v])c.push({resource:d,versionId:void 0,textEdit:{range:b(_.range),text:_.newText}})}return{edits:c}})(a)))}},bn=class{constructor(t){this._worker=t}provideDocumentSymbols(t,e){const n=t.uri;return this._worker(n).then((i=>i.findDocumentSymbols(n.toString()))).then((i=>{if(i)return i.map((o=>"children"in o?Qt(o):{name:o.name,detail:"",containerName:o.containerName,kind:Gt(o.kind),range:b(o.location.range),selectionRange:b(o.location.range),tags:[]}))}))}};function Qt(t){return{name:t.name,detail:t.detail??"",kind:Gt(t.kind),range:b(t.range),selectionRange:b(t.selectionRange),tags:t.tags??[],children:(t.children??[]).map((e=>Qt(e)))}}function Gt(t){let e=u.languages.SymbolKind;switch(t){case p.File:return e.File;case p.Module:return e.Module;case p.Namespace:return e.Namespace;case p.Package:return e.Package;case p.Class:return e.Class;case p.Method:return e.Method;case p.Property:return e.Property;case p.Field:return e.Field;case p.Constructor:return e.Constructor;case p.Enum:return e.Enum;case p.Interface:return e.Interface;case p.Function:return e.Function;case p.Variable:return e.Variable;case p.Constant:return e.Constant;case p.String:return e.String;case p.Number:return e.Number;case p.Boolean:return e.Boolean;case p.Array:return e.Array}return e.Function}var Cn=class{constructor(t){this._worker=t}provideLinks(t,e){const n=t.uri;return this._worker(n).then((i=>i.findDocumentLinks(n.toString()))).then((i=>{if(i)return{links:i.map((o=>({range:b(o.range),url:o.target})))}}))}},_n=class{constructor(t){this._worker=t}provideDocumentFormattingEdits(t,e,n){const i=t.uri;return this._worker(i).then((o=>o.format(i.toString(),null,Jt(e)).then((a=>{if(a&&a.length!==0)return a.map(j)}))))}},yn=class{constructor(t){this._worker=t,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(t,e,n,i){const o=t.uri;return this._worker(o).then((a=>a.format(o.toString(),Bt(e),Jt(n)).then((s=>{if(s&&s.length!==0)return s.map(j)}))))}};function Jt(t){return{tabSize:t.tabSize,insertSpaces:t.insertSpaces}}var kn=class{constructor(t){this._worker=t}provideDocumentColors(t,e){const n=t.uri;return this._worker(n).then((i=>i.findDocumentColors(n.toString()))).then((i=>{if(i)return i.map((o=>({color:o.color,range:b(o.range)})))}))}provideColorPresentations(t,e,n){const i=t.uri;return this._worker(i).then((o=>o.getColorPresentations(i.toString(),e.color,Bt(e.range)))).then((o=>{if(o)return o.map((a=>{let s={label:a.label};return a.textEdit&&(s.textEdit=j(a.textEdit)),a.additionalTextEdits&&(s.additionalTextEdits=a.additionalTextEdits.map(j)),s}))}))}},wn=class{constructor(t){this._worker=t}provideFoldingRanges(t,e,n){const i=t.uri;return this._worker(i).then((o=>o.getFoldingRanges(i.toString(),e))).then((o=>{if(o)return o.map((a=>{const s={start:a.startLine+1,end:a.endLine+1};return a.kind!==void 0&&(s.kind=(function(c){switch(c){case P.Comment:return u.languages.FoldingRangeKind.Comment;case P.Imports:return u.languages.FoldingRangeKind.Imports;case P.Region:return u.languages.FoldingRangeKind.Region}})(a.kind)),s}))}))}},xn=class{constructor(t){this._worker=t}provideSelectionRanges(t,e,n){const i=t.uri;return this._worker(i).then((o=>o.getSelectionRanges(i.toString(),e.map(x)))).then((o=>{if(o)return o.map((a=>{const s=[];for(;a;)s.push({range:b(a.range)}),a=a.parent;return s}))}))}};function Sn(t){const e=[],n=[],i=new on(t);e.push(i);const o=(...a)=>i.getLanguageServiceWorker(...a);return(function(){const{languageId:a,modeConfiguration:s}=t;Yt(n),s.completionItems&&n.push(u.languages.registerCompletionItemProvider(a,new cn(o,["/","-",":"]))),s.hovers&&n.push(u.languages.registerHoverProvider(a,new ln(o))),s.documentHighlights&&n.push(u.languages.registerDocumentHighlightProvider(a,new fn(o))),s.definitions&&n.push(u.languages.registerDefinitionProvider(a,new mn(o))),s.references&&n.push(u.languages.registerReferenceProvider(a,new pn(o))),s.documentSymbols&&n.push(u.languages.registerDocumentSymbolProvider(a,new bn(o))),s.rename&&n.push(u.languages.registerRenameProvider(a,new vn(o))),s.colors&&n.push(u.languages.registerColorProvider(a,new kn(o))),s.foldingRanges&&n.push(u.languages.registerFoldingRangeProvider(a,new wn(o))),s.diagnostics&&n.push(new sn(a,o,t.onDidChange)),s.selectionRanges&&n.push(u.languages.registerSelectionRangeProvider(a,new xn(o))),s.documentFormattingEdits&&n.push(u.languages.registerDocumentFormattingEditProvider(a,new _n(o))),s.documentRangeFormattingEdits&&n.push(u.languages.registerDocumentRangeFormattingEditProvider(a,new yn(o)))})(),e.push($t(n)),$t(e)}function $t(t){return{dispose:()=>Yt(t)}}function Yt(t){for(;t.length;)t.pop().dispose()}export{cn as CompletionAdapter,mn as DefinitionAdapter,sn as DiagnosticsAdapter,kn as DocumentColorAdapter,_n as DocumentFormattingEditProvider,fn as DocumentHighlightAdapter,Cn as DocumentLinkAdapter,yn as DocumentRangeFormattingEditProvider,bn as DocumentSymbolAdapter,wn as FoldingRangeAdapter,ln as HoverAdapter,pn as ReferenceAdapter,vn as RenameAdapter,xn as SelectionRangeAdapter,on as WorkerManager,x as fromPosition,Bt as fromRange,Sn as setupMode,b as toRange,j as toTextEdit};
//# sourceMappingURL=cssMode-3jJe6ogn.js.map
