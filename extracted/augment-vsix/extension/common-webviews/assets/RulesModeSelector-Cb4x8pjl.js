import{D as ge,S as E,T as n,O as k,o as e,G as l,R as a,H as me,I as ye,Y as $,Z as u,_ as $e,$ as we,a0 as Ae,K as D,a1 as H,a2 as M,P as Te,Q as W,a3 as Re,J as Ee}from"./debounce-BNOmQ76Y.js";import{B as q}from"./ButtonAugment-BCcs6kST.js";import{A as Ie,D as f}from"./extension-client-context-CN64fWtK.js";import{T as le}from"./TextTooltipAugment-CGvqFHAr.js";import{R as I}from"./message-broker-DUQuEFlt.js";import{I as De}from"./Icon-CohttyM7.js";try{c=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(se=new c.Error().stack)&&(c._sentryDebugIds=c._sentryDebugIds||{},c._sentryDebugIds[se]="592af01d-ffd1-4288-a5ac-e3b5c1f3d219",c._sentryDebugIdIdentifier="sentry-dbid-592af01d-ffd1-4288-a5ac-e3b5c1f3d219")}catch{}var c,se,Se=D('<div class="c-dropdown-label svelte-xm5ow9"><!></div>'),_e=D("<!> <!>",1),xe=D("<!> <!>",1),Ue=D("<!> <!>",1);function ke(B,t){ge(t,!0);const S=()=>Ee(e(ue),"$focusedIndex",te),[te,re]=ye();let oe=l((()=>t.rule.path)),de=l((()=>t.rule.type)),ie=l((()=>t.rule.settingsStored)),ne=l((()=>t.rule.source)),J=l((()=>e(ne)==="user"));const _={label:"Always",value:I.ALWAYS_ATTACHED,description:"These Rules will be included in every message you send to the agent."},K={label:"Manual",value:I.MANUAL,description:"These Rules will be included when manually tagged in your message. You can tag Rules by @-mentioning them."},ce={label:"Auto",value:I.AGENT_REQUESTED,description:"These Rules will be included when the Agent decides to fetch them based on this file's description."};let x=l((()=>e(J)?[_]:e(ie)?[_,K]:[_,K,ce])),w=l((()=>e(x).find((r=>r.value===e(de))))),A=we(void 0),ue=l((()=>e(A)?.focusedIndex));var O=E(),fe=n(O),ve=r=>{le(r,{content:"Workspace guidelines are always applied",children:(i,P)=>{q(i,{color:"accent",size:1,disabled:!0,children:(U,Z)=>{var o=$("Always");a(U,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},be=r=>{var i=E(),P=n(i),U=o=>{le(o,{content:"User rules are always applied",children:(T,j)=>{q(T,{color:"accent",size:1,disabled:!0,children:(z,F)=>{var v=$("Always");a(z,v)},$$slots:{default:!0}})},$$slots:{default:!0}})},Z=o=>{var T=E(),j=n(T);u(j,(()=>f.Root),((z,F)=>{$e(F(z,{children:(v,ze)=>{var V=Ue(),X=n(V);u(X,(()=>f.Trigger),((C,G)=>{G(C,{children:(L,pe)=>{var b=Se(),R=Te(b);q(R,{color:"neutral",size:1,variant:"soft",iconRight:h=>{De(h,{name:"chevron-down"})},children:(h,d)=>{var s=$();H((()=>M(s,e(w).label))),a(h,s)},$$slots:{iconRight:!0,default:!0}}),a(L,b)},$$slots:{default:!0}})}));var he=W(X,2);u(he,(()=>f.Content),((C,G)=>{G(C,{side:"bottom",align:"start",children:(L,pe)=>{var b=xe(),R=n(b);Re(R,17,(()=>e(x)),(d=>d.label),((d,s)=>{var p=E(),N=n(p);{let g=l((()=>e(w).label===e(s).label));u(N,(()=>f.Item),((m,Q)=>{Q(m,{onSelect:()=>(async function(y){e(A)?.requestClose(),t.onSave(y.value,y.value!==I.AGENT_REQUESTED||t.rule.description?t.rule.description:"Example description")})(e(s)),get highlight(){return e(g)},children:(y,Y)=>{var ae=$();H((()=>M(ae,e(s).label))),a(y,ae)},$$slots:{default:!0}})}))}a(d,p)}));var ee=W(R,2),h=d=>{var s=_e(),p=n(s);u(p,(()=>f.Separator),((g,m)=>{m(g,{})}));var N=W(p,2);u(N,(()=>f.Label),((g,m)=>{m(g,{children:(Q,y)=>{var Y=$();H((()=>M(Y,S()!==void 0?e(x)[S()].description:e(w).description))),a(Q,Y)},$$slots:{default:!0}})})),a(d,s)};k(ee,(d=>{(S()!==void 0||e(w))&&d(h)})),a(L,b)},$$slots:{default:!0}})})),a(v,V)},$$slots:{default:!0}}),(v=>Ae(A,v,!0)),(()=>e(A)))})),a(o,T)};k(P,(o=>{e(J)?o(U):o(Z,!1)}),!0),a(r,i)};k(fe,(r=>{var i;i=e(oe),Ie===i?r(ve):r(be,!1)})),a(B,O),me(),re()}export{ke as R};
//# sourceMappingURL=RulesModeSelector-Cb4x8pjl.js.map
