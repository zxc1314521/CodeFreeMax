import{i as fe,b as ye,B as ke,aC as ge,F as he,az as _e,D as le,E as u,w as Z,ah as me,k as h,l as ee,K as X,P as f,V as F,X as ae,Q as te,O as D,a1 as xe,R as $,H as ne,I as ce,a0 as se,$ as $e,J as R,a4 as C,a8 as we,aA as Ie,ag as K,T as V,o as Se,S as ie,a7 as Te,M as ze}from"./debounce-BNOmQ76Y.js";import{a as Ce,I as De}from"./IconButtonAugment-DO0xxfgT.js";import{I as oe}from"./Icon-CohttyM7.js";try{g=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(Y=new g.Error().stack)&&(g._sentryDebugIds=g._sentryDebugIds||{},g._sentryDebugIds[Y]="6c28b591-fde7-4013-bb91-00099cb791a4",g._sentryDebugIdIdentifier="sentry-dbid-6c28b591-fde7-4013-bb91-00099cb791a4")}catch{}var g,Y;function Re(r,e,s){var i=new ke(r),d=!fe();ye((()=>{var o=e();d&&o!==null&&typeof o=="object"&&(o={}),i.ensure(o,s)}))}const re=Symbol("collapsible");function He(){return he(re)}var Ue=X('<footer class="c-collapsible__footer svelte-12ak5na"><!></footer>'),Ee=X('<div class="c-collapsible__body svelte-12ak5na"><!></div> <!>',1),Be=X('<div><header><div data-collapsible-header="button" tabindex="0"><!></div></header> <div><div class="c-collapsible__content-inner svelte-12ak5na"><!></div></div></div>');function Ve(r,e){le(e,!0);const s=()=>R(v,"$collapsedStore",d),i=()=>R(I,"$expandableStore",d),[d,o]=ce();let l=u(e,"collapsed",15,!1),n=u(e,"stickyHeader",3,!1),p=u(e,"expandable",15,!0),H=u(e,"isHeaderStuck",15),w=u(e,"toggleHeader",3,!1),U=u(e,"stickyHeaderTop",19,(()=>-.5)),j=u(e,"toggle",15);function A(a){H(a)}const v=Z(l()),de=me(v,(a=>a)),I=Z(p());h((()=>{v.set(l())})),h((()=>{I.set(p())})),h((()=>v.subscribe((a=>{a!==l()&&l(a)})))),h((()=>I.subscribe((a=>{a!==p()&&p(a)})))),h((()=>{p()||v.set(!0)}));let E,B=$e(!1);function J(a){p()?v.set(a):v.set(!0)}function N(){J(!l())}h((()=>{l()?ee((()=>(clearTimeout(E),void(E=setTimeout((()=>{se(B,!1)}),200))))):ee((()=>(clearTimeout(E),void se(B,!0))))})),j(N),ge(re,{collapsed:de,setCollapsed:J,toggle:N,expandable:I});var S=Be();let P,Q;var T=f(S);let q;var y=f(T);let G;y.__click=function(...a){(w()?j():void 0)?.apply(this,a)};var pe=f(y);F(pe,(()=>e.header??ae)),Ce(T,((a,z)=>(function(_,m){const{onStuck:M,onUnstuck:O,offset:x=0}=m,t=document.createElement("div");t.style.position="absolute",t.style.top=x?`${x}px`:"0",t.style.height="1px",t.style.width="100%",t.style.pointerEvents="none",t.style.opacity="0",t.style.zIndex="-1";const c=_.parentNode;if(!c)return{update:()=>{},destroy:()=>{}};window.getComputedStyle(c).position==="static"&&(c.style.position="relative"),c.insertBefore(t,_);const k=new IntersectionObserver((([b])=>{b.isIntersecting?O?.():M?.()}),{threshold:0,rootMargin:"-1px 0px 0px 0px"});return k.observe(t),{update(b){m.onStuck=b.onStuck,m.onUnstuck=b.onUnstuck,b.offset!==void 0&&b.offset!==x&&(t.style.top=`${b.offset}px`)},destroy(){k.disconnect(),t.remove()}}})(a,z)),(()=>({offset:-U(),onStuck:()=>{A(!0)},onUnstuck:()=>{A(!1)}})));var L=te(T,2);let W;var ue=f(L),ve=f(ue),be=a=>{var z=Ee(),_=V(z),m=f(_),M=t=>{var c=ie(),k=V(c);F(k,(()=>e.children??ae)),$(t,c)};D(m,(t=>{Se(B)&&t(M)}));var O=te(_,2),x=t=>{var c=Ue(),k=f(c);F(k,(()=>e.footer)),$(t,c)};D(O,(t=>{e.footer&&t(x)})),$(a,z)};D(ve,(a=>{i()&&a(be)})),xe((()=>{P=C(S,1,we(["c-collapsible",e.class]),"svelte-12ak5na",P,{"is-collapsed":s(),"is-expandable":i()}),Q=Ie(S,"",Q,{"--sticky-header-top":`${U()}px`}),q=C(T,1,"c-collapsible__header svelte-12ak5na",null,q,{"is-sticky":n()}),G=C(y,1,"c-collapsible__header-inner svelte-12ak5na",null,G,{"is-collapsed":s(),"is-header-stuck":H()??!1,"has-header-padding":U()>0}),K(y,"role",w()?"button":void 0),K(y,"aria-expanded",w()?!s():void 0),K(y,"aria-controls",w()?"collapsible-content":void 0),W=C(L,1,"c-collapsible__content svelte-12ak5na",null,W,{"is-collapsed":s()})})),$(r,S),ne(),o()}function Me(r,e){const s=u(e,"collapsed",3,!0);var i=ie(),d=V(i),o=n=>{oe(n,{name:"chevrons-up-down",size:1})},l=n=>{oe(n,{name:"chevrons-down-up",size:1})};D(d,(n=>{s()?n(o):n(l,!1)})),$(r,i)}function Xe(r,e){le(e,!0);const s=()=>R(l,"$collapsed",i),[i,d]=ce(),o=ze(e,["$$slots","$$events","$$legacy","class"]),{collapsed:l,setCollapsed:n}=He();De(r,Te({variant:"ghost-block",color:"neutral",size:.5,onclick:function(){n(!s())},get class(){return e.class}},(()=>o),{children:(p,H)=>{Me(p,{get collapsed(){return s()}})},$$slots:{default:!0}})),ne(),d()}_e(["click"]);export{Ve as C,Xe as a,Me as b,He as g,Re as k};
//# sourceMappingURL=CollapseButtonAugment-D7C6pQtq.js.map
