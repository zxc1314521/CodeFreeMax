import{_ as bt}from"./SimpleMonaco-BBDXOnfl.js";import{m as dt,f as Yf,d as qf}from"./min-BK871UjU.js";import{b as Xf,j as Qf,d as Zf,l as Jf,r as Oo,m as Ts}from"./_baseUniq-D51PL97z.js";import{b5 as eh}from"./mermaid-BF5da6U1.js";try{Wt=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(_o=new Wt.Error().stack)&&(Wt._sentryDebugIds=Wt._sentryDebugIds||{},Wt._sentryDebugIds[_o]="7b562711-8d10-4a8c-9b79-3616959e5b08",Wt._sentryDebugIdIdentifier="sentry-dbid-7b562711-8d10-4a8c-9b79-3616959e5b08")}catch{}var Wt,_o;function he(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function Ye(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function gi(t){return typeof t=="object"&&t!==null&&he(t.container)&&Ye(t.reference)&&typeof t.message=="string"}class _u{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,n){return he(e)&&this.isSubtype(e.$type,n)}isSubtype(e,n){if(e===n)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});const i=r[n];if(i!==void 0)return i;{const s=this.computeIsSubtype(e,n);return r[n]=s,s}}getAllSubTypes(e){const n=this.allSubtypes[e];if(n)return n;{const r=this.getAllTypes(),i=[];for(const s of r)this.isSubtype(s,e)&&i.push(s);return this.allSubtypes[e]=i,i}}}function kr(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function Ou(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function Lu(t){return kr(t)&&typeof t.fullText=="string"}class le{constructor(e,n){this.startFn=e,this.nextFn=n}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const e=this.iterator();let n=0,r=e.next();for(;!r.done;)n++,r=e.next();return n}toArray(){const e=[],n=this.iterator();let r;do r=n.next(),r.value!==void 0&&e.push(r.value);while(!r.done);return e}toSet(){return new Set(this)}toMap(e,n){const r=this.map((i=>[e?e(i):i,n?n(i):i]));return new Map(r)}toString(){return this.join()}concat(e){return new le((()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()})),(n=>{let r;if(!n.firstDone){do if(r=this.nextFn(n.first),!r.done)return r;while(!r.done);n.firstDone=!0}do if(r=n.iterator.next(),!r.done)return r;while(!r.done);return xe}))}join(e=","){const n=this.iterator();let r,i="",s=!1;do r=n.next(),r.done||(s&&(i+=e),i+=th(r.value)),s=!0;while(!r.done);return i}indexOf(e,n=0){const r=this.iterator();let i=0,s=r.next();for(;!s.done;){if(i>=n&&s.value===e)return i;s=r.next(),i++}return-1}every(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(!e(r.value))return!1;r=n.next()}return!0}some(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(e(r.value))return!0;r=n.next()}return!1}forEach(e){const n=this.iterator();let r=0,i=n.next();for(;!i.done;)e(i.value,r),i=n.next(),r++}map(e){return new le(this.startFn,(n=>{const{done:r,value:i}=this.nextFn(n);return r?xe:{done:!1,value:e(i)}}))}filter(e){return new le(this.startFn,(n=>{let r;do if(r=this.nextFn(n),!r.done&&e(r.value))return r;while(!r.done);return xe}))}nonNullable(){return this.filter((e=>e!=null))}reduce(e,n){const r=this.iterator();let i=n,s=r.next();for(;!s.done;)i=i===void 0?s.value:e(i,s.value),s=r.next();return i}reduceRight(e,n){return this.recursiveReduce(this.iterator(),e,n)}recursiveReduce(e,n,r){const i=e.next();if(i.done)return r;const s=this.recursiveReduce(e,n,r);return s===void 0?i.value:n(s,i.value)}find(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(e(r.value))return r.value;r=n.next()}}findIndex(e){const n=this.iterator();let r=0,i=n.next();for(;!i.done;){if(e(i.value))return r;i=n.next(),r++}return-1}includes(e){const n=this.iterator();let r=n.next();for(;!r.done;){if(r.value===e)return!0;r=n.next()}return!1}flatMap(e){return new le((()=>({this:this.startFn()})),(n=>{do{if(n.iterator){const s=n.iterator.next();if(!s.done)return s;n.iterator=void 0}const{done:r,value:i}=this.nextFn(n.this);if(!r){const s=e(i);if(!_i(s))return{done:!1,value:s};n.iterator=s[Symbol.iterator]()}}while(n.iterator);return xe}))}flat(e){if(e===void 0&&(e=1),e<=0)return this;const n=e>1?this.flat(e-1):this;return new le((()=>({this:n.startFn()})),(r=>{do{if(r.iterator){const a=r.iterator.next();if(!a.done)return a;r.iterator=void 0}const{done:i,value:s}=n.nextFn(r.this);if(!i){if(!_i(s))return{done:!1,value:s};r.iterator=s[Symbol.iterator]()}}while(r.iterator);return xe}))}head(){const e=this.iterator().next();if(!e.done)return e.value}tail(e=1){return new le((()=>{const n=this.startFn();for(let r=0;r<e;r++)if(this.nextFn(n).done)return n;return n}),this.nextFn)}limit(e){return new le((()=>({size:0,state:this.startFn()})),(n=>(n.size++,n.size>e?xe:this.nextFn(n.state))))}distinct(e){return new le((()=>({set:new Set,internalState:this.startFn()})),(n=>{let r;do if(r=this.nextFn(n.internalState),!r.done){const i=e?e(r.value):r.value;if(!n.set.has(i))return n.set.add(i),r}while(!r.done);return xe}))}exclude(e,n){const r=new Set;for(const i of e){const s=n?n(i):i;r.add(s)}return this.filter((i=>{const s=n?n(i):i;return!r.has(s)}))}}function th(t){return typeof t=="string"?t:t===void 0?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function _i(t){return!!t&&typeof t[Symbol.iterator]=="function"}const nh=new le((()=>{}),(()=>xe)),xe=Object.freeze({done:!0,value:void 0});function ce(...t){if(t.length===1){const e=t[0];if(e instanceof le)return e;if(_i(e))return new le((()=>e[Symbol.iterator]()),(n=>n.next()));if(typeof e.length=="number")return new le((()=>({index:0})),(n=>n.index<e.length?{done:!1,value:e[n.index++]}:xe))}return t.length>1?new le((()=>({collIndex:0,arrIndex:0})),(e=>{do{if(e.iterator){const n=e.iterator.next();if(!n.done)return n;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){const n=t[e.collIndex++];_i(n)?e.iterator=n[Symbol.iterator]():n&&typeof n.length=="number"&&(e.array=n)}}while(e.iterator||e.array||e.collIndex<t.length);return xe})):nh}class za extends le{constructor(e,n,r){super((()=>({iterators:r?.includeRoot?[[e][Symbol.iterator]()]:[n(e)[Symbol.iterator]()],pruned:!1})),(i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){const s=i.iterators[i.iterators.length-1].next();if(!s.done)return i.iterators.push(n(s.value)[Symbol.iterator]()),s;i.iterators.pop()}return xe}))}iterator(){const e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}var Ta,it;function Ra(t){return new za(t,(e=>kr(e)?e.content:[]),{includeRoot:!0})}function $a(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function Oi(t){if(!t)return;const{offset:e,end:n,range:r}=t;return{range:r,offset:e,end:n,length:n-e}}function rh(t,e){return(function(r,i){if(r.end.line<i.start.line||r.end.line===i.start.line&&r.end.character<=i.start.character)return it.Before;if(r.start.line>i.end.line||r.start.line===i.end.line&&r.start.character>=i.end.character)return it.After;const s=r.start.line>i.start.line||r.start.line===i.start.line&&r.start.character>=i.start.character,a=r.end.line<i.end.line||r.end.line===i.end.line&&r.end.character<=i.end.character;return s&&a?it.Inside:s?it.OverlapBack:a?it.OverlapFront:it.Outside})(t,e)>it.After}(function(t){t.sum=function(e){return e.reduce(((n,r)=>n+r),0)},t.product=function(e){return e.reduce(((n,r)=>n*r),0)},t.min=function(e){return e.reduce(((n,r)=>Math.min(n,r)))},t.max=function(e){return e.reduce(((n,r)=>Math.max(n,r)))}})(Ta||(Ta={})),(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside",t[t.Outside=5]="Outside"})(it||(it={}));const ih=/^[\w\p{L}]$/u;function sh(t,e){if(t){const n=(function(r,i=!0){for(;r.container;){const s=r.container;let a=s.content.indexOf(r);for(;a>0;){a--;const o=s.content[a];if(i||!o.hidden)return o}r=s}})(t,!0);if(n&&Lo(n,e))return n;if(Lu(t)){const r=t.content.findIndex((i=>!i.hidden));for(let i=r-1;i>=0;i--){const s=t.content[i];if(Lo(s,e))return s}}}}function Lo(t,e){return Ou(t)&&e.includes(t.tokenType.name)}class Po extends Error{constructor(e,n){super(e?`${n} at ${e.range.start.line}:${e.range.start.character}`:n)}}function Cr(t){throw new Error("Error! The input value was not handled.")}const Dr="AbstractRule",Ur="AbstractType",Rs="Condition",Mo="TypeDefinition",$s="ValueLiteral",Dn="AbstractElement",Fr="ArrayLiteral",jr="ArrayType",Un="BooleanLiteral",Fn="Conjunction",jn="Disjunction",Gr="Grammar",Es="GrammarImport",Gn="InferredType";function Pu(t){return j.isInstance(t,Gn)}const Bn="Interface";function Mu(t){return j.isInstance(t,Bn)}const As="NamedArgument",Kn="Negation",Br="NumberLiteral",Kr="Parameter",Vn="ParameterReference",Hn="ParserRule";function Le(t){return j.isInstance(t,Hn)}const Vr="ReferenceType",yi="ReturnType",zn="SimpleType",Hr="StringLiteral",Jt="TerminalRule";function Dt(t){return j.isInstance(t,Jt)}const Wn="Type";function Du(t){return j.isInstance(t,Wn)}const ks="TypeAttribute",zr="UnionType",Yn="Action";function Zi(t){return j.isInstance(t,Yn)}const qn="Alternatives";function Uu(t){return j.isInstance(t,qn)}const Xn="Assignment";function Ut(t){return j.isInstance(t,Xn)}const Qn="CharacterRange",Zn="CrossReference";function Wa(t){return j.isInstance(t,Zn)}const Jn="EndOfFile",er="Group";function Ya(t){return j.isInstance(t,er)}const tr="Keyword";function Ft(t){return j.isInstance(t,tr)}const nr="NegatedToken",rr="RegexToken",ir="RuleCall";function jt(t){return j.isInstance(t,ir)}const sr="TerminalAlternatives",ar="TerminalGroup",or="TerminalRuleCall",lr="UnorderedGroup";function Fu(t){return j.isInstance(t,lr)}const cr="UntilToken",ur="Wildcard";class ju extends _u{getAllTypes(){return[Dn,Dr,Ur,Yn,qn,Fr,jr,Xn,Un,Qn,Rs,Fn,Zn,jn,Jn,Gr,Es,er,Gn,Bn,tr,As,nr,Kn,Br,Kr,Vn,Hn,Vr,rr,yi,ir,zn,Hr,sr,ar,Jt,or,Wn,ks,Mo,zr,lr,cr,$s,ur]}computeIsSubtype(e,n){switch(e){case Yn:case qn:case Xn:case Qn:case Zn:case Jn:case er:case tr:case nr:case rr:case ir:case sr:case ar:case or:case lr:case cr:case ur:return this.isSubtype(Dn,n);case Fr:case Br:case Hr:return this.isSubtype($s,n);case jr:case Vr:case zn:case zr:return this.isSubtype(Mo,n);case Un:return this.isSubtype(Rs,n)||this.isSubtype($s,n);case Fn:case jn:case Kn:case Vn:return this.isSubtype(Rs,n);case Gn:case Bn:case Wn:return this.isSubtype(Ur,n);case Hn:return this.isSubtype(Dr,n)||this.isSubtype(Ur,n);case Jt:return this.isSubtype(Dr,n);default:return!1}}getReferenceType(e){const n=`${e.container.$type}:${e.property}`;switch(n){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Ur;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return Dr;case"Grammar:usedGrammars":return Gr;case"NamedArgument:parameter":case"ParameterReference:parameter":return Kr;case"TerminalRuleCall:rule":return Jt;default:throw new Error(`${n} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case Dn:return{name:Dn,properties:[{name:"cardinality"},{name:"lookahead"}]};case Fr:return{name:Fr,properties:[{name:"elements",defaultValue:[]}]};case jr:return{name:jr,properties:[{name:"elementType"}]};case Un:return{name:Un,properties:[{name:"true",defaultValue:!1}]};case Fn:return{name:Fn,properties:[{name:"left"},{name:"right"}]};case jn:return{name:jn,properties:[{name:"left"},{name:"right"}]};case Gr:return{name:Gr,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case Es:return{name:Es,properties:[{name:"path"}]};case Gn:return{name:Gn,properties:[{name:"name"}]};case Bn:return{name:Bn,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case As:return{name:As,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case Kn:return{name:Kn,properties:[{name:"value"}]};case Br:return{name:Br,properties:[{name:"value"}]};case Kr:return{name:Kr,properties:[{name:"name"}]};case Vn:return{name:Vn,properties:[{name:"parameter"}]};case Hn:return{name:Hn,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case Vr:return{name:Vr,properties:[{name:"referenceType"}]};case yi:return{name:yi,properties:[{name:"name"}]};case zn:return{name:zn,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Hr:return{name:Hr,properties:[{name:"value"}]};case Jt:return{name:Jt,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case Wn:return{name:Wn,properties:[{name:"name"},{name:"type"}]};case ks:return{name:ks,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case zr:return{name:zr,properties:[{name:"types",defaultValue:[]}]};case Yn:return{name:Yn,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case qn:return{name:qn,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Xn:return{name:Xn,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Qn:return{name:Qn,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Zn:return{name:Zn,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case Jn:return{name:Jn,properties:[{name:"cardinality"},{name:"lookahead"}]};case er:return{name:er,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case tr:return{name:tr,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case nr:return{name:nr,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case rr:return{name:rr,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case ir:return{name:ir,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case sr:return{name:sr,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case ar:return{name:ar,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case or:return{name:or,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case lr:return{name:lr,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case cr:return{name:cr,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case ur:return{name:ur,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}const j=new ju;function Ji(t,e){let n=t;for(;n;){if(e(n))return n;n=n.$container}}function Tt(t){const e=Ea(t).$document;if(!e)throw new Error("AST node has no document.");return e}function Ea(t){for(;t.$container;)t=t.$container;return t}function qa(t,e){if(!t)throw new Error("Node must be an AstNode.");const n=e?.range;return new le((()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0})),(r=>{for(;r.keyIndex<r.keys.length;){const i=r.keys[r.keyIndex];if(!i.startsWith("$")){const s=t[i];if(he(s)){if(r.keyIndex++,Do(s,n))return{done:!1,value:s}}else if(Array.isArray(s)){for(;r.arrayIndex<s.length;){const a=s[r.arrayIndex++];if(he(a)&&Do(a,n))return{done:!1,value:a}}r.arrayIndex=0}}r.keyIndex++}return xe}))}function Nr(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new za(t,(n=>qa(n,e)))}function nn(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new za(t,(n=>qa(n,e)),{includeRoot:!0})}function Do(t,e){var n;if(!e)return!0;const r=(n=t.$cstNode)===null||n===void 0?void 0:n.range;return!!r&&rh(r,e)}function Gu(t){return new le((()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0})),(e=>{for(;e.keyIndex<e.keys.length;){const n=e.keys[e.keyIndex];if(!n.startsWith("$")){const r=t[n];if(Ye(r))return e.keyIndex++,{done:!1,value:{reference:r,container:t,property:n}};if(Array.isArray(r)){for(;e.arrayIndex<r.length;){const i=e.arrayIndex++,s=r[i];if(Ye(s))return{done:!1,value:{reference:s,container:t,property:n,index:i}}}e.arrayIndex=0}}e.keyIndex++}return xe}))}function Bu(t){return Array.isArray(t)?[...t.map(Bu)]:t}function N(t){return t.charCodeAt(0)}function xs(t,e){Array.isArray(t)?t.forEach((function(n){e.push(n)})):e.push(t)}function Cn(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function Yt(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function Uo(t){return t.type==="Character"}const Li=[];for(let t=N("0");t<=N("9");t++)Li.push(t);const Pi=[N("_")].concat(Li);for(let t=N("a");t<=N("z");t++)Pi.push(t);for(let t=N("A");t<=N("Z");t++)Pi.push(t);const Fo=[N(" "),N("\f"),N(`
`),N("\r"),N("	"),N("\v"),N("	"),N(" "),N(" "),N(" "),N(" "),N(" "),N(" "),N(" "),N(" "),N(" "),N(" "),N(" "),N(" "),N(" "),N("\u2028"),N("\u2029"),N(" "),N(" "),N("　"),N("\uFEFF")],ah=/[0-9a-fA-F]/,Wr=/[0-9]/,oh=/[1-9]/;class Ku{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Cn(r,"global");break;case"i":Cn(r,"ignoreCase");break;case"m":Cn(r,"multiLine");break;case"u":Cn(r,"unicode");break;case"y":Cn(r,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let n;switch(this.consumeChar("?"),this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead"}Yt(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return(function(){throw Error("Internal Error - Should never get here!")})()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:i,atMost:s}):n={atLeast:i,atMost:1/0},this.consumeChar("}")}if(e===!0&&n===void 0)return;Yt(n)}if(e!==!0||n!==void 0)return Yt(n)?(this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n):void 0}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Yt(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[N(`
`),N("\r"),N("\u2028"),N("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=Li;break;case"D":e=Li,n=!0;break;case"s":e=Fo;break;case"S":e=Fo,n=!0;break;case"w":e=Pi;break;case"W":e=Pi,n=!0}if(Yt(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=N("\f");break;case"n":e=N(`
`);break;case"r":e=N("\r");break;case"t":e=N("	");break;case"v":e=N("\v")}if(Yt(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:N("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:N(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:N(this.popChar())}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,Uo(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,Uo(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else xs(r.value,e),e.push(N("-")),xs(i.value,e)}else xs(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:N("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;this.consumeChar("("),this.peekChar(0)==="?"?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(oh.test(e)===!1)throw Error("Expecting a positive integer");for(;Wr.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(Wr.test(e)===!1)throw Error("Expecting an integer");for(;Wr.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:N(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Wr.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let r=0;r<e;r++){const i=this.popChar();if(ah.test(i)===!1)throw Error("Expecting a HexDecimal digits");n+=i}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class Mi{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach((i=>{this.visit(i)}),this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}const lh=/\r?\n/gm,ch=new Ku,Ss=new class extends Mi{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(t){const e=String.fromCharCode(t.value);if(this.multiline||e!==`
`||(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const n=es(e);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(t){if(!this.multiline){const e=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(e);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const e=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexpStack.push(e),this.isStarting&&(this.startRegexp+=e)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}};function uh(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),Ss.reset(t),Ss.visit(ch.pattern(t)),Ss.multiline}catch{return!1}}const dh=`\f
\r	\v              \u2028\u2029  　\uFEFF`.split("");function Aa(t){const e=typeof t=="string"?new RegExp(t):t;return dh.some((n=>e.test(n)))}function es(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fh(t,e){const n=(function(i){typeof i=="string"&&(i=new RegExp(i));const s=i,a=i.source;let o=0;function l(){let c,u="";function f(h){u+=a.substr(o,h),o+=h}function d(h){u+="(?:"+a.substr(o,h)+"|$)",o+=h}for(;o<a.length;)switch(a[o]){case"\\":switch(a[o+1]){case"c":d(3);break;case"x":d(4);break;case"u":s.unicode?a[o+2]==="{"?d(a.indexOf("}",o)-o+1):d(6):d(2);break;case"p":case"P":s.unicode?d(a.indexOf("}",o)-o+1):d(2);break;case"k":d(a.indexOf(">",o)-o+1);break;default:d(2)}break;case"[":c=/\[(?:\\.|.)*?\]/g,c.lastIndex=o,c=c.exec(a)||[],d(c[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":f(1);break;case"{":c=/\{\d+,?\d*\}/g,c.lastIndex=o,c=c.exec(a),c?f(c[0].length):d(1);break;case"(":if(a[o+1]==="?")switch(a[o+2]){case":":u+="(?:",o+=3,u+=l()+"|$)";break;case"=":u+="(?=",o+=3,u+=l()+")";break;case"!":c=o,o+=3,l(),u+=a.substr(c,o-c);break;case"<":switch(a[o+3]){case"=":case"!":c=o,o+=4,l(),u+=a.substr(c,o-c);break;default:f(a.indexOf(">",o)-o+1),u+=l()+"|$)"}}else f(1),u+=l()+"|$)";break;case")":return++o,u;default:d(1)}return u}return new RegExp(l(),i.flags)})(t),r=e.match(n);return!!r&&r[0].length>0}function Vu(t,e){const n=new Set,r=(function(a){return a.rules.find((o=>Le(o)&&o.entry))})(t);if(!r)return new Set(t.rules);const i=[r].concat((function(a){return a.rules.filter((o=>Dt(o)&&o.hidden))})(t));for(const a of i)Hu(a,n,e);const s=new Set;for(const a of t.rules)(n.has(a.name)||Dt(a)&&a.hidden)&&s.add(a);return s}function Hu(t,e,n){e.add(t.name),Nr(t).forEach((r=>{if(jt(r)||n){const i=r.rule.ref;i&&!e.has(i.name)&&Hu(i,e,n)}}))}function zu(t,e,n){if(!t||!e)return;const r=Xa(t,e,t.astNode,!0);return r.length!==0?r[n=n!==void 0?Math.max(0,Math.min(n,r.length-1)):0]:void 0}function Xa(t,e,n,r){if(!r){const i=Ji(t.grammarSource,Ut);if(i&&i.feature===e)return[t]}return kr(t)&&t.astNode===n?t.content.flatMap((i=>Xa(i,e,n,!1))):[]}function hh(t,e,n){if(!t)return;const r=(function(i,s,a){if(i.astNode!==a)return[];if(Ft(i.grammarSource)&&i.grammarSource.value===s)return[i];const o=Ra(i).iterator();let l;const c=[];do if(l=o.next(),!l.done){const u=l.value;u.astNode===a?Ft(u.grammarSource)&&u.grammarSource.value===s&&c.push(u):o.prune()}while(!l.done);return c})(t,e,t?.astNode);return r.length!==0?r[n=n!==void 0?Math.max(0,Math.min(n,r.length-1)):0]:void 0}function Wu(t){let e=t;return Pu(e)&&(Zi(e.$container)?e=e.$container.$container:Le(e.$container)?e=e.$container:Cr(e.$container)),Yu(t,e,new Map)}function Yu(t,e,n){var r,i;function s(a,o){let l;return Ji(a,Ut)||(l=Yu(o,o,n)),n.set(t,l),l}if(n.has(t))return n.get(t);n.set(t,void 0);for(const a of Nr(e)){if(Ut(a)&&a.feature.toLowerCase()==="name")return n.set(t,a),a;if(jt(a)&&Le(a.rule.ref))return s(a,a.rule.ref);if(i=a,j.isInstance(i,zn)&&((r=a.typeRef)===null||r===void 0?void 0:r.ref))return s(a,a.typeRef.ref)}}function qu(t){return Xu(t,new Set)}function Xu(t,e){if(e.has(t))return!0;e.add(t);for(const n of Nr(t))if(jt(n)){if(!n.rule.ref||Le(n.rule.ref)&&!Xu(n.rule.ref,e))return!1}else if(Ut(n)||Zi(n))return!1;return!!t.definition}function Qa(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){const e=t.returnType.ref;if(e&&(Le(e)||Mu(e)||Du(e)))return e.name}}function Za(t){var e,n;if(Le(t))return qu(t)?t.name:(e=Qa(t))!==null&&e!==void 0?e:t.name;if(Mu(t)||Du(t)||(n=t,j.isInstance(n,yi)))return t.name;if(Zi(t)){const r=(function(i){var s;if(i.inferredType)return i.inferredType.name;if(!((s=i.type)===null||s===void 0)&&s.ref)return Za(i.type.ref)})(t);if(r)return r}else if(Pu(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function ka(t){const e={s:!1,i:!1,u:!1},n=en(t.definition,e),r=Object.entries(e).filter((([,i])=>i)).map((([i])=>i)).join("");return new RegExp(n,r)}const Is=/[\s\S]/.source;function en(t,e){if(s=t,j.isInstance(s,sr))return rt((i=t).elements.map((a=>en(a))).join("|"),{cardinality:i.cardinality,lookahead:i.lookahead});if((function(a){return j.isInstance(a,ar)})(t))return rt((r=t).elements.map((a=>en(a))).join(""),{cardinality:r.cardinality,lookahead:r.lookahead});if((function(a){return j.isInstance(a,Qn)})(t))return(function(a){return a.right?rt(`[${ws(a.left)}-${ws(a.right)}]`,{cardinality:a.cardinality,lookahead:a.lookahead,wrap:!1}):rt(ws(a.left),{cardinality:a.cardinality,lookahead:a.lookahead,wrap:!1})})(t);if((function(a){return j.isInstance(a,or)})(t)){const a=t.rule.ref;if(!a)throw new Error("Missing rule reference.");return rt(en(a.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}if((function(a){return j.isInstance(a,nr)})(t))return(function(a){return rt(`(?!${en(a.terminal)})${Is}*?`,{cardinality:a.cardinality,lookahead:a.lookahead})})(t);if((function(a){return j.isInstance(a,cr)})(t))return rt(`${Is}*?${en((n=t).terminal)}`,{cardinality:n.cardinality,lookahead:n.lookahead});if((function(a){return j.isInstance(a,rr)})(t)){const a=t.regex.lastIndexOf("/"),o=t.regex.substring(1,a),l=t.regex.substring(a+1);return e&&(e.i=l.includes("i"),e.s=l.includes("s"),e.u=l.includes("u")),rt(o,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}if((function(a){return j.isInstance(a,ur)})(t))return rt(Is,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t?.$type}`);var n,r,i,s}function ws(t){return es(t.value)}function rt(t,e){var n;return(e.wrap!==!1||e.lookahead)&&(t=`(${(n=e.lookahead)!==null&&n!==void 0?n:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}var Qu=typeof global=="object"&&global&&global.Object===Object&&global,ph=typeof self=="object"&&self&&self.Object===Object&&self,Xe=Qu||ph||Function("return this")(),Pe=Xe.Symbol,Zu=Object.prototype,mh=Zu.hasOwnProperty,gh=Zu.toString,Nn=Pe?Pe.toStringTag:void 0,yh=Object.prototype.toString,vh="[object Null]",Th="[object Undefined]",jo=Pe?Pe.toStringTag:void 0;function Et(t){return t==null?t===void 0?Th:vh:jo&&jo in Object(t)?(function(e){var n=mh.call(e,Nn),r=e[Nn];try{e[Nn]=void 0;var i=!0}catch{}var s=gh.call(e);return i&&(n?e[Nn]=r:delete e[Nn]),s})(t):(function(e){return yh.call(e)})(t)}function Be(t){return t!=null&&typeof t=="object"}var Rh="[object Symbol]";function ts(t){return typeof t=="symbol"||Be(t)&&Et(t)==Rh}function ns(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var U=Array.isArray,Go=Pe?Pe.prototype:void 0,Bo=Go?Go.toString:void 0;function Ju(t){if(typeof t=="string")return t;if(U(t))return ns(t,Ju)+"";if(ts(t))return Bo?Bo.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $h=/\s/,Eh=/^\s+/;function Ah(t){return t&&t.slice(0,(function(e){for(var n=e.length;n--&&$h.test(e.charAt(n)););return n})(t)+1).replace(Eh,"")}function Me(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ko=NaN,kh=/^[-+]0x[0-9a-f]+$/i,xh=/^0b[01]+$/i,Sh=/^0o[0-7]+$/i,Ih=parseInt,Vo=1/0,wh=17976931348623157e292;function bh(t){return t?(t=(function(e){if(typeof e=="number")return e;if(ts(e))return Ko;if(Me(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Me(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Ah(e);var r=xh.test(e);return r||Sh.test(e)?Ih(e.slice(2),r?2:8):kh.test(e)?Ko:+e})(t))===Vo||t===-Vo?(t<0?-1:1)*wh:t==t?t:0:t===0?t:0}function rs(t){var e=bh(t),n=e%1;return e==e?n?e-n:e:0}function kn(t){return t}var Ch="[object AsyncFunction]",Nh="[object Function]",_h="[object GeneratorFunction]",Oh="[object Proxy]";function pt(t){if(!Me(t))return!1;var e=Et(t);return e==Nh||e==_h||e==Ch||e==Oh}var Ho,bs=Xe["__core-js_shared__"],zo=(Ho=/[^.]+$/.exec(bs&&bs.keys&&bs.keys.IE_PROTO||""))?"Symbol(src)_1."+Ho:"",Lh=Function.prototype.toString;function Bt(t){if(t!=null){try{return Lh.call(t)}catch{}try{return t+""}catch{}}return""}var Ph=/^\[object .+?Constructor\]$/,Mh=Function.prototype,Dh=Object.prototype,Uh=Mh.toString,Fh=Dh.hasOwnProperty,jh=RegExp("^"+Uh.call(Fh).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gh(t){return!(!Me(t)||(e=t,zo&&zo in e))&&(pt(t)?jh:Ph).test(Bt(t));var e}function Kt(t,e){var n=(function(r,i){return r?.[i]})(t,e);return Gh(n)?n:void 0}var xa=Kt(Xe,"WeakMap"),Wo=Object.create,Bh=(function(){function t(){}return function(e){if(!Me(e))return{};if(Wo)return Wo(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function re(){}var Kh=Date.now,Yo,Cs,Ns,Di=(function(){try{var t=Kt(Object,"defineProperty");return t({},"",{}),t}catch{}})(),Vh=Di?function(t,e){return Di(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:kn,Hh=(Yo=Vh,Cs=0,Ns=0,function(){var t=Kh(),e=16-(t-Ns);if(Ns=t,e>0){if(++Cs>=800)return arguments[0]}else Cs=0;return Yo.apply(void 0,arguments)});function ed(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function td(t,e,n,r){for(var i=t.length,s=n+-1;++s<i;)if(e(t[s],s,t))return s;return-1}function zh(t){return t!=t}function Ja(t,e,n){return e==e?(function(r,i,s){for(var a=s-1,o=r.length;++a<o;)if(r[a]===i)return a;return-1})(t,e,n):td(t,zh,n)}function nd(t,e){return!!(t!=null&&t.length)&&Ja(t,e,0)>-1}var Wh=9007199254740991,Yh=/^(?:0|[1-9]\d*)$/;function is(t,e){var n=typeof t;return!!(e=e??Wh)&&(n=="number"||n!="symbol"&&Yh.test(t))&&t>-1&&t%1==0&&t<e}function eo(t,e,n){e=="__proto__"&&Di?Di(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function _r(t,e){return t===e||t!=t&&e!=e}var qh=Object.prototype.hasOwnProperty;function ss(t,e,n){var r=t[e];qh.call(t,e)&&_r(r,n)&&(n!==void 0||e in t)||eo(t,e,n)}function dr(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=t[o]),i?eo(n,o,l):ss(n,o,l)}return n}var qo=Math.max;function to(t,e){return Hh((function(n,r,i){return r=qo(r===void 0?n.length-1:r,0),function(){for(var s=arguments,a=-1,o=qo(s.length-r,0),l=Array(o);++a<o;)l[a]=s[r+a];a=-1;for(var c=Array(r+1);++a<r;)c[a]=s[a];return c[r]=i(l),(function(u,f,d){switch(d.length){case 0:return u.call(f);case 1:return u.call(f,d[0]);case 2:return u.call(f,d[0],d[1]);case 3:return u.call(f,d[0],d[1],d[2])}return u.apply(f,d)})(n,this,c)}})(t,e,kn),t+"")}var Xh=9007199254740991;function no(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Xh}function Qe(t){return t!=null&&no(t.length)&&!pt(t)}function rd(t,e,n){if(!Me(n))return!1;var r=typeof e;return!!(r=="number"?Qe(n)&&is(e,n.length):r=="string"&&e in n)&&_r(n[e],t)}var Qh=Object.prototype;function Or(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Qh)}function Xo(t){return Be(t)&&Et(t)=="[object Arguments]"}var id=Object.prototype,Zh=id.hasOwnProperty,Jh=id.propertyIsEnumerable,as=Xo((function(){return arguments})())?Xo:function(t){return Be(t)&&Zh.call(t,"callee")&&!Jh.call(t,"callee")},sd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qo=sd&&typeof module=="object"&&module&&!module.nodeType&&module,Zo=Qo&&Qo.exports===sd?Xe.Buffer:void 0,xr=(Zo?Zo.isBuffer:void 0)||function(){return!1},V={};function os(t){return function(e){return t(e)}}V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1;var ad=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tr=ad&&typeof module=="object"&&module&&!module.nodeType&&module,_s=Tr&&Tr.exports===ad&&Qu.process,Rt=(function(){try{var t=Tr&&Tr.require&&Tr.require("util").types;return t||_s&&_s.binding&&_s.binding("util")}catch{}})(),Jo=Rt&&Rt.isTypedArray,ro=Jo?os(Jo):function(t){return Be(t)&&no(t.length)&&!!V[Et(t)]},ep=Object.prototype.hasOwnProperty;function od(t,e){var n=U(t),r=!n&&as(t),i=!n&&!r&&xr(t),s=!n&&!r&&!i&&ro(t),a=n||r||i||s,o=a?(function(u,f){for(var d=-1,h=Array(u);++d<u;)h[d]=f(d);return h})(t.length,String):[],l=o.length;for(var c in t)!e&&!ep.call(t,c)||a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||is(c,l))||o.push(c);return o}function ld(t,e){return function(n){return t(e(n))}}var tp=ld(Object.keys,Object),np=Object.prototype.hasOwnProperty;function cd(t){if(!Or(t))return tp(t);var e=[];for(var n in Object(t))np.call(t,n)&&n!="constructor"&&e.push(n);return e}function De(t){return Qe(t)?od(t):cd(t)}var Os,rp=Object.prototype.hasOwnProperty,Ie=(Os=function(t,e){if(Or(e)||Qe(e))dr(e,De(e),t);else for(var n in e)rp.call(e,n)&&ss(t,n,e[n])},to((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,s=r>2?e[2]:void 0;for(i=Os.length>3&&typeof i=="function"?(r--,i):void 0,s&&rd(e[0],e[1],s)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&Os(t,a,n,i)}return t}))),ip=Object.prototype.hasOwnProperty;function sp(t){if(!Me(t))return(function(i){var s=[];if(i!=null)for(var a in Object(i))s.push(a);return s})(t);var e=Or(t),n=[];for(var r in t)(r!="constructor"||!e&&ip.call(t,r))&&n.push(r);return n}function io(t){return Qe(t)?od(t,!0):sp(t)}var ap=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,op=/^\w*$/;function so(t,e){if(U(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!ts(t))||op.test(t)||!ap.test(t)||e!=null&&t in Object(e)}var _n=Kt(Object,"create"),lp=Object.prototype.hasOwnProperty,cp=Object.prototype.hasOwnProperty;function Lt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yr(t,e){for(var n=t.length;n--;)if(_r(t[n][0],e))return n;return-1}Lt.prototype.clear=function(){this.__data__=_n?_n(null):{},this.size=0},Lt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Lt.prototype.get=function(t){var e=this.__data__;if(_n){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return lp.call(e,t)?e[t]:void 0},Lt.prototype.has=function(t){var e=this.__data__;return _n?e[t]!==void 0:cp.call(e,t)},Lt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_n&&e===void 0?"__lodash_hash_undefined__":e,this};var up=Array.prototype.splice;function lt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lt.prototype.clear=function(){this.__data__=[],this.size=0},lt.prototype.delete=function(t){var e=this.__data__,n=Yr(e,t);return!(n<0)&&(n==e.length-1?e.pop():up.call(e,n,1),--this.size,!0)},lt.prototype.get=function(t){var e=this.__data__,n=Yr(e,t);return n<0?void 0:e[n][1]},lt.prototype.has=function(t){return Yr(this.__data__,t)>-1},lt.prototype.set=function(t,e){var n=this.__data__,r=Yr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Sr=Kt(Xe,"Map");function qr(t,e){var n,r,i=t.__data__;return((r=typeof(n=e))=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null)?i[typeof e=="string"?"string":"hash"]:i.map}function ct(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ct.prototype.clear=function(){this.size=0,this.__data__={hash:new Lt,map:new(Sr||lt),string:new Lt}},ct.prototype.delete=function(t){var e=qr(this,t).delete(t);return this.size-=e?1:0,e},ct.prototype.get=function(t){return qr(this,t).get(t)},ct.prototype.has=function(t){return qr(this,t).has(t)},ct.prototype.set=function(t,e){var n=qr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var dp="Expected a function";function ao(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dp);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(ao.Cache||ct),n}ao.Cache=ct;var fp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hp=/\\(\\)?/g,pp=(function(t){var e=ao(t,(function(r){return n.size===500&&n.clear(),r})),n=e.cache;return e})((function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fp,(function(n,r,i,s){e.push(i?s.replace(hp,"$1"):r||n)})),e}));function ls(t,e){return U(t)?t:so(t,e)?[t]:pp((function(n){return n==null?"":Ju(n)})(t))}function Lr(t){if(typeof t=="string"||ts(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function oo(t,e){for(var n=0,r=(e=ls(e,t)).length;t!=null&&n<r;)t=t[Lr(e[n++])];return n&&n==r?t:void 0}function lo(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var el=Pe?Pe.isConcatSpreadable:void 0;function mp(t){return U(t)||as(t)||!!(el&&t&&t[el])}function co(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=mp),i||(i=[]);++s<a;){var o=t[s];n(o)?lo(i,o):r||(i[i.length]=o)}return i}function je(t){return t!=null&&t.length?co(t):[]}var ud=ld(Object.getPrototypeOf,Object);function dd(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function gp(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function We(t){var e=this.__data__=new lt(t);this.size=e.size}We.prototype.clear=function(){this.__data__=new lt,this.size=0},We.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},We.prototype.get=function(t){return this.__data__.get(t)},We.prototype.has=function(t){return this.__data__.has(t)},We.prototype.set=function(t,e){var n=this.__data__;if(n instanceof lt){var r=n.__data__;if(!Sr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ct(r)}return n.set(t,e),this.size=n.size,this};var fd=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tl=fd&&typeof module=="object"&&module&&!module.nodeType&&module,nl=tl&&tl.exports===fd?Xe.Buffer:void 0,rl=nl?nl.allocUnsafe:void 0;function uo(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}function hd(){return[]}var yp=Object.prototype.propertyIsEnumerable,il=Object.getOwnPropertySymbols,fo=il?function(t){return t==null?[]:(t=Object(t),uo(il(t),(function(e){return yp.call(t,e)})))}:hd,pd=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)lo(e,fo(t)),t=ud(t);return e}:hd;function md(t,e,n){var r=e(t);return U(t)?r:lo(r,n(t))}function Sa(t){return md(t,De,fo)}var Ia=Kt(Xe,"DataView"),wa=Kt(Xe,"Promise"),rn=Kt(Xe,"Set"),sl="[object Map]",al="[object Promise]",ol="[object Set]",ll="[object WeakMap]",cl="[object DataView]",vp=Bt(Ia),Tp=Bt(Sr),Rp=Bt(wa),$p=Bt(rn),Ep=Bt(xa),_e=Et;(Ia&&_e(new Ia(new ArrayBuffer(1)))!=cl||Sr&&_e(new Sr)!=sl||wa&&_e(wa.resolve())!=al||rn&&_e(new rn)!=ol||xa&&_e(new xa)!=ll)&&(_e=function(t){var e=Et(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Bt(n):"";if(r)switch(r){case vp:return cl;case Tp:return sl;case Rp:return al;case $p:return ol;case Ep:return ll}return e});var Ap=Object.prototype.hasOwnProperty,Ui=Xe.Uint8Array,kp=/\w*$/,ul=Pe?Pe.prototype:void 0,dl=ul?ul.valueOf:void 0,xp="[object Boolean]",Sp="[object Date]",Ip="[object Map]",wp="[object Number]",bp="[object RegExp]",Cp="[object Set]",Np="[object String]",_p="[object Symbol]",Op="[object ArrayBuffer]",Lp="[object DataView]",Pp="[object Float32Array]",Mp="[object Float64Array]",Dp="[object Int8Array]",Up="[object Int16Array]",Fp="[object Int32Array]",jp="[object Uint8Array]",Gp="[object Uint8ClampedArray]",Bp="[object Uint16Array]",Kp="[object Uint32Array]";function Vp(t,e,n){var r,i,s,a,o,l=t.constructor;switch(e){case Op:return o=new(a=t).constructor(a.byteLength),new Ui(o).set(new Ui(a)),o;case xp:case Sp:return new l(+t);case Lp:return s=(i=t).buffer,new i.constructor(s,i.byteOffset,i.byteLength);case Pp:case Mp:case Dp:case Up:case Fp:case jp:case Gp:case Bp:case Kp:return(function(c,u){var f=c.buffer;return new c.constructor(f,c.byteOffset,c.length)})(t);case Ip:return new l;case wp:case Np:return new l(t);case bp:return(function(c){var u=new c.constructor(c.source,kp.exec(c));return u.lastIndex=c.lastIndex,u})(t);case Cp:return new l;case _p:return r=t,dl?Object(dl.call(r)):{}}}var fl=Rt&&Rt.isMap,Hp=fl?os(fl):function(t){return Be(t)&&_e(t)=="[object Map]"},hl=Rt&&Rt.isSet,zp=hl?os(hl):function(t){return Be(t)&&_e(t)=="[object Set]"},Wp=2,gd="[object Arguments]",yd="[object Function]",Yp="[object GeneratorFunction]",vd="[object Object]",B={};function vi(t,e,n,r,i,s){var a,o=e&Wp;if(a!==void 0)return a;if(!Me(t))return t;var l=U(t);if(l)return a=(function(h){var p=h.length,m=new h.constructor(p);return p&&typeof h[0]=="string"&&Ap.call(h,"index")&&(m.index=h.index,m.input=h.input),m})(t),(function(h,p){var m=-1,T=h.length;for(p||(p=Array(T));++m<T;)p[m]=h[m];return p})(t,a);var c=_e(t),u=c==yd||c==Yp;if(xr(t))return(function(h,p){var m=h.length,T=rl?rl(m):new h.constructor(m);return h.copy(T),T})(t);if(c==vd||c==gd||u&&!i)return a=u?{}:(function(h){return typeof h.constructor!="function"||Or(h)?{}:Bh(ud(h))})(t),o?(function(h,p){return dr(h,pd(h),p)})(t,(function(h,p){return h&&dr(p,io(p),h)})(a,t)):(function(h,p){return dr(h,fo(h),p)})(t,(function(h,p){return h&&dr(p,De(p),h)})(a,t));if(!B[c])return i?t:{};a=Vp(t,c),s||(s=new We);var f=s.get(t);if(f)return f;s.set(t,a),zp(t)?t.forEach((function(h){a.add(vi(h,e,n,h,t,s))})):Hp(t)&&t.forEach((function(h,p){a.set(p,vi(h,e,n,p,t,s))}));var d=l?void 0:Sa(t);return ed(d||t,(function(h,p){d&&(h=t[p=h]),ss(a,p,vi(h,e,n,p,t,s))})),a}B[gd]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object DataView]"]=B["[object Boolean]"]=B["[object Date]"]=B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Map]"]=B["[object Number]"]=B[vd]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object Symbol]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Error]"]=B[yd]=B["[object WeakMap]"]=!1;var qp=4;function ue(t){return vi(t,qp)}function Pr(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}function sn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ct;++e<n;)this.add(t[e])}function Td(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ho(t,e){return t.has(e)}sn.prototype.add=sn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},sn.prototype.has=function(t){return this.__data__.has(t)};var Xp=1,Qp=2;function pl(t,e,n,r,i,s){var a=n&Xp,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&Qp?new sn:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var p=t[f],m=e[f];if(r)var T=a?r(m,p,f,e,t,s):r(p,m,f,t,e,s);if(T!==void 0){if(T)continue;d=!1;break}if(h){if(!Td(e,(function(v,y){if(!ho(h,y)&&(p===v||i(p,v,n,r,s)))return h.push(y)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Zp(t){var e=-1,n=Array(t.size);return t.forEach((function(r,i){n[++e]=[i,r]})),n}function po(t){var e=-1,n=Array(t.size);return t.forEach((function(r){n[++e]=r})),n}var Jp=1,em=2,tm="[object Boolean]",nm="[object Date]",rm="[object Error]",im="[object Map]",sm="[object Number]",am="[object RegExp]",om="[object Set]",lm="[object String]",cm="[object Symbol]",um="[object ArrayBuffer]",dm="[object DataView]",ml=Pe?Pe.prototype:void 0,Ls=ml?ml.valueOf:void 0,fm=1,hm=Object.prototype.hasOwnProperty,pm=1,gl="[object Arguments]",yl="[object Array]",Xr="[object Object]",vl=Object.prototype.hasOwnProperty;function mm(t,e,n,r,i,s){var a=U(t),o=U(e),l=a?yl:_e(t),c=o?yl:_e(e),u=(l=l==gl?Xr:l)==Xr,f=(c=c==gl?Xr:c)==Xr,d=l==c;if(d&&xr(t)){if(!xr(e))return!1;a=!0,u=!1}if(d&&!u)return s||(s=new We),a||ro(t)?pl(t,e,n,r,i,s):(function(v,y,R,k,L,O,D){switch(R){case dm:if(v.byteLength!=y.byteLength||v.byteOffset!=y.byteOffset)return!1;v=v.buffer,y=y.buffer;case um:return!(v.byteLength!=y.byteLength||!O(new Ui(v),new Ui(y)));case tm:case nm:case sm:return _r(+v,+y);case rm:return v.name==y.name&&v.message==y.message;case am:case lm:return v==y+"";case im:var W=Zp;case om:var J=k&Jp;if(W||(W=po),v.size!=y.size&&!J)return!1;var Y=D.get(v);if(Y)return Y==y;k|=em,D.set(v,y);var A=pl(W(v),W(y),k,L,O,D);return D.delete(v),A;case cm:if(Ls)return Ls.call(v)==Ls.call(y)}return!1})(t,e,l,n,r,i,s);if(!(n&pm)){var h=u&&vl.call(t,"__wrapped__"),p=f&&vl.call(e,"__wrapped__");if(h||p){var m=h?t.value():t,T=p?e.value():e;return s||(s=new We),i(m,T,n,r,s)}}return!!d&&(s||(s=new We),(function(v,y,R,k,L,O){var D=R&fm,W=Sa(v),J=W.length;if(J!=Sa(y).length&&!D)return!1;for(var Y=J;Y--;){var A=W[Y];if(!(D?A in y:hm.call(y,A)))return!1}var $=O.get(v),S=O.get(y);if($&&S)return $==y&&S==v;var x=!0;O.set(v,y),O.set(y,v);for(var P=D;++Y<J;){var _=v[A=W[Y]],b=y[A];if(k)var fe=D?k(b,_,A,y,v,O):k(_,b,A,v,y,O);if(!(fe===void 0?_===b||L(_,b,R,k,O):fe)){x=!1;break}P||(P=A=="constructor")}if(x&&!P){var ee=v.constructor,G=y.constructor;ee==G||!("constructor"in v)||!("constructor"in y)||typeof ee=="function"&&ee instanceof ee&&typeof G=="function"&&G instanceof G||(x=!1)}return O.delete(v),O.delete(y),x})(t,e,n,r,i,s))}function mo(t,e,n,r,i){return t===e||(t==null||e==null||!Be(t)&&!Be(e)?t!=t&&e!=e:mm(t,e,n,r,mo,i))}var gm=1,ym=2;function Rd(t){return t==t&&!Me(t)}function $d(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}}function vm(t){var e=(function(n){for(var r=De(n),i=r.length;i--;){var s=r[i],a=n[s];r[i]=[s,a,Rd(a)]}return r})(t);return e.length==1&&e[0][2]?$d(e[0][0],e[0][1]):function(n){return n===t||(function(r,i,s,a){var o=s.length,l=o;if(r==null)return!l;for(r=Object(r);o--;){var c=s[o];if(c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++o<l;){var u=(c=s[o])[0],f=r[u],d=c[1];if(c[2]){if(f===void 0&&!(u in r))return!1}else{var h=new We;if(!mo(d,f,gm|ym,a,h))return!1}}return!0})(n,0,e)}}function Tm(t,e){return t!=null&&e in Object(t)}function Ed(t,e,n){for(var r=-1,i=(e=ls(e,t)).length,s=!1;++r<i;){var a=Lr(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:!!(i=t==null?0:t.length)&&no(i)&&is(a,i)&&(U(t)||as(t))}var Rm=1,$m=2;function Em(t,e){return so(t)&&Rd(e)?$d(Lr(t),e):function(n){var r=(function(i,s,a){var o=i==null?void 0:oo(i,s);return o===void 0?a:o})(n,t);return r===void 0&&r===e?(function(i,s){return i!=null&&Ed(i,s,Tm)})(n,t):mo(e,r,Rm|$m)}}function Am(t){return so(t)?(e=Lr(t),function(n){return n?.[e]}):(function(n){return function(r){return oo(r,n)}})(t);var e}function qe(t){return typeof t=="function"?t:t==null?kn:typeof t=="object"?U(t)?Em(t[0],t[1]):vm(t):Am(t)}function km(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var a=t[i];e(r,a,n(a),t)}return r}var xm=function(t,e,n){for(var r=-1,i=Object(t),s=n(t),a=s.length;a--;){var o=s[++r];if(e(i[o],o,i)===!1)break}return t},Tl,Vt=(Tl=function(t,e){return t&&xm(t,e,De)},function(t,e){if(t==null)return t;if(!Qe(t))return Tl(t,e);for(var n=t.length,r=-1,i=Object(t);++r<n&&e(i[r],r,i)!==!1;);return t});function Sm(t,e,n,r){return Vt(t,(function(i,s,a){e(r,i,n(i),a)})),r}var Ad=Object.prototype,Im=Ad.hasOwnProperty,go=to((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&rd(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],a=io(s),o=-1,l=a.length;++o<l;){var c=a[o],u=t[c];(u===void 0||_r(u,Ad[c])&&!Im.call(t,c))&&(t[c]=s[c])}return t}));function Rl(t){return Be(t)&&Qe(t)}var Fi=to((function(t,e){return Rl(t)?(function(n,r,i,s){var a=-1,o=nd,l=!0,c=n.length,u=[],f=r.length;if(!c)return u;r.length>=200&&(o=ho,l=!1,r=new sn(r));e:for(;++a<c;){var d=n[a],h=d;if(d=d!==0?d:0,l&&h==h){for(var p=f;p--;)if(r[p]===h)continue e;u.push(d)}else o(r,h,s)||u.push(d)}return u})(t,co(e,0,Rl,!0)):[]}));function xn(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function oe(t,e,n){var r=t==null?0:t.length;return r?dd(t,(e=e===void 0?1:rs(e))<0?0:e,r):[]}function Ir(t,e,n){var r=t==null?0:t.length;return r?dd(t,0,(e=r-(e=e===void 0?1:rs(e)))<0?0:e):[]}function C(t,e){var n;return(U(t)?ed:Vt)(t,typeof(n=e)=="function"?n:kn)}function wm(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function bm(t,e){var n=!0;return Vt(t,(function(r,i,s){return n=!!e(r,i,s)})),n}function Ge(t,e,n){return(U(t)?wm:bm)(t,qe(e))}function kd(t,e){var n=[];return Vt(t,(function(r,i,s){e(r,i,s)&&n.push(r)})),n}function Ne(t,e){return(U(t)?uo:kd)(t,qe(e))}var Cm=Math.max,$l,Sn=($l=function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:rs(n);return i<0&&(i=Cm(r+i,0)),td(t,qe(e),i)},function(t,e,n){var r=Object(t);if(!Qe(t)){var i=qe(e);t=De(t),e=function(a){return i(r[a],a,r)}}var s=$l(t,e,n);return s>-1?r[i?t[s]:s]:void 0});function Ke(t){return t&&t.length?t[0]:void 0}function Nm(t,e){var n=-1,r=Qe(t)?Array(t.length):[];return Vt(t,(function(i,s,a){r[++n]=e(i,s,a)})),r}function I(t,e){return(U(t)?ns:Nm)(t,qe(e))}function Oe(t,e){return co(I(t,e))}var El,Al,_m=Object.prototype.hasOwnProperty,Om=(El=function(t,e,n){_m.call(t,n)?t[n].push(e):eo(t,n,[e])},function(t,e){var n=U(t)?km:Sm,r=Al?Al():{};return n(t,El,qe(e),r)}),Lm=Object.prototype.hasOwnProperty;function Pm(t,e){return t!=null&&Lm.call(t,e)}function w(t,e){return t!=null&&Ed(t,e,Pm)}var Mm="[object String]";function $e(t){return typeof t=="string"||!U(t)&&Be(t)&&Et(t)==Mm}function ie(t){return t==null?[]:(function(e,n){return ns(n,(function(r){return e[r]}))})(t,De(t))}var Dm=Math.max;function ye(t,e,n,r){t=Qe(t)?t:ie(t),n=n?rs(n):0;var i=t.length;return n<0&&(n=Dm(i+n,0)),$e(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ja(t,e,n)>-1}function kl(t,e,n){return t!=null&&t.length?Ja(t,e,0):-1}var Um="[object Map]",Fm="[object Set]",jm=Object.prototype.hasOwnProperty;function K(t){if(t==null)return!0;if(Qe(t)&&(U(t)||typeof t=="string"||typeof t.splice=="function"||xr(t)||ro(t)||as(t)))return!t.length;var e=_e(t);if(e==Um||e==Fm)return!t.size;if(Or(t))return!cd(t).length;for(var n in t)if(jm.call(t,n))return!1;return!0}var xl=Rt&&Rt.isRegExp,ft=xl?os(xl):function(t){return Be(t)&&Et(t)=="[object RegExp]"};function ht(t){return t===void 0}var Gm="Expected a function";function Bm(t,e,n,r){if(!Me(t))return t;for(var i=-1,s=(e=ls(e,t)).length,a=s-1,o=t;o!=null&&++i<s;){var l=Lr(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var u=o[l];(c=void 0)==void 0&&(c=Me(u)?u:is(e[i+1])?[]:{})}ss(o,l,c),o=o[l]}return t}function Ve(t,e){if(t==null)return{};var n=ns((function(r){return md(r,io,pd)})(t),(function(r){return[r]}));return e=qe(e),(function(r,i,s){for(var a=-1,o=i.length,l={};++a<o;){var c=i[a],u=oo(r,c);s(u,c)&&Bm(l,ls(c,r),u)}return l})(t,n,(function(r,i){return e(r,i[0])}))}function Km(t,e,n,r,i){return i(t,(function(s,a,o){n=r?(r=!1,s):e(n,s,a,o)})),n}function we(t,e,n){var r=U(t)?gp:Km,i=arguments.length<3;return r(t,qe(e),n,i,Vt)}function cs(t,e){return(U(t)?uo:kd)(t,(function(n){if(typeof n!="function")throw new TypeError(Gm);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}})(qe(e)))}function Vm(t,e){var n;return Vt(t,(function(r,i,s){return!(n=e(r,i,s))})),!!n}function xd(t,e,n){return(U(t)?Td:Vm)(t,qe(e))}var Hm=rn&&1/po(new rn([,-0]))[1]==1/0?function(t){return new rn(t)}:re,zm=200;function ba(t){return t&&t.length?(function(e,n,r){var i=-1,s=nd,a=e.length,o=!0,l=[],c=l;if(a>=zm){var u=Hm(e);if(u)return po(u);o=!1,s=ho,c=new sn}else c=l;e:for(;++i<a;){var f=e[i],d=f;if(f=f!==0?f:0,o&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;l.push(f)}else s(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l})(t):[]}function Ca(t){console&&console.error&&console.error(`Error: ${t}`)}function Sd(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function Id(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function wd(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function Wm(t){return $e((e=t).LABEL)&&e.LABEL!==""?t.LABEL:t.name;var e}class Ze{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),C(this.definition,(n=>{n.accept(e)}))}}class ve extends Ze{constructor(e){super([]),this.idx=1,Ie(this,Ve(e,(n=>n!==void 0)))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class wn extends Ze{constructor(e){super(e.definition),this.orgText="",Ie(this,Ve(e,(n=>n!==void 0)))}}class Ee extends Ze{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Ie(this,Ve(e,(n=>n!==void 0)))}}let de=class extends Ze{constructor(t){super(t.definition),this.idx=1,Ie(this,Ve(t,(e=>e!==void 0)))}};class be extends Ze{constructor(e){super(e.definition),this.idx=1,Ie(this,Ve(e,(n=>n!==void 0)))}}class Ce extends Ze{constructor(e){super(e.definition),this.idx=1,Ie(this,Ve(e,(n=>n!==void 0)))}}class Z extends Ze{constructor(e){super(e.definition),this.idx=1,Ie(this,Ve(e,(n=>n!==void 0)))}}class Ae extends Ze{constructor(e){super(e.definition),this.idx=1,Ie(this,Ve(e,(n=>n!==void 0)))}}class ke extends Ze{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ie(this,Ve(e,(n=>n!==void 0)))}}class H{constructor(e){this.idx=1,Ie(this,Ve(e,(n=>n!==void 0)))}accept(e){e.visit(this)}}function Ti(t){function e(n){return I(n,Ti)}if(t instanceof ve){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return $e(t.label)&&(n.label=t.label),n}if(t instanceof Ee)return{type:"Alternative",definition:e(t.definition)};if(t instanceof de)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof be)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Ce)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Ti(new H({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Ae)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Ti(new H({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Z)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof ke)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof H){const n={type:"Terminal",name:t.terminalType.name,label:Wm(t.terminalType),idx:t.idx};$e(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=ft(r)?r.source:r),n}if(t instanceof wn)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}class bn{visit(e){const n=e;switch(n.constructor){case ve:return this.visitNonTerminal(n);case Ee:return this.visitAlternative(n);case de:return this.visitOption(n);case be:return this.visitRepetitionMandatory(n);case Ce:return this.visitRepetitionMandatoryWithSeparator(n);case Ae:return this.visitRepetitionWithSeparator(n);case Z:return this.visitRepetition(n);case ke:return this.visitAlternation(n);case H:return this.visitTerminal(n);case wn:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function ji(t,e=[]){return t instanceof de||t instanceof Z||t instanceof Ae||(t instanceof ke?xd(t.definition,(n=>ji(n,e))):!(t instanceof ve&&ye(e,t))&&t instanceof Ze&&(t instanceof ve&&e.push(t),Ge(t.definition,(n=>ji(n,e)))))}function ze(t){if(t instanceof ve)return"SUBRULE";if(t instanceof de)return"OPTION";if(t instanceof ke)return"OR";if(t instanceof be)return"AT_LEAST_ONE";if(t instanceof Ce)return"AT_LEAST_ONE_SEP";if(t instanceof Ae)return"MANY_SEP";if(t instanceof Z)return"MANY";if(t instanceof H)return"CONSUME";throw Error("non exhaustive match")}class us{walk(e,n=[]){C(e.definition,((r,i)=>{const s=oe(e.definition,i+1);if(r instanceof ve)this.walkProdRef(r,s,n);else if(r instanceof H)this.walkTerminal(r,s,n);else if(r instanceof Ee)this.walkFlat(r,s,n);else if(r instanceof de)this.walkOption(r,s,n);else if(r instanceof be)this.walkAtLeastOne(r,s,n);else if(r instanceof Ce)this.walkAtLeastOneSep(r,s,n);else if(r instanceof Ae)this.walkManySep(r,s,n);else if(r instanceof Z)this.walkMany(r,s,n);else{if(!(r instanceof ke))throw Error("non exhaustive match");this.walkOr(r,s,n)}}))}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const i=n.concat(r);this.walk(e,i)}walkOption(e,n,r){const i=n.concat(r);this.walk(e,i)}walkAtLeastOne(e,n,r){const i=[new de({definition:e.definition})].concat(n,r);this.walk(e,i)}walkAtLeastOneSep(e,n,r){const i=Sl(e,n,r);this.walk(e,i)}walkMany(e,n,r){const i=[new de({definition:e.definition})].concat(n,r);this.walk(e,i)}walkManySep(e,n,r){const i=Sl(e,n,r);this.walk(e,i)}walkOr(e,n,r){const i=n.concat(r);C(e.definition,(s=>{const a=new Ee({definition:[s]});this.walk(a,i)}))}}function Sl(t,e,n){return[new de({definition:[new H({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function Rr(t){if(t instanceof ve)return Rr(t.referencedRule);if(t instanceof H)return[t.terminalType];if((function(e){return e instanceof Ee||e instanceof de||e instanceof Z||e instanceof be||e instanceof Ce||e instanceof Ae||e instanceof H||e instanceof wn})(t))return(function(e){let n=[];const r=e.definition;let i,s=0,a=r.length>s,o=!0;for(;a&&o;)i=r[s],o=ji(i),n=n.concat(Rr(i)),s+=1,a=r.length>s;return ba(n)})(t);if((function(e){return e instanceof ke})(t))return(function(e){const n=I(e.definition,(r=>Rr(r)));return ba(je(n))})(t);throw Error("non exhaustive match")}const bd="_~IN~_";class Ym extends us{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const i=(s=e.referencedRule,a=e.idx,s.name+a+bd+this.topProd.name);var s,a;const o=n.concat(r),l=Rr(new Ee({definition:o}));this.follows[i]=l}}let Ri={};const qm=new Ku;function Gi(t){const e=t.toString();if(Ri.hasOwnProperty(e))return Ri[e];{const n=qm.pattern(e);return Ri[e]=n,n}}const Cd="Complement Sets are not supported for first char optimization",Bi=`Unable to use "first char" lexer optimizations:
`;function Xm(t,e=!1){try{const n=Gi(t);return Na(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===Cd)e&&Sd(`${Bi}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Ca(`${Bi}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function Na(t,e,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)Na(t.value[i],e,n);break;case"Alternative":const r=t.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const a=s;switch(a.type){case"Character":Qr(a.value,e,n);break;case"Set":if(a.complement===!0)throw Error(Cd);C(a.value,(l=>{if(typeof l=="number")Qr(l,e,n);else{const c=l;if(n===!0)for(let u=c.from;u<=c.to;u++)Qr(u,e,n);else{for(let u=c.from;u<=c.to&&u<fr;u++)Qr(u,e,n);if(c.to>=fr){const u=c.from>=fr?c.from:fr,f=c.to,d=vt(u),h=vt(f);for(let p=d;p<=h;p++)e[p]=p}}}}));break;case"Group":Na(a.value,e,n);break;default:throw Error("Non Exhaustive Match")}const o=a.quantifier!==void 0&&a.quantifier.atLeast===0;if(a.type==="Group"&&_a(a)===!1||a.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return ie(e)}function Qr(t,e,n){const r=vt(t);e[r]=r,n===!0&&(function(i,s){const a=String.fromCharCode(i),o=a.toUpperCase();if(o!==a){const l=vt(o.charCodeAt(0));s[l]=l}else{const l=a.toLowerCase();if(l!==a){const c=vt(l.charCodeAt(0));s[c]=c}}})(t,e)}function Il(t,e){return Sn(t.value,(n=>{if(typeof n=="number")return ye(e,n);{const r=n;return Sn(e,(i=>r.from<=i&&i<=r.to))!==void 0}}))}function _a(t){const e=t.quantifier;return!(!e||e.atLeast!==0)||!!t.value&&(U(t.value)?Ge(t.value,_a):_a(t.value))}class Qm extends Mi{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){ye(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?Il(e,this.targetCharCodes)===void 0&&(this.found=!0):Il(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function yo(t,e){if(e instanceof RegExp){const n=Gi(e),r=new Qm(t);return r.visit(n),r.found}return Sn(e,(n=>ye(t,n.charCodeAt(0))))!==void 0}const Pt="PATTERN",On="defaultMode",Ps="modes";let Nd=typeof new RegExp("(?:)").sticky=="boolean";function Zm(t,e){const n=(e=go(e,{useSticky:Nd,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(y,R)=>R()})).tracer;let r;n("initCharCodeToOptimizedIndexMap",(()=>{(function(){if(K($i)){$i=new Array(65536);for(let y=0;y<65536;y++)$i[y]=y>255?255+~~(y/255):y}})()})),n("Reject Lexer.NA",(()=>{r=cs(t,(y=>y[Pt]===Re.NA))}));let i,s,a,o,l,c,u,f,d,h,p,m=!1;n("Transform Patterns",(()=>{m=!1,i=I(r,(y=>{const R=y[Pt];if(ft(R)){const k=R.source;return k.length!==1||k==="^"||k==="$"||k==="."||R.ignoreCase?k.length!==2||k[0]!=="\\"||ye(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],k[1])?e.useSticky?bl(R):wl(R):k[1]:k}if(pt(R))return m=!0,{exec:R};if(typeof R=="object")return m=!0,R;if(typeof R=="string"){if(R.length===1)return R;{const k=R.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),L=new RegExp(k);return e.useSticky?bl(L):wl(L)}}throw Error("non exhaustive match")}))})),n("misc mapping",(()=>{s=I(r,(y=>y.tokenTypeIdx)),a=I(r,(y=>{const R=y.GROUP;if(R!==Re.SKIPPED){if($e(R))return R;if(ht(R))return!1;throw Error("non exhaustive match")}})),o=I(r,(y=>{const R=y.LONGER_ALT;if(R)return U(R)?I(R,(k=>kl(r,k))):[kl(r,R)]})),l=I(r,(y=>y.PUSH_MODE)),c=I(r,(y=>w(y,"POP_MODE")))})),n("Line Terminator Handling",(()=>{const y=Ld(e.lineTerminatorCharacters);u=I(r,(R=>!1)),e.positionTracking!=="onlyOffset"&&(u=I(r,(R=>w(R,"LINE_BREAKS")?!!R.LINE_BREAKS:Od(R,y)===!1&&yo(y,R.PATTERN))))})),n("Misc Mapping #2",(()=>{f=I(r,_d),d=I(i,rg),h=we(r,((y,R)=>{const k=R.GROUP;return $e(k)&&k!==Re.SKIPPED&&(y[k]=[]),y}),{}),p=I(i,((y,R)=>({pattern:i[R],longerAlt:o[R],canLineTerminator:u[R],isCustom:f[R],short:d[R],group:a[R],push:l[R],pop:c[R],tokenTypeIdx:s[R],tokenType:r[R]})))}));let T=!0,v=[];return e.safeMode||n("First Char Optimization",(()=>{v=we(r,((y,R,k)=>{if(typeof R.PATTERN=="string"){const L=vt(R.PATTERN.charCodeAt(0));Ms(y,L,p[k])}else if(U(R.START_CHARS_HINT)){let L;C(R.START_CHARS_HINT,(O=>{const D=vt(typeof O=="string"?O.charCodeAt(0):O);L!==D&&(L=D,Ms(y,D,p[k]))}))}else if(ft(R.PATTERN))if(R.PATTERN.unicode)T=!1,e.ensureOptimizations&&Ca(`${Bi}	Unable to analyze < ${R.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const L=Xm(R.PATTERN,e.ensureOptimizations);K(L)&&(T=!1),C(L,(O=>{Ms(y,O,p[k])}))}else e.ensureOptimizations&&Ca(`${Bi}	TokenType: <${R.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),T=!1;return y}),[])})),{emptyGroups:h,patternIdxToConfig:p,charCodeToPatternIdxToConfig:v,hasCustom:m,canBeOptimized:T}}function Jm(t,e){let n=[];const r=(function(a){const o=Ne(a,(u=>!w(u,Pt))),l=I(o,(u=>({message:"Token Type: ->"+u.name+"<- missing static 'PATTERN' property",type:Q.MISSING_PATTERN,tokenTypes:[u]}))),c=Fi(a,o);return{errors:l,valid:c}})(t);n=n.concat(r.errors);const i=(function(a){const o=Ne(a,(u=>{const f=u[Pt];return!(ft(f)||pt(f)||w(f,"exec")||$e(f))})),l=I(o,(u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Q.INVALID_PATTERN,tokenTypes:[u]}))),c=Fi(a,o);return{errors:l,valid:c}})(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat((function(a){let o=[];const l=Ne(a,(c=>ft(c[Pt])));return o=o.concat((function(c){class u extends Mi{constructor(){super(...arguments),this.found=!1}visitEndAnchor(p){this.found=!0}}const f=Ne(c,(h=>{const p=h.PATTERN;try{const m=Gi(p),T=new u;return T.visit(m),T.found}catch{return eg.test(p.source)}}));return I(f,(h=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+h.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Q.EOI_ANCHOR_FOUND,tokenTypes:[h]})))})(l)),o=o.concat((function(c){class u extends Mi{constructor(){super(...arguments),this.found=!1}visitStartAnchor(p){this.found=!0}}const f=Ne(c,(h=>{const p=h.PATTERN;try{const m=Gi(p),T=new u;return T.visit(m),T.found}catch{return tg.test(p.source)}}));return I(f,(h=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+h.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Q.SOI_ANCHOR_FOUND,tokenTypes:[h]})))})(l)),o=o.concat((function(c){const u=Ne(c,(d=>{const h=d[Pt];return h instanceof RegExp&&(h.multiline||h.global)}));return I(u,(d=>({message:"Token Type: ->"+d.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Q.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[d]})))})(l)),o=o.concat((function(c){const u=[];let f=I(c,(h=>we(c,((p,m)=>(h.PATTERN.source!==m.PATTERN.source||ye(u,m)||m.PATTERN===Re.NA||(u.push(m),p.push(m)),p)),[])));return f=Pr(f),I(Ne(f,(h=>h.length>1)),(h=>{const p=I(h,(m=>m.name));return{message:`The same RegExp pattern ->${Ke(h).PATTERN}<-has been used in all of the following Token Types: ${p.join(", ")} <-`,type:Q.DUPLICATE_PATTERNS_FOUND,tokenTypes:h}}))})(l)),o=o.concat((function(c){const u=Ne(c,(d=>d.PATTERN.test("")));return I(u,(d=>({message:"Token Type: ->"+d.name+"<- static 'PATTERN' must not match an empty string",type:Q.EMPTY_MATCH_PATTERN,tokenTypes:[d]})))})(l)),o})(s)),n=n.concat((function(a){const o=Ne(a,(c=>{if(!w(c,"GROUP"))return!1;const u=c.GROUP;return u!==Re.SKIPPED&&u!==Re.NA&&!$e(u)}));return I(o,(c=>({message:"Token Type: ->"+c.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Q.INVALID_GROUP_TYPE_FOUND,tokenTypes:[c]})))})(s)),n=n.concat((function(a,o){const l=Ne(a,(u=>u.PUSH_MODE!==void 0&&!ye(o,u.PUSH_MODE)));return I(l,(u=>({message:`Token Type: ->${u.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${u.PUSH_MODE}<-which does not exist`,type:Q.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[u]})))})(s,e)),n=n.concat((function(a){const o=[],l=we(a,((c,u,f)=>{const d=u.PATTERN;return d===Re.NA||($e(d)?c.push({str:d,idx:f,tokenType:u}):ft(d)&&(h=d,Sn([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(p=>h.source.indexOf(p)!==-1))===void 0)&&c.push({str:d.source,idx:f,tokenType:u})),c;var h}),[]);return C(a,((c,u)=>{C(l,(({str:f,idx:d,tokenType:h})=>{if(u<d&&(function(p,m){if(ft(m)){const T=m.exec(p);return T!==null&&T.index===0}if(pt(m))return m(p,0,[],{});if(w(m,"exec"))return m.exec(p,0,[],{});if(typeof m=="string")return m===p;throw Error("non exhaustive match")})(f,c.PATTERN)){const p=`Token: ->${h.name}<- can never be matched.
Because it appears AFTER the Token Type ->${c.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;o.push({message:p,type:Q.UNREACHABLE_PATTERN,tokenTypes:[c,h]})}}))})),o})(s)),n}const eg=/[^\\][$]/,tg=/[^\\[][\^]|^\^/;function wl(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function bl(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function ng(t,e,n){const r=[];let i=!1;const s=cs(Pr(je(ie(t.modes))),(o=>o[Pt]===Re.NA)),a=Ld(n);return e&&C(s,(o=>{const l=Od(o,a);if(l!==!1){const c=(function(f,d){if(d.issue===Q.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${f.name}> Token Type
	 Root cause: ${d.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(d.issue===Q.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${f.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")})(o,l),u={message:c,type:l.issue,tokenType:o};r.push(u)}else w(o,"LINE_BREAKS")?o.LINE_BREAKS===!0&&(i=!0):yo(a,o.PATTERN)&&(i=!0)})),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Q.NO_LINE_BREAKS_FLAGS}),r}function _d(t){const e=t.PATTERN;if(ft(e))return!1;if(pt(e)||w(e,"exec"))return!0;if($e(e))return!1;throw Error("non exhaustive match")}function rg(t){return!(!$e(t)||t.length!==1)&&t.charCodeAt(0)}const ig={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function Od(t,e){if(w(t,"LINE_BREAKS"))return!1;if(ft(t.PATTERN)){try{yo(e,t.PATTERN)}catch(n){return{issue:Q.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if($e(t.PATTERN))return!1;if(_d(t))return{issue:Q.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Ld(t){return I(t,(e=>$e(e)?e.charCodeAt(0):e))}function Ms(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const fr=256;let $i=[];function vt(t){return t<fr?t:$i[t]}function $r(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx||e.isParent===!0&&e.categoryMatchesMap[n]===!0}function Ki(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let Cl=1;const Nl={};function Mr(t){const e=(function(n){let r=ue(n),i=n,s=!0;for(;s;){i=Pr(je(I(i,(o=>o.CATEGORIES))));const a=Fi(i,r);r=r.concat(a),K(a)?s=!1:i=a}return r})(t);(function(n){C(n,(r=>{Md(r)||(Nl[Cl]=r,r.tokenTypeIdx=Cl++),_l(r)&&!U(r.CATEGORIES)&&(r.CATEGORIES=[r.CATEGORIES]),_l(r)||(r.CATEGORIES=[]),w(r,"categoryMatches")||(r.categoryMatches=[]),(function(i){return w(i,"categoryMatchesMap")})(r)||(r.categoryMatchesMap={})}))})(e),(function(n){C(n,(r=>{Pd([],r)}))})(e),(function(n){C(n,(r=>{r.categoryMatches=[],C(r.categoryMatchesMap,((i,s)=>{r.categoryMatches.push(Nl[s].tokenTypeIdx)}))}))})(e),C(e,(n=>{n.isParent=n.categoryMatches.length>0}))}function Pd(t,e){C(t,(n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0})),C(e.CATEGORIES,(n=>{const r=t.concat(e);ye(r,n)||Pd(r,n)}))}function Md(t){return w(t,"tokenTypeIdx")}function _l(t){return w(t,"CATEGORIES")}function sg(t){return w(t,"tokenTypeIdx")}const Oa={buildUnableToPopLexerModeMessage:t=>`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(t,e,n,r,i)=>`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`};var Q;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Q||(Q={}));const hr={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Oa,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(hr);class Re{constructor(e,n=hr){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${i}>`);const{time:o,value:l}=Id(s),c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${a}<-- <${i}> time: ${o}ms`),this.traceInitIndent--,l}return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Ie({},hr,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",(()=>{if(this.config.lineTerminatorsPattern===hr.lineTerminatorsPattern)this.config.lineTerminatorsPattern=ig;else if(this.config.lineTerminatorCharacters===hr.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),U(e)?i={modes:{defaultMode:ue(e)},defaultMode:On}:(s=!1,i=ue(e))})),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat((function(o,l,c){const u=[];return w(o,On)||u.push({message:"A MultiMode Lexer cannot be initialized without a <"+On+`> property in its definition
`,type:Q.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),w(o,Ps)||u.push({message:`A MultiMode Lexer cannot be initialized without a <modes> property in its definition
`,type:Q.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),w(o,Ps)&&w(o,On)&&!w(o.modes,o.defaultMode)&&u.push({message:`A MultiMode Lexer cannot be initialized with a ${On}: <${o.defaultMode}>which does not exist
`,type:Q.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),w(o,Ps)&&C(o.modes,((f,d)=>{C(f,((h,p)=>{ht(h)?u.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${d}> at index: <${p}>
`,type:Q.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED}):w(h,"LONGER_ALT")&&C(U(h.LONGER_ALT)?h.LONGER_ALT:[h.LONGER_ALT],(m=>{ht(m)||ye(f,m)||u.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${m.name}> on token <${h.name}> outside of mode <${d}>
`,type:Q.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}))}))})),u})(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),this.TRACE_INIT("performWarningRuntimeChecks",(()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(ng(i,this.trackStartLines,this.config.lineTerminatorCharacters))}))),i.modes=i.modes?i.modes:{},C(i.modes,((o,l)=>{i.modes[l]=cs(o,(c=>ht(c)))}));const a=De(i.modes);if(C(i.modes,((o,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,(()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Jm(o,a))})),K(this.lexerDefinitionErrors)){let c;Mr(o),this.TRACE_INIT("analyzeTokenTypes",(()=>{c=Zm(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})})),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=Ie({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}}))})),this.defaultMode=i.defaultMode,!K(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const o=I(this.lexerDefinitionErrors,(l=>l.message)).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+o)}C(this.lexerDefinitionWarning,(o=>{Sd(o.message)})),this.TRACE_INIT("Choosing sub-methods implementations",(()=>{if(Nd?(this.chopInput=kn,this.match=this.matchWithTest):(this.updateLastIndex=re,this.match=this.matchWithExec),s&&(this.handleModes=re),this.trackStartLines===!1&&(this.computeNewColumn=kn),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=re),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)})),this.TRACE_INIT("Failed Optimization Warnings",(()=>{const o=we(this.canModeBeOptimized,((l,c,u)=>(c===!1&&l.push(u),l)),[]);if(n.ensureOptimizations&&!K(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)})),this.TRACE_INIT("clearRegExpParserCache",(()=>{Ri={}})),this.TRACE_INIT("toFastProperties",(()=>{wd(this)}))}))}tokenize(e,n=this.defaultMode){if(!K(this.lexerDefinitionErrors)){const r=I(this.lexerDefinitionErrors,(i=>i.message)).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,i,s,a,o,l,c,u,f,d,h,p,m,T,v;const y=e,R=y.length;let k=0,L=0;const O=this.hasCustom?0:Math.floor(e.length/10),D=new Array(O),W=[];let J=this.trackStartLines?1:void 0,Y=this.trackStartLines?1:void 0;const A=(function(ne){const me={};return C(De(ne),(Je=>{const Te=ne[Je];if(!U(Te))throw Error("non exhaustive match");me[Je]=[]})),me})(this.emptyGroups),$=this.trackStartLines,S=this.config.lineTerminatorsPattern;let x=0,P=[],_=[];const b=[],fe=[];let ee;function G(){return P}function It(ne){const me=vt(ne),Je=_[me];return Je===void 0?fe:Je}Object.freeze(fe);const Wf=ne=>{if(b.length===1&&ne.tokenType.PUSH_MODE===void 0){const me=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(ne);W.push({offset:ne.startOffset,line:ne.startLine,column:ne.startColumn,length:ne.image.length,message:me})}else{b.pop();const me=xn(b);P=this.patternIdxToConfig[me],_=this.charCodeToPatternIdxToConfig[me],x=P.length;const Je=this.canModeBeOptimized[me]&&this.config.safeMode===!1;ee=_&&Je?It:G}};function bo(ne){b.push(ne),_=this.charCodeToPatternIdxToConfig[ne],P=this.patternIdxToConfig[ne],x=P.length,x=P.length;const me=this.canModeBeOptimized[ne]&&this.config.safeMode===!1;ee=_&&me?It:G}let Ue;bo.call(this,n);const Co=this.config.recoveryEnabled;for(;k<R;){l=null;const ne=y.charCodeAt(k),me=ee(ne),Je=me.length;for(r=0;r<Je;r++){Ue=me[r];const Te=Ue.pattern;c=null;const et=Ue.short;if(et!==!1?ne===et&&(l=Te):Ue.isCustom===!0?(v=Te.exec(y,k,D,A),v!==null?(l=v[0],v.payload!==void 0&&(c=v.payload)):l=null):(this.updateLastIndex(Te,k),l=this.match(Te,e,k)),l!==null){if(o=Ue.longerAlt,o!==void 0){const tt=o.length;for(s=0;s<tt;s++){const nt=P[o[s]],wt=nt.pattern;if(u=null,nt.isCustom===!0?(v=wt.exec(y,k,D,A),v!==null?(a=v[0],v.payload!==void 0&&(u=v.payload)):a=null):(this.updateLastIndex(wt,k),a=this.match(wt,e,k)),a&&a.length>l.length){l=a,c=u,Ue=nt;break}}}break}}if(l!==null){if(f=l.length,d=Ue.group,d!==void 0&&(h=Ue.tokenTypeIdx,p=this.createTokenInstance(l,k,h,Ue.tokenType,J,Y,f),this.handlePayload(p,c),d===!1?L=this.addToken(D,L,p):A[d].push(p)),e=this.chopInput(e,f),k+=f,Y=this.computeNewColumn(Y,f),$===!0&&Ue.canLineTerminator===!0){let Te,et,tt=0;S.lastIndex=0;do Te=S.test(l),Te===!0&&(et=S.lastIndex-1,tt++);while(Te===!0);tt!==0&&(J+=tt,Y=f-et,this.updateTokenEndLineColumnLocation(p,d,et,tt,J,Y,f))}this.handleModes(Ue,Wf,bo,p)}else{const Te=k,et=J,tt=Y;let nt=Co===!1;for(;nt===!1&&k<R;)for(e=this.chopInput(e,1),k++,i=0;i<x;i++){const wt=P[i],vs=wt.pattern,No=wt.short;if(No!==!1?y.charCodeAt(k)===No&&(nt=!0):wt.isCustom===!0?nt=vs.exec(y,k,D,A)!==null:(this.updateLastIndex(vs,k),nt=vs.exec(e)!==null),nt===!0)break}if(m=k-Te,Y=this.computeNewColumn(Y,m),T=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,Te,m,et,tt),W.push({offset:Te,line:et,column:tt,length:m,message:T}),Co===!1)break}}return this.hasCustom||(D.length=L),{tokens:D,groups:A,errors:W}}handleModes(e,n,r,i){if(e.pop===!0){const s=e.push;n(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,i,s,a,o){let l,c;n!==void 0&&(l=r===o-1,c=l?-1:0,i===1&&l===!0||(e.endLine=s+c,e.endColumn=a-1-c))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,n,r,i,s,a){return{image:e,startOffset:n,startLine:s,startColumn:a,tokenTypeIdx:r,tokenType:i}}createFullToken(e,n,r,i,s,a,o){return{image:e,startOffset:n,endOffset:n+o-1,startLine:s,endLine:s,startColumn:a,endColumn:a+o-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,++n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}function an(t){return Dd(t)?t.LABEL:t.name}function Dd(t){return $e(t.LABEL)&&t.LABEL!==""}Re.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Re.NA=/NOT_APPLICABLE/;const ag="parent",Ol="categories",Ll="label",Pl="group",Ml="push_mode",Dl="pop_mode",Ul="longer_alt",Fl="line_breaks",jl="start_chars_hint";function Ud(t){return(function(e){const n=e.pattern,r={};if(r.name=e.name,ht(n)||(r.PATTERN=n),w(e,ag))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return w(e,Ol)&&(r.CATEGORIES=e[Ol]),Mr([r]),w(e,Ll)&&(r.LABEL=e[Ll]),w(e,Pl)&&(r.GROUP=e[Pl]),w(e,Dl)&&(r.POP_MODE=e[Dl]),w(e,Ml)&&(r.PUSH_MODE=e[Ml]),w(e,Ul)&&(r.LONGER_ALT=e[Ul]),w(e,Fl)&&(r.LINE_BREAKS=e[Fl]),w(e,jl)&&(r.START_CHARS_HINT=e[jl]),r})(t)}const gt=Ud({name:"EOF",pattern:Re.NA});function vo(t,e,n,r,i,s,a,o){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:a,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function Fd(t,e){return $r(t,e)}Mr([gt]);const tn={buildMismatchTokenMessage:({expected:t,actual:e,previous:n,ruleName:r})=>`Expecting ${Dd(t)?`--> ${an(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:t,ruleName:e})=>"Redundant input, expecting EOF but found: "+t.image,buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",a=`
but found: '`+Ke(e).image+"'";if(r)return s+r+a;{const o=I(we(t,((l,c)=>l.concat(c)),[]),(l=>`[${I(l,(c=>an(c))).join(", ")}]`));return s+`one of these possible Token sequences:
${I(o,((l,c)=>`  ${c+1}. ${l}`)).join(`
`)}`+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const i="Expecting: ",s=`
but found: '`+Ke(e).image+"'";return n?i+n+s:i+`expecting at least one iteration which starts with one of these possible Token sequences::
  <${I(t,(a=>`[${I(a,(o=>an(o))).join(",")}]`)).join(" ,")}>`+s}};Object.freeze(tn);const og={buildRuleNotFoundError:(t,e)=>"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"},Mt={buildDuplicateFoundError(t,e){const n=t.name,r=Ke(e),i=r.idx,s=ze(r),a=(o=r)instanceof H?o.terminalType.name:o instanceof ve?o.nonTerminalName:"";var o;let l=`->${s}${i>0?i:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,`
`),l},buildNamespaceConflictError:t=>`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(t){const e=I(t.prefixPath,(r=>an(r))).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=I(t.prefixPath,(i=>an(i))).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r+=`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=ze(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError:t=>"deprecated",buildEmptyAlternationError:t=>`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`,buildTooManyAlternativesError:t=>`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(t){const e=t.topLevelRule.name;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${`${e} --> ${I(t.leftRecursionPath,(n=>n.name)).concat([e]).join(" --> ")}`}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:t=>"deprecated",buildDuplicateRuleNameError(t){let e;return e=t.topLevelRule instanceof wn?t.topLevelRule.name:t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};class lg extends bn{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){C(ie(this.nameToTopRule),(e=>{this.currTopLevel=e,e.accept(this)}))}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:ge.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class cg extends us{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=ue(this.path.ruleStack).reverse(),this.occurrenceStack=ue(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){K(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class ug extends cg{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r),s=new Ee({definition:i});this.possibleTokTypes=Rr(s),this.found=!0}}}class ds extends us{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class dg extends ds{walkMany(e,n,r){if(e.idx===this.occurrence){const i=Ke(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof H&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,n,r)}}class Gl extends ds{walkManySep(e,n,r){if(e.idx===this.occurrence){const i=Ke(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof H&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,n,r)}}class fg extends ds{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const i=Ke(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof H&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,n,r)}}class Bl extends ds{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const i=Ke(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof H&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,n,r)}}function La(t,e,n=[]){n=ue(n);let r=[],i=0;function s(a){const o=La(a.concat(oe(t,i+1)),e,n);return r.concat(o)}for(;n.length<e&&i<t.length;){const a=t[i];if(a instanceof Ee||a instanceof ve)return s(a.definition);if(a instanceof de)r=s(a.definition);else{if(a instanceof be)return s(a.definition.concat([new Z({definition:a.definition})]));if(a instanceof Ce)return s([new Ee({definition:a.definition}),new Z({definition:[new H({terminalType:a.separator})].concat(a.definition)})]);if(a instanceof Ae){const o=a.definition.concat([new Z({definition:[new H({terminalType:a.separator})].concat(a.definition)})]);r=s(o)}else if(a instanceof Z){const o=a.definition.concat([new Z({definition:a.definition})]);r=s(o)}else{if(a instanceof ke)return C(a.definition,(o=>{K(o.definition)===!1&&(r=s(o.definition))})),r;if(!(a instanceof H))throw Error("non exhaustive match");n.push(a.terminalType)}}i++}return r.push({partialPath:n,suffixDef:oe(t,i)}),r}function jd(t,e,n,r){const i="EXIT_NONE_TERMINAL",s=[i],a="EXIT_ALTERNATIVE";let o=!1;const l=e.length,c=l-r-1,u=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!K(f);){const d=f.pop();if(d===a){o&&xn(f).idx<=c&&f.pop();continue}const h=d.def,p=d.idx,m=d.ruleStack,T=d.occurrenceStack;if(K(h))continue;const v=h[0];if(v===i){const y={idx:p,def:oe(h),ruleStack:Ir(m),occurrenceStack:Ir(T)};f.push(y)}else if(v instanceof H)if(p<l-1){const y=p+1;if(n(e[y],v.terminalType)){const R={idx:y,def:oe(h),ruleStack:m,occurrenceStack:T};f.push(R)}}else{if(p!==l-1)throw Error("non exhaustive match");u.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:m,occurrenceStack:T}),o=!0}else if(v instanceof ve){const y=ue(m);y.push(v.nonTerminalName);const R=ue(T);R.push(v.idx);const k={idx:p,def:v.definition.concat(s,oe(h)),ruleStack:y,occurrenceStack:R};f.push(k)}else if(v instanceof de){const y={idx:p,def:oe(h),ruleStack:m,occurrenceStack:T};f.push(y),f.push(a);const R={idx:p,def:v.definition.concat(oe(h)),ruleStack:m,occurrenceStack:T};f.push(R)}else if(v instanceof be){const y=new Z({definition:v.definition,idx:v.idx}),R={idx:p,def:v.definition.concat([y],oe(h)),ruleStack:m,occurrenceStack:T};f.push(R)}else if(v instanceof Ce){const y=new H({terminalType:v.separator}),R=new Z({definition:[y].concat(v.definition),idx:v.idx}),k={idx:p,def:v.definition.concat([R],oe(h)),ruleStack:m,occurrenceStack:T};f.push(k)}else if(v instanceof Ae){const y={idx:p,def:oe(h),ruleStack:m,occurrenceStack:T};f.push(y),f.push(a);const R=new H({terminalType:v.separator}),k=new Z({definition:[R].concat(v.definition),idx:v.idx}),L={idx:p,def:v.definition.concat([k],oe(h)),ruleStack:m,occurrenceStack:T};f.push(L)}else if(v instanceof Z){const y={idx:p,def:oe(h),ruleStack:m,occurrenceStack:T};f.push(y),f.push(a);const R=new Z({definition:v.definition,idx:v.idx}),k={idx:p,def:v.definition.concat([R],oe(h)),ruleStack:m,occurrenceStack:T};f.push(k)}else if(v instanceof ke)for(let y=v.definition.length-1;y>=0;y--){const R={idx:p,def:v.definition[y].definition.concat(oe(h)),ruleStack:m,occurrenceStack:T};f.push(R),f.push(a)}else if(v instanceof Ee)f.push({idx:p,def:v.definition.concat(oe(h)),ruleStack:m,occurrenceStack:T});else{if(!(v instanceof wn))throw Error("non exhaustive match");f.push(hg(v,p,m,T))}}return u}function hg(t,e,n,r){const i=ue(n);i.push(t.name);const s=ue(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var q;function Pa(t){if(t instanceof de||t==="Option")return q.OPTION;if(t instanceof Z||t==="Repetition")return q.REPETITION;if(t instanceof be||t==="RepetitionMandatory")return q.REPETITION_MANDATORY;if(t instanceof Ce||t==="RepetitionMandatoryWithSeparator")return q.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ae||t==="RepetitionWithSeparator")return q.REPETITION_WITH_SEPARATOR;if(t instanceof ke||t==="Alternation")return q.ALTERNATION;throw Error("non exhaustive match")}function Kl(t){const{occurrence:e,rule:n,prodType:r,maxLookahead:i}=t,s=Pa(r);return s===q.ALTERNATION?fs(e,n,i):Vi(e,n,s,i)}function pg(t,e,n,r){const i=t.length,s=Ge(t,(a=>Ge(a,(o=>o.length===1))));if(e)return function(a){const o=I(a,(l=>l.GATE));for(let l=0;l<i;l++){const c=t[l],u=c.length,f=o[l];if(f===void 0||f.call(this)!==!1)e:for(let d=0;d<u;d++){const h=c[d],p=h.length;for(let m=0;m<p;m++){const T=this.LA(m+1);if(n(T,h[m])===!1)continue e}return l}}};if(s&&!r){const a=we(I(t,(o=>je(o))),((o,l,c)=>(C(l,(u=>{w(o,u.tokenTypeIdx)||(o[u.tokenTypeIdx]=c),C(u.categoryMatches,(f=>{w(o,f)||(o[f]=c)}))})),o)),{});return function(){const o=this.LA(1);return a[o.tokenTypeIdx]}}return function(){for(let a=0;a<i;a++){const o=t[a],l=o.length;e:for(let c=0;c<l;c++){const u=o[c],f=u.length;for(let d=0;d<f;d++){const h=this.LA(d+1);if(n(h,u[d])===!1)continue e}return a}}}}function mg(t,e,n){const r=Ge(t,(s=>s.length===1)),i=t.length;if(r&&!n){const s=je(t);if(s.length===1&&K(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}{const a=we(s,((o,l,c)=>(o[l.tokenTypeIdx]=!0,C(l.categoryMatches,(u=>{o[u]=!0})),o)),[]);return function(){const o=this.LA(1);return a[o.tokenTypeIdx]===!0}}}return function(){e:for(let s=0;s<i;s++){const a=t[s],o=a.length;for(let l=0;l<o;l++){const c=this.LA(l+1);if(e(c,a[l])===!1)continue e}return!0}return!1}}(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(q||(q={}));class gg extends us{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.restDef=r.concat(i),!0)}walkOption(e,n,r){this.checkIsTarget(e,q.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,q.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,q.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,q.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,q.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class Gd extends bn{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx!==this.targetOccurrence||this.targetProdType!==n||this.targetRef!==void 0&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,q.OPTION)}visitRepetition(e){this.checkIsTarget(e,q.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,q.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,q.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,q.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,q.ALTERNATION)}}function Vl(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function Ds(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],i=[];for(let s=0;s<e.length;s++){const a=e[s];i.push(a+"_"+r.tokenTypeIdx);for(let o=0;o<r.categoryMatches.length;o++){const l="_"+r.categoryMatches[o];i.push(a+l)}}e=i}return e}function yg(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const i=t[r];for(let s=0;s<e.length;s++)if(i[e[s]]===!0)return!1}return!0}function Bd(t,e){const n=I(t,(a=>La([a],1))),r=Vl(n.length),i=I(n,(a=>{const o={};return C(a,(l=>{C(Ds(l.partialPath),(c=>{o[c]=!0}))})),o}));let s=n;for(let a=1;a<=e;a++){const o=s;s=Vl(o.length);for(let l=0;l<o.length;l++){const c=o[l];for(let u=0;u<c.length;u++){const f=c[u].partialPath,d=c[u].suffixDef,h=Ds(f);if(yg(i,h,l)||K(d)||f.length===e){const p=r[l];if(Ma(p,f)===!1){p.push(f);for(let m=0;m<h.length;m++){const T=h[m];i[l][T]=!0}}}else{const p=La(d,a+1,f);s[l]=s[l].concat(p),C(p,(m=>{C(Ds(m.partialPath),(T=>{i[l][T]=!0}))}))}}}}return r}function fs(t,e,n,r){const i=new Gd(t,q.ALTERNATION,r);return e.accept(i),Bd(i.result,n)}function Vi(t,e,n,r){const i=new Gd(t,n);e.accept(i);const s=i.result,a=new gg(e,t,n).startWalking();return Bd([new Ee({definition:s}),new Ee({definition:a})],r)}function Ma(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],a=r[i];if(!(s===a||a.categoryMatchesMap[s.tokenTypeIdx]!==void 0))continue e}return!0}}return!1}function Hl(t){return Ge(t,(e=>Ge(e,(n=>Ge(n,(r=>K(r.categoryMatches)))))))}function vg(t,e,n,r){const i=Oe(t,(l=>(function(c,u){const f=new Rg;c.accept(f);const d=f.allProductions,h=Om(d,Tg);return I(ie(Ve(h,(m=>m.length>1))),(m=>{const T=Ke(m),v=u.buildDuplicateFoundError(c,m),y=ze(T),R={message:v,type:ge.DUPLICATE_PRODUCTIONS,ruleName:c.name,dslName:y,occurrence:T.idx},k=Kd(T);return k&&(R.parameter=k),R}))})(l,n))),s=(function(l,c,u){const f=[],d=I(c,(h=>h.name));return C(l,(h=>{const p=h.name;if(ye(d,p)){const m=u.buildNamespaceConflictError(h);f.push({message:m,type:ge.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:p})}})),f})(t,e,n),a=Oe(t,(l=>(function(c,u){const f=new To;return c.accept(f),Oe(f.alternations,(h=>h.definition.length>255?[{message:u.buildTooManyAlternativesError({topLevelRule:c,alternation:h}),type:ge.TOO_MANY_ALTS,ruleName:c.name,occurrence:h.idx}]:[]))})(l,n))),o=Oe(t,(l=>(function(c,u,f,d){const h=[];if(we(u,((m,T)=>T.name===c.name?m+1:m),0)>1){const m=d.buildDuplicateRuleNameError({topLevelRule:c,grammarName:f});h.push({message:m,type:ge.DUPLICATE_RULE_NAME,ruleName:c.name})}return h})(l,t,r,n)));return i.concat(s,a,o)}function Tg(t){return`${ze(t)}_#_${t.idx}_#_${Kd(t)}`}function Kd(t){return t instanceof H?t.terminalType.name:t instanceof ve?t.nonTerminalName:""}class Rg extends bn{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function Vd(t,e,n,r=[]){const i=[],s=Ei(e.definition);if(K(s))return[];{const a=t.name;ye(s,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:ge.LEFT_RECURSION,ruleName:a});const o=Oe(Fi(s,r.concat([t])),(l=>{const c=ue(r);return c.push(l),Vd(t,l,n,c)}));return i.concat(o)}}function Ei(t){let e=[];if(K(t))return e;const n=Ke(t);if(n instanceof ve)e.push(n.referencedRule);else if(n instanceof Ee||n instanceof de||n instanceof be||n instanceof Ce||n instanceof Ae||n instanceof Z)e=e.concat(Ei(n.definition));else if(n instanceof ke)e=je(I(n.definition,(s=>Ei(s.definition))));else if(!(n instanceof H))throw Error("non exhaustive match");const r=ji(n),i=t.length>1;if(r&&i){const s=oe(t);return e.concat(Ei(s))}return e}class To extends bn{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function $g(t,e,n){const r=new To;t.accept(r);let i=r.alternations;return i=cs(i,(a=>a.ignoreAmbiguities===!0)),Oe(i,(a=>{const o=a.idx,l=a.maxLookahead||e,c=fs(o,t,l,a),u=(function(d,h,p,m){const T=[],v=we(d,((R,k,L)=>(h.definition[L].ignoreAmbiguities===!0||C(k,(O=>{const D=[L];C(d,((W,J)=>{L!==J&&Ma(W,O)&&h.definition[J].ignoreAmbiguities!==!0&&D.push(J)})),D.length>1&&!Ma(T,O)&&(T.push(O),R.push({alts:D,path:O}))})),R)),[]);return I(v,(R=>{const k=I(R.alts,(L=>L+1));return{message:m.buildAlternationAmbiguityError({topLevelRule:p,alternation:h,ambiguityIndices:k,prefixPath:R.path}),type:ge.AMBIGUOUS_ALTS,ruleName:p.name,occurrence:h.idx,alternatives:R.alts}}))})(c,a,t,n),f=(function(d,h,p,m){const T=we(d,((y,R,k)=>{const L=I(R,(O=>({idx:k,path:O})));return y.concat(L)}),[]);return Pr(Oe(T,(y=>{if(h.definition[y.idx].ignoreAmbiguities===!0)return[];const R=y.idx,k=y.path;return I(Ne(T,(L=>{return h.definition[L.idx].ignoreAmbiguities!==!0&&L.idx<R&&(O=L.path,D=k,O.length<D.length&&Ge(O,((W,J)=>{const Y=D[J];return W===Y||Y.categoryMatchesMap[W.tokenTypeIdx]})));var O,D})),(L=>{const O=[L.idx+1,R+1],D=h.idx===0?"":h.idx;return{message:m.buildAlternationPrefixAmbiguityError({topLevelRule:p,alternation:h,ambiguityIndices:O,prefixPath:L.path}),type:ge.AMBIGUOUS_PREFIX_ALTS,ruleName:p.name,occurrence:D,alternatives:O}}))})))})(c,a,t,n);return u.concat(f)}))}class Eg extends bn{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function Ag(t){const e=go(t,{errMsgProvider:og}),n={};return C(t.rules,(r=>{n[r.name]=r})),(function(r,i){const s=new lg(r,i);return s.resolveRefs(),s.errors})(n,e.errMsgProvider)}const Hd="MismatchedTokenException",zd="NoViableAltException",Wd="EarlyExitException",Yd="NotAllInputParsedException",qd=[Hd,zd,Wd,Yd];function Zr(t){return ye(qd,t.name)}Object.freeze(qd);class hs extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class zl extends hs{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=Hd}}class kg extends hs{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=zd}}class xg extends hs{constructor(e,n){super(e,n),this.name=Yd}}class Sg extends hs{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=Wd}}const Us={},Xd="InRuleRecoveryException";class Ig extends Error{constructor(e){super(e),this.name=Xd}}function wg(t,e,n,r,i,s,a){const o=this.getKeyForAutomaticLookahead(r,i);let l=this.firstAfterRepMap[o];if(l===void 0){const d=this.getCurrRuleFullName();l=new s(this.getGAstProductions()[d],i).startWalking(),this.firstAfterRepMap[o]=l}let c=l.token,u=l.occurrence;const f=l.isEndOfRule;this.RULE_STACK.length===1&&f&&c===void 0&&(c=gt,u=1),c!==void 0&&u!==void 0&&this.shouldInRepetitionRecoveryBeTried(c,u,a)&&this.tryInRepetitionRecovery(t,e,n,c)}const Fs=1024,js=1280,Jr=1536;function Gs(t,e,n){return n|e|t}class Ro{constructor(e){var n;this.maxLookahead=(n=e?.maxLookahead)!==null&&n!==void 0?n:ot.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(K(n)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...i,...s]}return n}validateNoLeftRecursion(e){return Oe(e,(n=>Vd(n,n,Mt)))}validateEmptyOrAlternatives(e){return Oe(e,(n=>(function(r,i){const s=new To;return r.accept(s),Oe(s.alternations,(a=>Oe(Ir(a.definition),((o,l)=>K(jd([o],[],$r,1))?[{message:i.buildEmptyAlternationError({topLevelRule:r,alternation:a,emptyChoiceIdx:l}),type:ge.NONE_LAST_EMPTY_ALT,ruleName:r.name,occurrence:a.idx,alternative:l+1}]:[]))))})(n,Mt)))}validateAmbiguousAlternationAlternatives(e,n){return Oe(e,(r=>$g(r,n,Mt)))}validateSomeNonEmptyLookaheadPath(e,n){return(function(r,i,s){const a=[];return C(r,(o=>{const l=new Eg;o.accept(l),C(l.allProductions,(c=>{const u=Pa(c),f=c.maxLookahead||i;if(K(je(Vi(c.idx,o,u,f)[0]))){const d=s.buildEmptyRepetitionError({topLevelRule:o,repetition:c});a.push({message:d,type:ge.NO_NON_EMPTY_LOOKAHEAD,ruleName:o.name})}}))})),a})(e,n,Mt)}buildLookaheadForAlternation(e){return(function(n,r,i,s,a,o){const l=fs(n,r,i);return o(l,s,Hl(l)?Ki:$r,a)})(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,pg)}buildLookaheadForOptional(e){return(function(n,r,i,s,a,o){const l=Vi(n,r,a,i),c=Hl(l)?Ki:$r;return o(l[0],c,s)})(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Pa(e.prodType),mg)}}const ei=new class extends bn{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}};function Wl(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function Yl(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}const bg="name";function Qd(t,e){Object.defineProperty(t,bg,{enumerable:!1,configurable:!0,writable:!1,value:e})}function Cg(t,e){const n=De(t),r=n.length;for(let i=0;i<r;i++){const s=t[n[i]],a=s.length;for(let o=0;o<a;o++){const l=s[o];l.tokenTypeIdx===void 0&&this[l.name](l.children,e)}}}function Ng(t,e){const n=function(){};Qd(n,t+"BaseSemantics");const r={visit:function(i,s){if(U(i)&&(i=i[0]),!ht(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=(function(s,a){return(function(l,c){const u=Ne(c,(d=>pt(l[d])===!1)),f=I(u,(d=>({msg:`Missing visitor method: <${d}> on ${l.constructor.name} CST Visitor.`,type:Da.MISSING_METHOD,methodName:d})));return Pr(f)})(s,a)})(this,e);if(!K(i)){const s=I(i,(a=>a.msg));throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return(n.prototype=r).constructor=n,n._RULE_NAMES=e,n}var Da;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(Da||(Da={}));const ps={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ps);const ql=!0,Xl=Math.pow(2,8)-1,Zd=Ud({name:"RECORDING_PHASE_TOKEN",pattern:Re.NA});Mr([Zd]);const Jd=vo(Zd,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Jd);const _g={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};function Ln(t,e,n,r=!1){Hi(n);const i=xn(this.recordingProdStack),s=pt(e)?e:e.DEF,a=new t({definition:[],idx:n});return r&&(a.separator=e.SEP),w(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),i.definition.push(a),this.recordingProdStack.pop(),ps}function Og(t,e){Hi(e);const n=xn(this.recordingProdStack),r=U(t)===!1,i=r===!1?t:t.DEF,s=new ke({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});w(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const a=xd(i,(o=>pt(o.GATE)));return s.hasPredicates=a,n.definition.push(s),C(i,(o=>{const l=new Ee({definition:[]});s.definition.push(l),w(o,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:w(o,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),o.ALT.call(this),this.recordingProdStack.pop()})),ps}function Ql(t){return t===0?"":`${t}`}function Hi(t){if(t<0||t>Xl){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${Xl+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}const Ai=vo(gt,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Ai);const ot=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:tn,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),ti=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var ge,Bs,Zl;function Jl(t=void 0){return function(){return t}}(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(ge||(ge={}));class wr{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",(()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",(()=>{wd(this)})),this.TRACE_INIT("Grammar Recording",(()=>{try{this.enableRecording(),C(this.definedRulesNames,(i=>{const s=this[i].originalGrammarAction;let a;this.TRACE_INIT(`${i} Rule`,(()=>{a=this.topLevelRuleRecord(i,s)})),this.gastProductionsCache[i]=a}))}finally{this.disableRecording()}}));let r=[];if(this.TRACE_INIT("Grammar Resolving",(()=>{r=Ag({rules:ie(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)})),this.TRACE_INIT("Grammar Validations",(()=>{if(K(r)&&this.skipValidations===!1){const s=(i={rules:ie(this.gastProductionsCache),tokenTypes:ie(this.tokensMap),errMsgProvider:Mt,grammarName:n},vg((i=go(i,{errMsgProvider:Mt})).rules,i.tokenTypes,i.errMsgProvider,i.grammarName)),a=(function(o){return I(o.lookaheadStrategy.validate({rules:o.rules,tokenTypes:o.tokenTypes,grammarName:o.grammarName}),(l=>Object.assign({type:ge.CUSTOM_LOOKAHEAD_VALIDATION},l)))})({lookaheadStrategy:this.lookaheadStrategy,rules:ie(this.gastProductionsCache),tokenTypes:ie(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(s,a)}var i})),K(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",(()=>{const i=(function(s){const a={};return C(s,(o=>{const l=new Ym(o).startWalking();Ie(a,l)})),a})(ie(this.gastProductionsCache));this.resyncFollows=i})),this.TRACE_INIT("ComputeLookaheadFunctions",(()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:ie(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ie(this.gastProductionsCache))}))),!wr.DEFER_DEFINITION_ERRORS_HANDLING&&!K(this.definitionErrors))throw e=I(this.definitionErrors,(i=>i.message)),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)}))}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),w(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=w(n,"skipValidations")?n.skipValidations:ot.skipValidations}}wr.DEFER_DEFINITION_ERRORS_HANDLING=!1,Bs=wr,Zl=[class{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=w(t,"recoveryEnabled")?t.recoveryEnabled:ot.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=wg)}getTokenToInsert(t){const e=vo(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,e,n,r){const i=this.findReSyncTokenType(),s=this.exportLexerState(),a=[];let o=!1;const l=this.LA(1);let c=this.LA(1);const u=()=>{const f=this.LA(0),d=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:l,previous:f,ruleName:this.getCurrRuleFullName()}),h=new zl(d,l,this.LA(0));h.resyncedTokens=Ir(a),this.SAVE_ERROR(h)};for(;!o;){if(this.tokenMatcher(c,r))return void u();if(n.call(this))return u(),void t.apply(this,e);this.tokenMatcher(c,i)?o=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,a))}this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(t,e,n){return n!==!1&&!this.tokenMatcher(this.LA(1),t)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e))}getFollowsForInRuleRecovery(t,e){const n=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new Ig("sad sad panda")}canPerformInRuleRecovery(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,e){if(!this.canTokenTypeBeInsertedInRecovery(t)||K(e))return!1;const n=this.LA(1);return Sn(e,(r=>this.tokenMatcher(n,r)))!==void 0}canRecoverWithSingleTokenDeletion(t){return!!this.canTokenTypeBeDeletedInRecovery(t)&&this.tokenMatcher(this.LA(2),t)}isInCurrentRuleReSyncSet(t){const e=this.getCurrFollowKey();return ye(this.getFollowSetFromFollowKey(e),t)}findReSyncTokenType(){const t=this.flattenFollowSet();let e=this.LA(1),n=2;for(;;){const r=Sn(t,(i=>Fd(e,i)));if(r!==void 0)return r;e=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Us;const t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,e=this.RULE_OCCURRENCE_STACK;return I(t,((n,r)=>r===0?Us:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:e[r],inRule:this.shortRuleNameToFullName(t[r-1])}))}flattenFollowSet(){return je(I(this.buildFullFollowKeyStack(),(t=>this.getFollowSetFromFollowKey(t))))}getFollowSetFromFollowKey(t){if(t===Us)return[gt];const e=t.ruleName+t.idxInCallingRule+bd+t.inRule;return this.resyncFollows[e]}addToResyncTokens(t,e){return this.tokenMatcher(t,gt)||e.push(t),e}reSyncTo(t){const e=[];let n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return Ir(e)}attemptInRepetitionRecovery(t,e,n,r,i,s,a){}getCurrentGrammarPath(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:ue(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}}getHumanReadableRuleStack(){return I(this.RULE_STACK,(t=>this.shortRuleNameToFullName(t)))}},class{initLooksAhead(t){this.dynamicTokensEnabled=w(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:ot.dynamicTokensEnabled,this.maxLookahead=w(t,"maxLookahead")?t.maxLookahead:ot.maxLookahead,this.lookaheadStrategy=w(t,"lookaheadStrategy")?t.lookaheadStrategy:new Ro({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){C(t,(e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,(()=>{const{alternation:n,repetition:r,option:i,repetitionMandatory:s,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:o}=(function(l){ei.reset(),l.accept(ei);const c=ei.dslMethods;return ei.reset(),c})(e);C(n,(l=>{const c=l.idx===0?"":l.idx;this.TRACE_INIT(`${ze(l)}${c}`,(()=>{const u=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:l.idx,rule:e,maxLookahead:l.maxLookahead||this.maxLookahead,hasPredicates:l.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),f=Gs(this.fullRuleNameToShort[e.name],256,l.idx);this.setLaFuncCache(f,u)}))})),C(r,(l=>{this.computeLookaheadFunc(e,l.idx,768,"Repetition",l.maxLookahead,ze(l))})),C(i,(l=>{this.computeLookaheadFunc(e,l.idx,512,"Option",l.maxLookahead,ze(l))})),C(s,(l=>{this.computeLookaheadFunc(e,l.idx,Fs,"RepetitionMandatory",l.maxLookahead,ze(l))})),C(a,(l=>{this.computeLookaheadFunc(e,l.idx,Jr,"RepetitionMandatoryWithSeparator",l.maxLookahead,ze(l))})),C(o,(l=>{this.computeLookaheadFunc(e,l.idx,js,"RepetitionWithSeparator",l.maxLookahead,ze(l))}))}))}))}computeLookaheadFunc(t,e,n,r,i,s){this.TRACE_INIT(`${s}${e===0?"":e}`,(()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:e,rule:t,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),o=Gs(this.fullRuleNameToShort[t.name],n,e);this.setLaFuncCache(o,a)}))}getKeyForAutomaticLookahead(t,e){return Gs(this.getLastExplicitRuleShortName(),t,e)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,e){this.lookAheadFuncsCache.set(t,e)}},class{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=w(t,"nodeLocationTracking")?t.nodeLocationTracking:ot.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Yl,this.setNodeLocationFromNode=Yl,this.cstPostRule=re,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=re,this.setNodeLocationFromNode=re,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Wl,this.setNodeLocationFromNode=Wl,this.cstPostRule=re,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=re,this.setNodeLocationFromNode=re,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=re,this.setNodeLocationFromNode=re,this.cstPostRule=re,this.setInitialNodeLocation=re}else this.cstInvocationStateUpdate=re,this.cstFinallyStateUpdate=re,this.cstPostTerminal=re,this.cstPostNonTerminal=re,this.cstPostRule=re}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const e={name:t,children:Object.create(null)};this.setInitialNodeLocation(e),this.CST_STACK.push(e)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==1?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){const e=this.LA(0),n=t.location;n.startOffset<=e.startOffset==1?n.endOffset=e.endOffset:n.startOffset=NaN}cstPostTerminal(t,e){const n=this.CST_STACK[this.CST_STACK.length-1];var r,i,s;i=e,s=t,(r=n).children[s]===void 0?r.children[s]=[i]:r.children[s].push(i),this.setNodeLocationFromToken(n.location,e)}cstPostNonTerminal(t,e){const n=this.CST_STACK[this.CST_STACK.length-1];(function(r,i,s){r.children[i]===void 0?r.children[i]=[s]:r.children[i].push(s)})(n,e,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(ht(this.baseCstVisitorConstructor)){const t=Ng(this.className,De(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(ht(this.baseCstVisitorWithDefaultsConstructor)){const t=(function(e,n,r){const i=function(){};Qd(i,e+"BaseSemanticsWithDefaults");const s=Object.create(r.prototype);return C(n,(a=>{s[a]=Cg})),(i.prototype=s).constructor=i,i})(this.className,De(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ai}LA(t){const e=this.currIdx+t;return e<0||this.tokVectorLength<=e?Ai:this.tokVector[e]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(t,e){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Ki,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},w(e,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(U(t)){if(K(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(U(t))this.tokensMap=we(t,((r,i)=>(r[i.name]=i,r)),{});else if(w(t,"modes")&&Ge(je(ie(t.modes)),sg)){const r=ba(je(ie(t.modes)));this.tokensMap=we(r,((i,s)=>(i[s.name]=s,i)),{})}else{if(!Me(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=ue(t)}this.tokensMap.EOF=gt;const n=Ge(w(t,"modes")?je(ie(t.modes)):ie(t),(r=>K(r.categoryMatches)));this.tokenMatcher=n?Ki:$r,Mr(ie(this.tokensMap))}defineRule(t,e,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=w(n,"resyncEnabled")?n.resyncEnabled:ti.resyncEnabled,i=w(n,"recoveryValueFunc")?n.recoveryValueFunc:ti.recoveryValueFunc,s=this.ruleShortNameIdx<<12;let a;return this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s,a=this.outputCst===!0?function(...o){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx),e.apply(this,o);const l=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(l),l}catch(l){return this.invokeRuleCatch(l,r,i)}finally{this.ruleFinallyStateUpdate()}}:function(...o){try{return this.ruleInvocationStateUpdate(s,t,this.subruleIdx),e.apply(this,o)}catch(l){return this.invokeRuleCatch(l,r,i)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:t,originalGrammarAction:e})}invokeRuleCatch(t,e,n){const r=this.RULE_STACK.length===1,i=e&&!this.isBackTracking()&&this.recoveryEnabled;if(Zr(t)){const s=t;if(i){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a)){if(s.resyncedTokens=this.reSyncTo(a),this.outputCst){const o=this.CST_STACK[this.CST_STACK.length-1];return o.recoveredNode=!0,o}return n(t)}if(this.outputCst){const o=this.CST_STACK[this.CST_STACK.length-1];o.recoveredNode=!0,s.partialCstResult=o}throw s}if(r)return this.moveToTerminatedState(),n(t);throw s}throw t}optionInternal(t,e){const n=this.getKeyForAutomaticLookahead(512,e);return this.optionInternalLogic(t,e,n)}optionInternalLogic(t,e,n){let r,i=this.getLaFuncFromCache(n);if(typeof t!="function"){r=t.DEF;const s=t.GATE;if(s!==void 0){const a=i;i=()=>s.call(this)&&a.call(this)}}else r=t;if(i.call(this)===!0)return r.call(this)}atLeastOneInternal(t,e){const n=this.getKeyForAutomaticLookahead(Fs,t);return this.atLeastOneInternalLogic(t,e,n)}atLeastOneInternalLogic(t,e,n){let r,i=this.getLaFuncFromCache(n);if(typeof e!="function"){r=e.DEF;const s=e.GATE;if(s!==void 0){const a=i;i=()=>s.call(this)&&a.call(this)}}else r=e;if(i.call(this)!==!0)throw this.raiseEarlyExitException(t,q.REPETITION_MANDATORY,e.ERR_MSG);{let s=this.doSingleRepetition(r);for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(r)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],i,Fs,t,fg)}atLeastOneSepFirstInternal(t,e){const n=this.getKeyForAutomaticLookahead(Jr,t);this.atLeastOneSepFirstInternalLogic(t,e,n)}atLeastOneSepFirstInternalLogic(t,e,n){const r=e.DEF,i=e.SEP;if(this.getLaFuncFromCache(n).call(this)!==!0)throw this.raiseEarlyExitException(t,q.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);{r.call(this);const s=()=>this.tokenMatcher(this.LA(1),i);for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,s,r,Bl],s,Jr,t,Bl)}}manyInternal(t,e){const n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,e,n)}manyInternalLogic(t,e,n){let r,i=this.getLaFuncFromCache(n);if(typeof e!="function"){r=e.DEF;const a=e.GATE;if(a!==void 0){const o=i;i=()=>a.call(this)&&o.call(this)}}else r=e;let s=!0;for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],i,768,t,dg,s)}manySepFirstInternal(t,e){const n=this.getKeyForAutomaticLookahead(js,t);this.manySepFirstInternalLogic(t,e,n)}manySepFirstInternalLogic(t,e,n){const r=e.DEF,i=e.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){r.call(this);const s=()=>this.tokenMatcher(this.LA(1),i);for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,s,r,Gl],s,js,t,Gl)}}repetitionSepSecondInternal(t,e,n,r,i){for(;n();)this.CONSUME(e),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,r,i],n,Jr,t,i)}doSingleRepetition(t){const e=this.getLexerPosition();return t.call(this),this.getLexerPosition()>e}orInternal(t,e){const n=this.getKeyForAutomaticLookahead(256,e),r=U(t)?t:t.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(i!==void 0)return r[i].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new xg(e,t))}}subruleInternal(t,e,n){let r;try{const i=n!==void 0?n.ARGS:void 0;return this.subruleIdx=e,r=t.apply(this,i),this.cstPostNonTerminal(r,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),r}catch(i){throw this.subruleInternalError(i,n,t.ruleName)}}subruleInternalError(t,e,n){throw Zr(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,e!==void 0&&e.LABEL!==void 0?e.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,e,n){let r;try{const i=this.LA(1);this.tokenMatcher(i,t)===!0?(this.consumeToken(),r=i):this.consumeInternalError(t,i,n)}catch(i){r=this.consumeInternalRecovery(t,e,i)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,r),r}consumeInternalError(t,e,n){let r;const i=this.LA(0);throw r=n!==void 0&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new zl(r,e,i))}consumeInternalRecovery(t,e,n){if(!this.recoveryEnabled||n.name!=="MismatchedTokenException"||this.isBackTracking())throw n;{const r=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,r)}catch(i){throw i.name===Xd?n:i}}}saveRecogState(){const t=this.errors,e=ue(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),gt)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(t){return t.call(this)}consume(t,e,n){return this.consumeInternal(e,t,n)}subrule(t,e,n){return this.subruleInternal(e,t,n)}option(t,e){return this.optionInternal(e,t)}or(t,e){return this.orInternal(e,t)}many(t,e){return this.manyInternal(t,e)}atLeastOne(t,e){return this.atLeastOneInternal(t,e)}CONSUME(t,e){return this.consumeInternal(t,0,e)}CONSUME1(t,e){return this.consumeInternal(t,1,e)}CONSUME2(t,e){return this.consumeInternal(t,2,e)}CONSUME3(t,e){return this.consumeInternal(t,3,e)}CONSUME4(t,e){return this.consumeInternal(t,4,e)}CONSUME5(t,e){return this.consumeInternal(t,5,e)}CONSUME6(t,e){return this.consumeInternal(t,6,e)}CONSUME7(t,e){return this.consumeInternal(t,7,e)}CONSUME8(t,e){return this.consumeInternal(t,8,e)}CONSUME9(t,e){return this.consumeInternal(t,9,e)}SUBRULE(t,e){return this.subruleInternal(t,0,e)}SUBRULE1(t,e){return this.subruleInternal(t,1,e)}SUBRULE2(t,e){return this.subruleInternal(t,2,e)}SUBRULE3(t,e){return this.subruleInternal(t,3,e)}SUBRULE4(t,e){return this.subruleInternal(t,4,e)}SUBRULE5(t,e){return this.subruleInternal(t,5,e)}SUBRULE6(t,e){return this.subruleInternal(t,6,e)}SUBRULE7(t,e){return this.subruleInternal(t,7,e)}SUBRULE8(t,e){return this.subruleInternal(t,8,e)}SUBRULE9(t,e){return this.subruleInternal(t,9,e)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,e,n=ti){if(ye(this.definedRulesNames,t)){const i={message:Mt.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:ge.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(i)}this.definedRulesNames.push(t);const r=this.defineRule(t,e,n);return this[t]=r,r}OVERRIDE_RULE(t,e,n=ti){const r=(function(s,a,o){const l=[];let c;return ye(a,s)||(c=`Invalid rule override, rule: ->${s}<- cannot be overridden in the grammar: ->${o}<-as it is not defined in any of the super grammars `,l.push({message:c,type:ge.INVALID_RULE_OVERRIDE,ruleName:s})),l})(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const i=this.defineRule(t,e,n);return this[t]=i,i}BACKTRACK(t,e){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return t.apply(this,e),!0}catch(r){if(Zr(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return I(ie(this.gastProductionsCache),Ti)}},class{initErrorHandler(t){this._errors=[],this.errorMessageProvider=w(t,"errorMessageProvider")?t.errorMessageProvider:ot.errorMessageProvider}SAVE_ERROR(t){if(Zr(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:ue(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return ue(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,e,n){const r=this.getCurrRuleFullName(),i=Vi(t,this.getGAstProductions()[r],e,this.maxLookahead)[0],s=[];for(let o=1;o<=this.maxLookahead;o++)s.push(this.LA(o));const a=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:s,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new Sg(a,this.LA(1),this.LA(0)))}raiseNoAltException(t,e){const n=this.getCurrRuleFullName(),r=fs(t,this.getGAstProductions()[n],this.maxLookahead),i=[];for(let o=1;o<=this.maxLookahead;o++)i.push(this.LA(o));const s=this.LA(0),a=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:i,previous:s,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new kg(a,this.LA(1),s))}},class{initContentAssist(){}computeContentAssist(t,e){const n=this.gastProductionsCache[t];if(ht(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return jd([n],e,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const e=Ke(t.ruleStack),n=this.getGAstProductions()[e];return new ug(n,t).startWalking()}},class{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(()=>{for(let t=0;t<10;t++){const e=t>0?t:"";this[`CONSUME${e}`]=function(n,r){return this.consumeInternalRecord(n,t,r)},this[`SUBRULE${e}`]=function(n,r){return this.subruleInternalRecord(n,t,r)},this[`OPTION${e}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${e}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${e}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${e}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${e}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${e}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,e,n){return this.consumeInternalRecord(e,t,n)},this.subrule=function(t,e,n){return this.subruleInternalRecord(e,t,n)},this.option=function(t,e){return this.optionInternalRecord(e,t)},this.or=function(t,e){return this.orInternalRecord(e,t)},this.many=function(t,e){this.manyInternalRecord(t,e)},this.atLeastOne=function(t,e){this.atLeastOneInternalRecord(t,e)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD}))}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(()=>{const t=this;for(let e=0;e<10;e++){const n=e>0?e:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA}))}ACTION_RECORD(t){}BACKTRACK_RECORD(t,e){return()=>!0}LA_RECORD(t){return Ai}topLevelRuleRecord(t,e){try{const n=new wn({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),e.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,e){return Ln.call(this,de,t,e)}atLeastOneInternalRecord(t,e){Ln.call(this,be,e,t)}atLeastOneSepFirstInternalRecord(t,e){Ln.call(this,Ce,e,t,ql)}manyInternalRecord(t,e){Ln.call(this,Z,e,t)}manySepFirstInternalRecord(t,e){Ln.call(this,Ae,e,t,ql)}orInternalRecord(t,e){return Og.call(this,t,e)}subruleInternalRecord(t,e,n){if(Hi(e),!t||w(t,"ruleName")===!1){const a=new Error(`<SUBRULE${Ql(e)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const r=xn(this.recordingProdStack),i=t.ruleName,s=new ve({idx:e,nonTerminalName:i,label:n?.LABEL,referencedRule:void 0});return r.definition.push(s),this.outputCst?_g:ps}consumeInternalRecord(t,e,n){if(Hi(e),!Md(t)){const s=new Error(`<CONSUME${Ql(e)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}const r=xn(this.recordingProdStack),i=new H({idx:e,terminalType:t,label:n?.LABEL});return r.definition.push(i),Jd}},class{initPerformanceTracer(t){if(w(t,"traceInitPerf")){const e=t.traceInitPerf,n=typeof e=="number";this.traceInitMaxIdent=n?e:1/0,this.traceInitPerf=n?e>0:e}else this.traceInitMaxIdent=0,this.traceInitPerf=ot.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,e){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);const{time:r,value:i}=Id(e),s=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${t}> time: ${r}ms`),this.traceInitIndent--,i}return e()}}],Zl.forEach((t=>{const e=t.prototype;Object.getOwnPropertyNames(e).forEach((n=>{if(n==="constructor")return;const r=Object.getOwnPropertyDescriptor(e,n);r&&(r.get||r.set)?Object.defineProperty(Bs.prototype,n,r):Bs.prototype[n]=t.prototype[n]}))}));class Lg extends wr{constructor(e,n=ot){const r=ue(n);r.outputCst=!1,super(e,r)}}function In(t,e,n){return`${t.name}_${e}_${n}`}const yt=1,Pg=2,ec=4,tc=5,Er=7,Mg=8,Dg=9,Ug=10,Fg=11,ef=12;class $o{constructor(e){this.target=e}isEpsilon(){return!1}}class Eo extends $o{constructor(e,n){super(e),this.tokenType=n}}class tf extends $o{constructor(e){super(e)}isEpsilon(){return!0}}class Ao extends $o{constructor(e,n,r){super(e),this.rule=n,this.followState=r}isEpsilon(){return!0}}function jg(t){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};(function(r,i){const s=i.length;for(let a=0;a<s;a++){const o=i[a],l=se(r,o,void 0,{type:Pg}),c=se(r,o,void 0,{type:Er});l.stop=c,r.ruleToStartState.set(o,l),r.ruleToStopState.set(o,c)}})(e,t);const n=t.length;for(let r=0;r<n;r++){const i=t[r],s=_t(e,i,i);s!==void 0&&Gg(e,i,s)}return e}function nf(t,e,n){return n instanceof H?Ks(t,e,n.terminalType,n):n instanceof ve?(function(r,i,s){const a=s.referencedRule,o=r.ruleToStartState.get(a),l=se(r,i,s,{type:yt}),c=se(r,i,s,{type:yt}),u=new Ao(o,a,c);return ko(l,u),{left:l,right:c}})(t,e,n):n instanceof ke?(function(r,i,s){const a=se(r,i,s,{type:yt});mt(r,a);const o=dt(s.definition,(c=>nf(r,i,c)));return qt(r,i,a,s,...o)})(t,e,n):n instanceof de?(function(r,i,s){const a=se(r,i,s,{type:yt});mt(r,a);const o=qt(r,i,a,s,_t(r,i,s));return(function(l,c,u,f){const d=f.left,h=f.right;return te(d,h),l.decisionMap[In(c,"Option",u.idx)]=d,f})(r,i,s,o)})(t,e,n):n instanceof Z?(function(r,i,s){const a=se(r,i,s,{type:tc});mt(r,a);const o=qt(r,i,a,s,_t(r,i,s));return rc(r,i,s,o)})(t,e,n):n instanceof Ae?(function(r,i,s){const a=se(r,i,s,{type:tc});mt(r,a);const o=qt(r,i,a,s,_t(r,i,s)),l=Ks(r,i,s.separator,s);return rc(r,i,s,o,l)})(t,e,n):n instanceof be?(function(r,i,s){const a=se(r,i,s,{type:ec});mt(r,a);const o=qt(r,i,a,s,_t(r,i,s));return nc(r,i,s,o)})(t,e,n):n instanceof Ce?(function(r,i,s){const a=se(r,i,s,{type:ec});mt(r,a);const o=qt(r,i,a,s,_t(r,i,s)),l=Ks(r,i,s.separator,s);return nc(r,i,s,o,l)})(t,e,n):_t(t,e,n)}function _t(t,e,n){const r=Jf(dt(n.definition,(i=>nf(t,e,i))),(i=>i!==void 0));return r.length===1?r[0]:r.length===0?void 0:(function(i,s){const a=s.length;for(let c=0;c<a-1;c++){const u=s[c];let f;u.left.transitions.length===1&&(f=u.left.transitions[0]);const d=f instanceof Ao,h=f,p=s[c+1].left;u.left.type===yt&&u.right.type===yt&&f!==void 0&&(d&&h.followState===u.right||f.target===u.right)?(d?h.followState=p:f.target=p,Bg(i,u.right)):te(u.right,p)}const o=s[0],l=s[a-1];return{left:o.left,right:l.right}})(t,r)}function nc(t,e,n,r,i){const s=r.left,a=r.right,o=se(t,e,n,{type:Fg});mt(t,o);const l=se(t,e,n,{type:ef});return s.loopback=o,l.loopback=o,t.decisionMap[In(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=o,te(a,o),i===void 0?(te(o,s),te(o,l)):(te(o,l),te(o,i.left),te(i.right,s)),{left:s,right:l}}function rc(t,e,n,r,i){const s=r.left,a=r.right,o=se(t,e,n,{type:Ug});mt(t,o);const l=se(t,e,n,{type:ef}),c=se(t,e,n,{type:Dg});return o.loopback=c,l.loopback=c,te(o,s),te(o,l),te(a,c),i!==void 0?(te(c,l),te(c,i.left),te(i.right,s)):te(c,o),t.decisionMap[In(e,i?"RepetitionWithSeparator":"Repetition",n.idx)]=o,{left:o,right:l}}function mt(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function qt(t,e,n,r,...i){const s=se(t,e,r,{type:Mg,start:n});n.end=s;for(const o of i)o!==void 0?(te(n,o.left),te(o.right,s)):te(n,s);const a={left:n,right:s};return t.decisionMap[In(e,(function(o){if(o instanceof ke)return"Alternation";if(o instanceof de)return"Option";if(o instanceof Z)return"Repetition";if(o instanceof Ae)return"RepetitionWithSeparator";if(o instanceof be)return"RepetitionMandatory";if(o instanceof Ce)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")})(r),r.idx)]=n,a}function Ks(t,e,n,r){const i=se(t,e,r,{type:yt}),s=se(t,e,r,{type:yt});return ko(i,new Eo(s,n)),{left:i,right:s}}function Gg(t,e,n){const r=t.ruleToStartState.get(e);te(r,n.left);const i=t.ruleToStopState.get(e);return te(n.right,i),{left:r,right:i}}function te(t,e){ko(t,new tf(e))}function se(t,e,n,r){const i=Object.assign({atn:t,production:n,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},r);return t.states.push(i),i}function ko(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function Bg(t,e){t.states.splice(t.states.indexOf(e),1)}const zi={};class Ua{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const n=rf(e);n in this.map||(this.map[n]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return dt(this.configs,(e=>e.alt))}get key(){let e="";for(const n in this.map)e+=n+":";return e}}function rf(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map((n=>n.stateNumber.toString())).join("_")}`}function Kg(t,e){const n={};return r=>{const i=r.toString();let s=n[i];return s!==void 0||(s={atnStartState:t,decision:e,states:{}},n[i]=s),s}}class sf{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,n){this.predicates[e]=n}toString(){let e="";const n=this.predicates.length;for(let r=0;r<n;r++)e+=this.predicates[r]===!0?"1":"0";return e}}const ic=new sf;class Vg extends Ro{constructor(e){var n;super(),this.logging=(n=e?.logging)!==null&&n!==void 0?n:r=>console.log(r)}initialize(e){this.atn=jg(e.rules),this.dfas=(function(n){const r=n.decisionStates.length,i=Array(r);for(let s=0;s<r;s++)i[s]=Kg(n.decisionStates[s],s);return i})(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:n,rule:r,hasPredicates:i,dynamicTokensEnabled:s}=e,a=this.dfas,o=this.logging,l=In(r,"Alternation",n),c=this.atn.decisionMap[l].decision,u=dt(Kl({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),(f=>dt(f,(d=>d[0]))));if(sc(u,!1)&&!s){const f=Oo(u,((d,h,p)=>(Ts(h,(m=>{m&&(d[m.tokenTypeIdx]=p,Ts(m.categoryMatches,(T=>{d[T]=p})))})),d)),{});return i?function(d){var h;const p=this.LA(1),m=f[p.tokenTypeIdx];if(d!==void 0&&m!==void 0){const T=(h=d[m])===null||h===void 0?void 0:h.GATE;if(T!==void 0&&T.call(this)===!1)return}return m}:function(){const d=this.LA(1);return f[d.tokenTypeIdx]}}return i?function(f){const d=new sf,h=f===void 0?0:f.length;for(let m=0;m<h;m++){const T=f?.[m].GATE;d.set(m,T===void 0||T.call(this))}const p=Vs.call(this,a,c,d,o);return typeof p=="number"?p:void 0}:function(){const f=Vs.call(this,a,c,ic,o);return typeof f=="number"?f:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:n,rule:r,prodType:i,dynamicTokensEnabled:s}=e,a=this.dfas,o=this.logging,l=In(r,i,n),c=this.atn.decisionMap[l].decision,u=dt(Kl({maxLookahead:1,occurrence:n,prodType:i,rule:r}),(f=>dt(f,(d=>d[0]))));if(sc(u)&&u[0][0]&&!s){const f=u[0],d=Yf(f);if(d.length===1&&eh(d[0].categoryMatches)){const h=d[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===h}}{const h=Oo(d,((p,m)=>(m!==void 0&&(p[m.tokenTypeIdx]=!0,Ts(m.categoryMatches,(T=>{p[T]=!0}))),p)),{});return function(){const p=this.LA(1);return h[p.tokenTypeIdx]===!0}}}return function(){const f=Vs.call(this,a,c,ic,o);return typeof f!="object"&&f===0}}}function sc(t,e=!0){const n=new Set;for(const r of t){const i=new Set;for(const s of r){if(s===void 0){if(e)break;return!1}const a=[s.tokenTypeIdx].concat(s.categoryMatches);for(const o of a)if(n.has(o)){if(!i.has(o))return!1}else n.add(o),i.add(o)}}return!0}function Vs(t,e,n,r){const i=t[e](n);let s=i.start;return s===void 0&&(s=of(i,af(Xg(i.atnStartState))),i.start=s),Hg.apply(this,[i,s,n,r])}function Hg(t,e,n,r){let i=e,s=1;const a=[];let o=this.LA(s++);for(;;){let c=(l=o,i.edges[l.tokenTypeIdx]);if(c===void 0&&(c=zg.apply(this,[t,i,o,s,n,r])),c===zi)return Yg(a,i,o);if(c.isAcceptState===!0)return c.prediction;i=c,a.push(o),o=this.LA(s++)}var l}function zg(t,e,n,r,i,s){const a=(function(c,u,f){const d=new Ua,h=[];for(const m of c.elements){if(f.is(m.alt)===!1)continue;if(m.state.type===Er){h.push(m);continue}const T=m.state.transitions.length;for(let v=0;v<T;v++){const y=qg(m.state.transitions[v],u);y!==void 0&&d.add({state:y,alt:m.alt,stack:m.stack})}}let p;if(h.length===0&&d.size===1&&(p=d),p===void 0){p=new Ua;for(const m of d.elements)Wi(m,p)}if(h.length>0&&!(function(m){for(const T of m.elements)if(T.state.type===Er)return!0;return!1})(p))for(const m of h)p.add(m);return p})(e.configs,n,i);if(a.size===0)return ac(t,e,n,zi),zi;let o=af(a);const l=(function(c,u){let f;for(const d of c.elements)if(u.is(d.alt)===!0){if(f===void 0)f=d.alt;else if(f!==d.alt)return}return f})(a,i);if(l!==void 0)o.isAcceptState=!0,o.prediction=l,o.configs.uniqueAlt=l;else if((function(c){if((function(f){for(const d of f.elements)if(d.state.type!==Er)return!1;return!0})(c))return!0;const u=(function(f){const d=new Map;for(const h of f){const p=rf(h,!1);let m=d.get(p);m===void 0&&(m={},d.set(p,m)),m[h.alt]=!0}return d})(c.elements);return(function(f){for(const d of Array.from(f.values()))if(Object.keys(d).length>1)return!0;return!1})(u)&&!(function(f){for(const d of Array.from(f.values()))if(Object.keys(d).length===1)return!0;return!1})(u)})(a)){const c=qf(a.alts);o.isAcceptState=!0,o.prediction=c,o.configs.uniqueAlt=c,Wg.apply(this,[t,r,a.alts,s])}return o=ac(t,e,n,o),o}function Wg(t,e,n,r){const i=[];for(let a=1;a<=e;a++)i.push(this.LA(a).tokenType);const s=t.atnStartState;r((function(a){const o=dt(a.prefixPath,(u=>an(u))).join(", "),l=a.production.idx===0?"":a.production.idx;let c=`Ambiguous Alternatives Detected: <${a.ambiguityIndices.join(", ")}> in <${(function(u){if(u instanceof ve)return"SUBRULE";if(u instanceof de)return"OPTION";if(u instanceof ke)return"OR";if(u instanceof be)return"AT_LEAST_ONE";if(u instanceof Ce)return"AT_LEAST_ONE_SEP";if(u instanceof Ae)return"MANY_SEP";if(u instanceof Z)return"MANY";if(u instanceof H)return"CONSUME";throw Error("non exhaustive match")})(a.production)}${l}> inside <${a.topLevelRule.name}> Rule,
<${o}> may appears as a prefix path in all these alternatives.
`;return c+=`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,c})({topLevelRule:s.rule,ambiguityIndices:n,production:s.production,prefixPath:i}))}function Yg(t,e,n){const r=(i=e.configs.elements,s=o=>o.state.transitions,Xf(dt(i,s)));var i,s;const a=(function(o,l){return o&&o.length?Qf(o,Zf(l)):[]})(r.filter((o=>o instanceof Eo)).map((o=>o.tokenType)),(o=>o.tokenTypeIdx));return{actualToken:n,possibleTokenTypes:a,tokenPath:t}}function qg(t,e){if(t instanceof Eo&&Fd(e,t.tokenType))return t.target}function af(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function ac(t,e,n,r){return r=of(t,r),e.edges[n.tokenTypeIdx]=r,r}function of(t,e){if(e===zi)return e;const n=e.configs.key,r=t.states[n];return r!==void 0?r:(e.configs.finalize(),t.states[n]=e,e)}function Xg(t){const e=new Ua,n=t.transitions.length;for(let r=0;r<n;r++)Wi({state:t.transitions[r].target,alt:r,stack:[]},e);return e}function Wi(t,e){const n=t.state;if(n.type===Er){if(t.stack.length>0){const i=[...t.stack];Wi({state:i.pop(),alt:t.alt,stack:i},e)}else e.add(t);return}n.epsilonOnlyTransitions||e.add(t);const r=n.transitions.length;for(let i=0;i<r;i++){const s=Qg(t,n.transitions[i]);s!==void 0&&Wi(s,e)}}function Qg(t,e){if(e instanceof tf)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof Ao){const n=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:n}}}var oc,Hs,lc,ni,F,M,ri,cc,zs,uc,dc,fc,hc,Ws,pc,mc,gc,ii,Xt,Qt,Ys,Zt,yc,qs,Xs,Qs,Zs,Js,vc,Tc,ea,Rc,ta,Pn,$c,Ec,Ac,kc,xc,Sc,Ic,wc,si,bc,Cc,Nc,_c,Oc,Lc,Pc,Mc,Dc,Uc,Fc,ai,jc,Gc,Bc,Kc,Vc,Hc,zc,Wc,Yc,qc,Xc,Qc,Zc,na,ra,Jc,eu,tu,nu,ru,iu,su,au,ou;(function(t){t.is=function(e){return typeof e=="string"}})(oc||(oc={})),(Hs||(Hs={})).is=function(t){return typeof t=="string"},(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647,t.is=function(e){return typeof e=="number"&&t.MIN_VALUE<=e&&e<=t.MAX_VALUE}})(lc||(lc={})),(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647,t.is=function(e){return typeof e=="number"&&t.MIN_VALUE<=e&&e<=t.MAX_VALUE}})(ni||(ni={})),(function(t){t.create=function(e,n){return e===Number.MAX_VALUE&&(e=ni.MAX_VALUE),n===Number.MAX_VALUE&&(n=ni.MAX_VALUE),{line:e,character:n}},t.is=function(e){let n=e;return g.objectLiteral(n)&&g.uinteger(n.line)&&g.uinteger(n.character)}})(F||(F={})),(function(t){t.create=function(e,n,r,i){if(g.uinteger(e)&&g.uinteger(n)&&g.uinteger(r)&&g.uinteger(i))return{start:F.create(e,n),end:F.create(r,i)};if(F.is(e)&&F.is(n))return{start:e,end:n};throw new Error(`Range#create called with invalid arguments[${e}, ${n}, ${r}, ${i}]`)},t.is=function(e){let n=e;return g.objectLiteral(n)&&F.is(n.start)&&F.is(n.end)}})(M||(M={})),(function(t){t.create=function(e,n){return{uri:e,range:n}},t.is=function(e){let n=e;return g.objectLiteral(n)&&M.is(n.range)&&(g.string(n.uri)||g.undefined(n.uri))}})(ri||(ri={})),(function(t){t.create=function(e,n,r,i){return{targetUri:e,targetRange:n,targetSelectionRange:r,originSelectionRange:i}},t.is=function(e){let n=e;return g.objectLiteral(n)&&M.is(n.targetRange)&&g.string(n.targetUri)&&M.is(n.targetSelectionRange)&&(M.is(n.originSelectionRange)||g.undefined(n.originSelectionRange))}})(cc||(cc={})),(function(t){t.create=function(e,n,r,i){return{red:e,green:n,blue:r,alpha:i}},t.is=function(e){const n=e;return g.objectLiteral(n)&&g.numberRange(n.red,0,1)&&g.numberRange(n.green,0,1)&&g.numberRange(n.blue,0,1)&&g.numberRange(n.alpha,0,1)}})(zs||(zs={})),(function(t){t.create=function(e,n){return{range:e,color:n}},t.is=function(e){const n=e;return g.objectLiteral(n)&&M.is(n.range)&&zs.is(n.color)}})(uc||(uc={})),(function(t){t.create=function(e,n,r){return{label:e,textEdit:n,additionalTextEdits:r}},t.is=function(e){const n=e;return g.objectLiteral(n)&&g.string(n.label)&&(g.undefined(n.textEdit)||Qt.is(n))&&(g.undefined(n.additionalTextEdits)||g.typedArray(n.additionalTextEdits,Qt.is))}})(dc||(dc={})),(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(fc||(fc={})),(function(t){t.create=function(e,n,r,i,s,a){const o={startLine:e,endLine:n};return g.defined(r)&&(o.startCharacter=r),g.defined(i)&&(o.endCharacter=i),g.defined(s)&&(o.kind=s),g.defined(a)&&(o.collapsedText=a),o},t.is=function(e){const n=e;return g.objectLiteral(n)&&g.uinteger(n.startLine)&&g.uinteger(n.startLine)&&(g.undefined(n.startCharacter)||g.uinteger(n.startCharacter))&&(g.undefined(n.endCharacter)||g.uinteger(n.endCharacter))&&(g.undefined(n.kind)||g.string(n.kind))}})(hc||(hc={})),(function(t){t.create=function(e,n){return{location:e,message:n}},t.is=function(e){let n=e;return g.defined(n)&&ri.is(n.location)&&g.string(n.message)}})(Ws||(Ws={})),(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(pc||(pc={})),(function(t){t.Unnecessary=1,t.Deprecated=2})(mc||(mc={})),(function(t){t.is=function(e){const n=e;return g.objectLiteral(n)&&g.string(n.href)}})(gc||(gc={})),(function(t){t.create=function(e,n,r,i,s,a){let o={range:e,message:n};return g.defined(r)&&(o.severity=r),g.defined(i)&&(o.code=i),g.defined(s)&&(o.source=s),g.defined(a)&&(o.relatedInformation=a),o},t.is=function(e){var n;let r=e;return g.defined(r)&&M.is(r.range)&&g.string(r.message)&&(g.number(r.severity)||g.undefined(r.severity))&&(g.integer(r.code)||g.string(r.code)||g.undefined(r.code))&&(g.undefined(r.codeDescription)||g.string((n=r.codeDescription)===null||n===void 0?void 0:n.href))&&(g.string(r.source)||g.undefined(r.source))&&(g.undefined(r.relatedInformation)||g.typedArray(r.relatedInformation,Ws.is))}})(ii||(ii={})),(function(t){t.create=function(e,n,...r){let i={title:e,command:n};return g.defined(r)&&r.length>0&&(i.arguments=r),i},t.is=function(e){let n=e;return g.defined(n)&&g.string(n.title)&&g.string(n.command)}})(Xt||(Xt={})),(function(t){t.replace=function(e,n){return{range:e,newText:n}},t.insert=function(e,n){return{range:{start:e,end:e},newText:n}},t.del=function(e){return{range:e,newText:""}},t.is=function(e){const n=e;return g.objectLiteral(n)&&g.string(n.newText)&&M.is(n.range)}})(Qt||(Qt={})),(function(t){t.create=function(e,n,r){const i={label:e};return n!==void 0&&(i.needsConfirmation=n),r!==void 0&&(i.description=r),i},t.is=function(e){const n=e;return g.objectLiteral(n)&&g.string(n.label)&&(g.boolean(n.needsConfirmation)||n.needsConfirmation===void 0)&&(g.string(n.description)||n.description===void 0)}})(Ys||(Ys={})),(function(t){t.is=function(e){const n=e;return g.string(n)}})(Zt||(Zt={})),(function(t){t.replace=function(e,n,r){return{range:e,newText:n,annotationId:r}},t.insert=function(e,n,r){return{range:{start:e,end:e},newText:n,annotationId:r}},t.del=function(e,n){return{range:e,newText:"",annotationId:n}},t.is=function(e){const n=e;return Qt.is(n)&&(Ys.is(n.annotationId)||Zt.is(n.annotationId))}})(yc||(yc={})),(function(t){t.create=function(e,n){return{textDocument:e,edits:n}},t.is=function(e){let n=e;return g.defined(n)&&ea.is(n.textDocument)&&Array.isArray(n.edits)}})(qs||(qs={})),(function(t){t.create=function(e,n,r){let i={kind:"create",uri:e};return n===void 0||n.overwrite===void 0&&n.ignoreIfExists===void 0||(i.options=n),r!==void 0&&(i.annotationId=r),i},t.is=function(e){let n=e;return n&&n.kind==="create"&&g.string(n.uri)&&(n.options===void 0||(n.options.overwrite===void 0||g.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||g.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||Zt.is(n.annotationId))}})(Xs||(Xs={})),(function(t){t.create=function(e,n,r,i){let s={kind:"rename",oldUri:e,newUri:n};return r===void 0||r.overwrite===void 0&&r.ignoreIfExists===void 0||(s.options=r),i!==void 0&&(s.annotationId=i),s},t.is=function(e){let n=e;return n&&n.kind==="rename"&&g.string(n.oldUri)&&g.string(n.newUri)&&(n.options===void 0||(n.options.overwrite===void 0||g.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||g.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||Zt.is(n.annotationId))}})(Qs||(Qs={})),(function(t){t.create=function(e,n,r){let i={kind:"delete",uri:e};return n===void 0||n.recursive===void 0&&n.ignoreIfNotExists===void 0||(i.options=n),r!==void 0&&(i.annotationId=r),i},t.is=function(e){let n=e;return n&&n.kind==="delete"&&g.string(n.uri)&&(n.options===void 0||(n.options.recursive===void 0||g.boolean(n.options.recursive))&&(n.options.ignoreIfNotExists===void 0||g.boolean(n.options.ignoreIfNotExists)))&&(n.annotationId===void 0||Zt.is(n.annotationId))}})(Zs||(Zs={})),(function(t){t.is=function(e){let n=e;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every((r=>g.string(r.kind)?Xs.is(r)||Qs.is(r)||Zs.is(r):qs.is(r))))}})(Js||(Js={})),(function(t){t.create=function(e){return{uri:e}},t.is=function(e){let n=e;return g.defined(n)&&g.string(n.uri)}})(vc||(vc={})),(function(t){t.create=function(e,n){return{uri:e,version:n}},t.is=function(e){let n=e;return g.defined(n)&&g.string(n.uri)&&g.integer(n.version)}})(Tc||(Tc={})),(function(t){t.create=function(e,n){return{uri:e,version:n}},t.is=function(e){let n=e;return g.defined(n)&&g.string(n.uri)&&(n.version===null||g.integer(n.version))}})(ea||(ea={})),(function(t){t.create=function(e,n,r,i){return{uri:e,languageId:n,version:r,text:i}},t.is=function(e){let n=e;return g.defined(n)&&g.string(n.uri)&&g.string(n.languageId)&&g.integer(n.version)&&g.string(n.text)}})(Rc||(Rc={})),(function(t){t.PlainText="plaintext",t.Markdown="markdown",t.is=function(e){const n=e;return n===t.PlainText||n===t.Markdown}})(ta||(ta={})),(function(t){t.is=function(e){const n=e;return g.objectLiteral(e)&&ta.is(n.kind)&&g.string(n.value)}})(Pn||(Pn={})),(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})($c||($c={})),(function(t){t.PlainText=1,t.Snippet=2})(Ec||(Ec={})),(function(t){t.Deprecated=1})(Ac||(Ac={})),(function(t){t.create=function(e,n,r){return{newText:e,insert:n,replace:r}},t.is=function(e){const n=e;return n&&g.string(n.newText)&&M.is(n.insert)&&M.is(n.replace)}})(kc||(kc={})),(function(t){t.asIs=1,t.adjustIndentation=2})(xc||(xc={})),(function(t){t.is=function(e){const n=e;return n&&(g.string(n.detail)||n.detail===void 0)&&(g.string(n.description)||n.description===void 0)}})(Sc||(Sc={})),(function(t){t.create=function(e){return{label:e}}})(Ic||(Ic={})),(function(t){t.create=function(e,n){return{items:e||[],isIncomplete:!!n}}})(wc||(wc={})),(function(t){t.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},t.is=function(e){const n=e;return g.string(n)||g.objectLiteral(n)&&g.string(n.language)&&g.string(n.value)}})(si||(si={})),(function(t){t.is=function(e){let n=e;return!!n&&g.objectLiteral(n)&&(Pn.is(n.contents)||si.is(n.contents)||g.typedArray(n.contents,si.is))&&(e.range===void 0||M.is(e.range))}})(bc||(bc={})),(function(t){t.create=function(e,n){return n?{label:e,documentation:n}:{label:e}}})(Cc||(Cc={})),(function(t){t.create=function(e,n,...r){let i={label:e};return g.defined(n)&&(i.documentation=n),g.defined(r)?i.parameters=r:i.parameters=[],i}})(Nc||(Nc={})),(function(t){t.Text=1,t.Read=2,t.Write=3})(_c||(_c={})),(function(t){t.create=function(e,n){let r={range:e};return g.number(n)&&(r.kind=n),r}})(Oc||(Oc={})),(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(Lc||(Lc={})),(function(t){t.Deprecated=1})(Pc||(Pc={})),(function(t){t.create=function(e,n,r,i,s){let a={name:e,kind:n,location:{uri:i,range:r}};return s&&(a.containerName=s),a}})(Mc||(Mc={})),(function(t){t.create=function(e,n,r,i){return i!==void 0?{name:e,kind:n,location:{uri:r,range:i}}:{name:e,kind:n,location:{uri:r}}}})(Dc||(Dc={})),(function(t){t.create=function(e,n,r,i,s,a){let o={name:e,detail:n,kind:r,range:i,selectionRange:s};return a!==void 0&&(o.children=a),o},t.is=function(e){let n=e;return n&&g.string(n.name)&&g.number(n.kind)&&M.is(n.range)&&M.is(n.selectionRange)&&(n.detail===void 0||g.string(n.detail))&&(n.deprecated===void 0||g.boolean(n.deprecated))&&(n.children===void 0||Array.isArray(n.children))&&(n.tags===void 0||Array.isArray(n.tags))}})(Uc||(Uc={})),(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Fc||(Fc={})),(function(t){t.Invoked=1,t.Automatic=2})(ai||(ai={})),(function(t){t.create=function(e,n,r){let i={diagnostics:e};return n!=null&&(i.only=n),r!=null&&(i.triggerKind=r),i},t.is=function(e){let n=e;return g.defined(n)&&g.typedArray(n.diagnostics,ii.is)&&(n.only===void 0||g.typedArray(n.only,g.string))&&(n.triggerKind===void 0||n.triggerKind===ai.Invoked||n.triggerKind===ai.Automatic)}})(jc||(jc={})),(function(t){t.create=function(e,n,r){let i={title:e},s=!0;return typeof n=="string"?(s=!1,i.kind=n):Xt.is(n)?i.command=n:i.edit=n,s&&r!==void 0&&(i.kind=r),i},t.is=function(e){let n=e;return n&&g.string(n.title)&&(n.diagnostics===void 0||g.typedArray(n.diagnostics,ii.is))&&(n.kind===void 0||g.string(n.kind))&&(n.edit!==void 0||n.command!==void 0)&&(n.command===void 0||Xt.is(n.command))&&(n.isPreferred===void 0||g.boolean(n.isPreferred))&&(n.edit===void 0||Js.is(n.edit))}})(Gc||(Gc={})),(function(t){t.create=function(e,n){let r={range:e};return g.defined(n)&&(r.data=n),r},t.is=function(e){let n=e;return g.defined(n)&&M.is(n.range)&&(g.undefined(n.command)||Xt.is(n.command))}})(Bc||(Bc={})),(function(t){t.create=function(e,n){return{tabSize:e,insertSpaces:n}},t.is=function(e){let n=e;return g.defined(n)&&g.uinteger(n.tabSize)&&g.boolean(n.insertSpaces)}})(Kc||(Kc={})),(function(t){t.create=function(e,n,r){return{range:e,target:n,data:r}},t.is=function(e){let n=e;return g.defined(n)&&M.is(n.range)&&(g.undefined(n.target)||g.string(n.target))}})(Vc||(Vc={})),(function(t){t.create=function(e,n){return{range:e,parent:n}},t.is=function(e){let n=e;return g.objectLiteral(n)&&M.is(n.range)&&(n.parent===void 0||t.is(n.parent))}})(Hc||(Hc={})),(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(zc||(zc={})),(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Wc||(Wc={})),(function(t){t.is=function(e){const n=e;return g.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}})(Yc||(Yc={})),(function(t){t.create=function(e,n){return{range:e,text:n}},t.is=function(e){const n=e;return n!=null&&M.is(n.range)&&g.string(n.text)}})(qc||(qc={})),(function(t){t.create=function(e,n,r){return{range:e,variableName:n,caseSensitiveLookup:r}},t.is=function(e){const n=e;return n!=null&&M.is(n.range)&&g.boolean(n.caseSensitiveLookup)&&(g.string(n.variableName)||n.variableName===void 0)}})(Xc||(Xc={})),(function(t){t.create=function(e,n){return{range:e,expression:n}},t.is=function(e){const n=e;return n!=null&&M.is(n.range)&&(g.string(n.expression)||n.expression===void 0)}})(Qc||(Qc={})),(function(t){t.create=function(e,n){return{frameId:e,stoppedLocation:n}},t.is=function(e){const n=e;return g.defined(n)&&M.is(e.stoppedLocation)}})(Zc||(Zc={})),(function(t){t.Type=1,t.Parameter=2,t.is=function(e){return e===1||e===2}})(na||(na={})),(function(t){t.create=function(e){return{value:e}},t.is=function(e){const n=e;return g.objectLiteral(n)&&(n.tooltip===void 0||g.string(n.tooltip)||Pn.is(n.tooltip))&&(n.location===void 0||ri.is(n.location))&&(n.command===void 0||Xt.is(n.command))}})(ra||(ra={})),(function(t){t.create=function(e,n,r){const i={position:e,label:n};return r!==void 0&&(i.kind=r),i},t.is=function(e){const n=e;return g.objectLiteral(n)&&F.is(n.position)&&(g.string(n.label)||g.typedArray(n.label,ra.is))&&(n.kind===void 0||na.is(n.kind))&&n.textEdits===void 0||g.typedArray(n.textEdits,Qt.is)&&(n.tooltip===void 0||g.string(n.tooltip)||Pn.is(n.tooltip))&&(n.paddingLeft===void 0||g.boolean(n.paddingLeft))&&(n.paddingRight===void 0||g.boolean(n.paddingRight))}})(Jc||(Jc={})),(function(t){t.createSnippet=function(e){return{kind:"snippet",value:e}}})(eu||(eu={})),(function(t){t.create=function(e,n,r,i){return{insertText:e,filterText:n,range:r,command:i}}})(tu||(tu={})),(function(t){t.create=function(e){return{items:e}}})(nu||(nu={})),(function(t){t.Invoked=0,t.Automatic=1})(ru||(ru={})),(function(t){t.create=function(e,n){return{range:e,text:n}}})(iu||(iu={})),(function(t){t.create=function(e,n){return{triggerKind:e,selectedCompletionInfo:n}}})(su||(su={})),(function(t){t.is=function(e){const n=e;return g.objectLiteral(n)&&Hs.is(n.uri)&&g.string(n.name)}})(au||(au={})),(function(t){function e(n,r){if(n.length<=1)return n;const i=n.length/2|0,s=n.slice(0,i),a=n.slice(i);e(s,r),e(a,r);let o=0,l=0,c=0;for(;o<s.length&&l<a.length;){let u=r(s[o],a[l]);n[c++]=u<=0?s[o++]:a[l++]}for(;o<s.length;)n[c++]=s[o++];for(;l<a.length;)n[c++]=a[l++];return n}t.create=function(n,r,i,s){return new Zg(n,r,i,s)},t.is=function(n){let r=n;return!!(g.defined(r)&&g.string(r.uri)&&(g.undefined(r.languageId)||g.string(r.languageId))&&g.uinteger(r.lineCount)&&g.func(r.getText)&&g.func(r.positionAt)&&g.func(r.offsetAt))},t.applyEdits=function(n,r){let i=n.getText(),s=e(r,((o,l)=>{let c=o.range.start.line-l.range.start.line;return c===0?o.range.start.character-l.range.start.character:c})),a=i.length;for(let o=s.length-1;o>=0;o--){let l=s[o],c=n.offsetAt(l.range.start),u=n.offsetAt(l.range.end);if(!(u<=a))throw new Error("Overlapping edit");i=i.substring(0,c)+l.newText+i.substring(u,i.length),a=c}return i}})(ou||(ou={}));let Zg=class{constructor(t,e,n,r){this._uri=t,this._languageId=e,this._version=n,this._content=r,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let e=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(e,n)}return this._content}update(t,e){this._content=t.text,this._version=e,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],e=this._content,n=!0;for(let r=0;r<e.length;r++){n&&(t.push(r),n=!1);let i=e.charAt(r);n=i==="\r"||i===`
`,i==="\r"&&r+1<e.length&&e.charAt(r+1)===`
`&&r++}n&&e.length>0&&t.push(e.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let e=this.getLineOffsets(),n=0,r=e.length;if(r===0)return F.create(0,t);for(;n<r;){let s=Math.floor((n+r)/2);e[s]>t?r=s:n=s+1}let i=n-1;return F.create(i,t-e[i])}offsetAt(t){let e=this.getLineOffsets();if(t.line>=e.length)return this._content.length;if(t.line<0)return 0;let n=e[t.line],r=t.line+1<e.length?e[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,r),n)}get lineCount(){return this.getLineOffsets().length}};var g;(function(t){const e=Object.prototype.toString;t.defined=function(n){return n!==void 0},t.undefined=function(n){return n===void 0},t.boolean=function(n){return n===!0||n===!1},t.string=function(n){return e.call(n)==="[object String]"},t.number=function(n){return e.call(n)==="[object Number]"},t.numberRange=function(n,r,i){return e.call(n)==="[object Number]"&&r<=n&&n<=i},t.integer=function(n){return e.call(n)==="[object Number]"&&-2147483648<=n&&n<=2147483647},t.uinteger=function(n){return e.call(n)==="[object Number]"&&0<=n&&n<=2147483647},t.func=function(n){return e.call(n)==="[object Function]"},t.objectLiteral=function(n){return n!==null&&typeof n=="object"},t.typedArray=function(n,r){return Array.isArray(n)&&n.every(r)}})(g||(g={}));class Jg{constructor(){this.nodeStack=[]}get current(){var e;return(e=this.nodeStack[this.nodeStack.length-1])!==null&&e!==void 0?e:this.rootNode}buildRootNode(e){return this.rootNode=new cf(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const n=new xo;return n.grammarSource=e,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(e,n){const r=new Fa(e.startOffset,e.image.length,$a(e),e.tokenType,!n);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const n=e.container;if(n){const r=n.content.indexOf(e);r>=0&&n.content.splice(r,1)}}addHiddenNodes(e){const n=[];for(const s of e){const a=new Fa(s.startOffset,s.image.length,$a(s),s.tokenType,!0);a.root=this.rootNode,n.push(a)}let r=this.current,i=!1;if(r.content.length>0)r.content.push(...n);else{for(;r.container;){const s=r.container.content.indexOf(r);if(s>0){r.container.content.splice(s,0,...n),i=!0;break}r=r.container}i||this.rootNode.content.unshift(...n)}}construct(e){const n=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=n;const r=this.nodeStack.pop();r?.content.length===0&&this.removeNode(r)}}class lf{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,n;const r=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(n=this.container)===null||n===void 0?void 0:n.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Fa extends lf{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,n,r,i,s=!1){super(),this._hidden=s,this._offset=e,this._tokenType=i,this._length=n,this._range=r}}class xo extends lf{constructor(){super(...arguments),this.content=new So(this)}get children(){return this.content}get offset(){var e,n;return(n=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&n!==void 0?n:0}get length(){return this.end-this.offset}get end(){var e,n;return(n=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&n!==void 0?n:0}get range(){const e=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(e&&n){if(this._rangeCache===void 0){const{range:r}=e,{range:i}=n;this._rangeCache={start:r.start,end:i.end.line<r.start.line?r.start:i.end}}return this._rangeCache}return{start:F.create(0,0),end:F.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const n=this.content[e];if(!n.hidden)return n}return this.content[this.content.length-1]}}class So extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,So.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,n,...r){return this.addParents(r),super.splice(e,n,...r)}addParents(e){for(const n of e)n.container=this.parent}}class cf extends xo{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const ja=Symbol("Datatype");function ia(t){return t.$type===ja}const uf=t=>t.endsWith("​")?t:t+"​";class df{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const n=this.lexer.definition,r=e.LanguageMetaData.mode==="production";this.wrapper=new iy(n,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,n){this.wrapper.wrapOr(e,n)}optional(e,n){this.wrapper.wrapOption(e,n)}many(e,n){this.wrapper.wrapMany(e,n)}atLeastOne(e,n){this.wrapper.wrapAtLeastOne(e,n)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class ey extends df{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new Jg,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,n){const r=this.computeRuleType(e),i=this.wrapper.DEFINE_RULE(uf(e.name),this.startImplementation(r,n).bind(this));return this.allRules.set(e.name,i),e.entry&&(this.mainRule=i),i}computeRuleType(e){if(!e.fragment){if(qu(e))return ja;{const n=Qa(e);return n??e.name}}}parse(e,n={}){this.nodeBuilder.buildRootNode(e);const r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const i=n.rule?this.allRules.get(n.rule):this.mainRule;if(!i)throw new Error(n.rule?`No rule found with name '${n.rule}'`:"No main rule available.");const s=i.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:s,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,n){return r=>{const i=!this.isRecording()&&e!==void 0;if(i){const a={$type:e};this.stack.push(a),e===ja&&(a.value="")}let s;try{s=n(r)}catch{s=void 0}return s===void 0&&i&&(s=this.construct()),s}}extractHiddenTokens(e){const n=this.lexerResult.hidden;if(!n.length)return[];const r=e.startOffset;for(let i=0;i<n.length;i++)if(n[i].startOffset>r)return n.splice(0,i);return n.splice(0,n.length)}consume(e,n,r){const i=this.wrapper.wrapConsume(e,n);if(!this.isRecording()&&this.isValidToken(i)){const s=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(s);const a=this.nodeBuilder.buildLeafNode(i,r),{assignment:o,isCrossRef:l}=this.getAssignment(r),c=this.current;if(o){const u=Ft(r)?i.image:this.converter.convert(i.image,a);this.assign(o.operator,o.feature,u,a,l)}else if(ia(c)){let u=i.image;Ft(r)||(u=this.converter.convert(u,a).toString()),c.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,n,r,i,s){let a;this.isRecording()||r||(a=this.nodeBuilder.buildCompositeNode(i));const o=this.wrapper.wrapSubrule(e,n,s);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(o,i,a)}performSubruleAssignment(e,n,r){const{assignment:i,isCrossRef:s}=this.getAssignment(n);if(i)this.assign(i.operator,i.feature,e,r,s);else if(!i){const a=this.current;if(ia(a))a.value+=e.toString();else if(typeof e=="object"&&e){const o=this.assignWithoutOverride(e,a);this.stack.pop(),this.stack.push(o)}}}action(e,n){if(!this.isRecording()){let r=this.current;if(n.feature&&n.operator){r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(n).content.push(r.$cstNode);const i={$type:e};this.stack.push(i),this.assign(n.operator,n.feature,r,r.$cstNode,!1)}else r.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return(function(n){for(const[r,i]of Object.entries(n))r.startsWith("$")||(Array.isArray(i)?i.forEach(((s,a)=>{he(s)&&(s.$container=n,s.$containerProperty=r,s.$containerIndex=a)})):he(i)&&(i.$container=n,i.$containerProperty=r))})(e),this.nodeBuilder.construct(e),this.stack.pop(),ia(e)?this.converter.convert(e.value,e.$cstNode):((function(n,r){const i=n.getTypeMetaData(r.$type),s=r;for(const a of i.properties)a.defaultValue!==void 0&&s[a.name]===void 0&&(s[a.name]=Bu(a.defaultValue))})(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const n=Ji(e,Ut);this.assignmentMap.set(e,{assignment:n,isCrossRef:!!n&&Wa(n.terminal)})}return this.assignmentMap.get(e)}assign(e,n,r,i,s){const a=this.current;let o;switch(o=s&&typeof r=="string"?this.linker.buildReference(a,n,i,r):r,e){case"=":a[n]=o;break;case"?=":a[n]=!0;break;case"+=":Array.isArray(a[n])||(a[n]=[]),a[n].push(o)}}assignWithoutOverride(e,n){for(const[i,s]of Object.entries(n)){const a=e[i];a===void 0?e[i]=s:Array.isArray(a)&&Array.isArray(s)&&(s.push(...a),e[i]=s)}const r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class ty{buildMismatchTokenMessage(e){return tn.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return tn.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return tn.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return tn.buildEarlyExitMessage(e)}}class ff extends ty{buildMismatchTokenMessage({expected:e,actual:n}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class ny extends df{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const n=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,n){const r=this.wrapper.DEFINE_RULE(uf(e.name),this.startImplementation(n).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return n=>{const r=this.keepStackSize();try{e(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,n,r){this.wrapper.wrapConsume(e,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,n,r,i,s){this.before(i),this.wrapper.wrapSubrule(e,n,s),this.after(i)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(e);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const ry={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new ff};class iy extends Lg{constructor(e,n){const r=n&&"maxLookahead"in n;super(e,Object.assign(Object.assign(Object.assign({},ry),{lookaheadStrategy:r?new Ro({maxLookahead:n.maxLookahead}):new Vg({logging:n.skipValidations?()=>{}:void 0})}),n))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,n){return this.RULE(e,n)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,n){return this.consume(e,n)}wrapSubrule(e,n,r){return this.subrule(e,n,{ARGS:[r]})}wrapOr(e,n){this.or(e,n)}wrapOption(e,n){this.option(e,n)}wrapMany(e,n){this.many(e,n)}wrapAtLeastOne(e,n){this.atLeastOne(e,n)}}function hf(t,e,n){return(function(r,i){const s=Vu(i,!1),a=ce(i.rules).filter(Le).filter((o=>s.has(o)));for(const o of a){const l=Object.assign(Object.assign({},r),{consume:1,optional:1,subrule:1,many:1,or:1});r.parser.rule(o,Ot(l,o.definition))}})({parser:e,tokens:n,ruleNames:new Map},t),e}function Ot(t,e,n=!1){let r;if(Ft(e))r=(function(s,a){const o=s.consume++,l=s.tokens[a.value];if(!l)throw new Error("Could not find token for keyword: "+a.value);return()=>s.parser.consume(o,l,a)})(t,e);else if(Zi(e))r=(function(s,a){const o=Za(a);return()=>s.parser.action(o,a)})(t,e);else if(Ut(e))r=Ot(t,e.terminal);else if(Wa(e))r=pf(t,e);else if(jt(e))r=(function(s,a){const o=a.rule.ref;if(Le(o)){const l=s.subrule++,c=o.fragment,u=a.arguments.length>0?(function(f,d){const h=d.map((p=>ut(p.value)));return p=>{const m={};for(let T=0;T<h.length;T++){const v=f.parameters[T],y=h[T];m[v.name]=y(p)}return m}})(o,a.arguments):()=>({});return f=>s.parser.subrule(l,mf(s,o),c,a,u(f))}if(Dt(o)){const l=s.consume++,c=Ga(s,o.name);return()=>s.parser.consume(l,c,a)}if(!o)throw new Po(a.$cstNode,`Undefined rule: ${a.rule.$refText}`);Cr()})(t,e);else if(Uu(e))r=(function(s,a){if(a.elements.length===1)return Ot(s,a.elements[0]);{const o=[];for(const c of a.elements){const u={ALT:Ot(s,c,!0)},f=oi(c);f&&(u.GATE=ut(f)),o.push(u)}const l=s.or++;return c=>s.parser.alternatives(l,o.map((u=>{const f={ALT:()=>u.ALT(c)},d=u.GATE;return d&&(f.GATE=()=>d(c)),f})))}})(t,e);else if(Fu(e))r=(function(s,a){if(a.elements.length===1)return Ot(s,a.elements[0]);const o=[];for(const d of a.elements){const h={ALT:Ot(s,d,!0)},p=oi(d);p&&(h.GATE=ut(p)),o.push(h)}const l=s.or++,c=(d,h)=>`uGroup_${d}_${h.getRuleStack().join("-")}`,u=d=>s.parser.alternatives(l,o.map(((h,p)=>{const m={ALT:()=>!0},T=s.parser;m.ALT=()=>{if(h.ALT(d),!T.isRecording()){const y=c(l,T);T.unorderedGroups.get(y)||T.unorderedGroups.set(y,[]);const R=T.unorderedGroups.get(y);R?.[p]===void 0&&(R[p]=!0)}};const v=h.GATE;return m.GATE=v?()=>v(d):()=>{const y=T.unorderedGroups.get(c(l,T));return!y?.[p]},m}))),f=lu(s,oi(a),u,"*");return d=>{f(d),s.parser.isRecording()||s.parser.unorderedGroups.delete(c(l,s.parser))}})(t,e);else if(Ya(e))r=(function(s,a){const o=a.elements.map((l=>Ot(s,l)));return l=>o.forEach((c=>c(l)))})(t,e);else{if(i=e,!j.isInstance(i,Jn))throw new Po(e.$cstNode,`Unexpected element type: ${e.$type}`);{const s=t.consume++;r=()=>t.parser.consume(s,gt,e)}}var i;return lu(t,n?void 0:oi(e),r,e.cardinality)}function ut(t){if(e=t,j.isInstance(e,jn)){const n=ut(t.left),r=ut(t.right);return i=>n(i)||r(i)}if((function(n){return j.isInstance(n,Fn)})(t)){const n=ut(t.left),r=ut(t.right);return i=>n(i)&&r(i)}if((function(n){return j.isInstance(n,Kn)})(t)){const n=ut(t.value);return r=>!n(r)}if((function(n){return j.isInstance(n,Vn)})(t)){const n=t.parameter.ref.name;return r=>r!==void 0&&r[n]===!0}if((function(n){return j.isInstance(n,Un)})(t)){const n=!!t.true;return()=>n}var e;Cr()}function oi(t){if(Ya(t))return t.guardCondition}function pf(t,e,n=e.terminal){if(n){if(jt(n)&&Le(n.rule.ref)){const r=n.rule.ref,i=t.subrule++;return s=>t.parser.subrule(i,mf(t,r),!1,e,s)}if(jt(n)&&Dt(n.rule.ref)){const r=t.consume++,i=Ga(t,n.rule.ref.name);return()=>t.parser.consume(r,i,e)}if(Ft(n)){const r=t.consume++,i=Ga(t,n.value);return()=>t.parser.consume(r,i,e)}throw new Error("Could not build cross reference parser")}{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const r=Wu(e.type.ref),i=r?.terminal;if(!i)throw new Error("Could not find name assignment for type: "+Za(e.type.ref));return pf(t,e,i)}}function lu(t,e,n,r){const i=e&&ut(e);if(!r){if(i){const s=t.or++;return a=>t.parser.alternatives(s,[{ALT:()=>n(a),GATE:()=>i(a)},{ALT:Jl(),GATE:()=>!i(a)}])}return n}if(r==="*"){const s=t.many++;return a=>t.parser.many(s,{DEF:()=>n(a),GATE:i?()=>i(a):void 0})}if(r==="+"){const s=t.many++;if(i){const a=t.or++;return o=>t.parser.alternatives(a,[{ALT:()=>t.parser.atLeastOne(s,{DEF:()=>n(o)}),GATE:()=>i(o)},{ALT:Jl(),GATE:()=>!i(o)}])}return a=>t.parser.atLeastOne(s,{DEF:()=>n(a)})}if(r==="?"){const s=t.optional++;return a=>t.parser.optional(s,{DEF:()=>n(a),GATE:i?()=>i(a):void 0})}Cr()}function mf(t,e){const n=(function(i,s){if(Le(s))return s.name;if(i.ruleNames.has(s))return i.ruleNames.get(s);{let a=s,o=a.$container,l=s.$type;for(;!Le(o);)(Ya(o)||Uu(o)||Fu(o))&&(l=o.elements.indexOf(a).toString()+":"+l),a=o,o=o.$container;return l=o.name+":"+l,i.ruleNames.set(s,l),l}})(t,e),r=t.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function Ga(t,e){const n=t.tokens[e];if(!n)throw new Error(`Token "${e}" not found."`);return n}function sy(t){const e=(function(n){const r=n.Grammar,i=n.parser.Lexer,s=new ey(n);return hf(r,s,i.definition)})(t);return e.finalize(),e}class gf{constructor(){this.diagnostics=[]}buildTokens(e,n){const r=ce(Vu(e,!1)),i=this.buildTerminalTokens(r),s=this.buildKeywordTokens(r,i,n);return i.forEach((a=>{const o=a.PATTERN;typeof o=="object"&&o&&"test"in o&&Aa(o)?s.unshift(a):s.push(a)})),s}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(Dt).filter((n=>!n.fragment)).map((n=>this.buildTerminalToken(n))).toArray()}buildTerminalToken(e){const n=ka(e),r=this.requiresCustomPattern(n)?this.regexPatternFunction(n):n,i={name:e.name,PATTERN:r};return typeof r=="function"&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=Aa(n)?Re.SKIPPED:"hidden"),i}requiresCustomPattern(e){return!(!e.flags.includes("u")&&!e.flags.includes("s"))||!(!e.source.includes("?<=")&&!e.source.includes("?<!"))}regexPatternFunction(e){const n=new RegExp(e,e.flags+"y");return(r,i)=>(n.lastIndex=i,n.exec(r))}buildKeywordTokens(e,n,r){return e.filter(Le).flatMap((i=>Nr(i).filter(Ft))).distinct((i=>i.value)).toArray().sort(((i,s)=>s.value.length-i.value.length)).map((i=>this.buildKeywordToken(i,n,!!r?.caseInsensitive)))}buildKeywordToken(e,n,r){const i=this.buildKeywordPattern(e,r),s={name:e.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(e,n)};return typeof i=="function"&&(s.LINE_BREAKS=!0),s}buildKeywordPattern(e,n){return n?new RegExp((function(r){return Array.prototype.map.call(r,(i=>/\w/.test(i)?`[${i.toLowerCase()}${i.toUpperCase()}]`:es(i))).join("")})(e.value)):e.value}findLongerAlt(e,n){return n.reduce(((r,i)=>{const s=i?.PATTERN;return s?.source&&fh("^"+s.source+"$",e.value)&&r.push(i),r}),[])}}class yf{convert(e,n){let r=n.grammarSource;if(Wa(r)&&(r=(function(i){if(i.terminal)return i.terminal;if(i.type.ref){const s=Wu(i.type.ref);return s?.terminal}})(r)),jt(r)){const i=r.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,n)}return e}runConverter(e,n,r){var i;switch(e.name.toUpperCase()){case"INT":return st.convertInt(n);case"STRING":return st.convertString(n);case"ID":return st.convertID(n)}switch((i=(function(s){var a,o,l;return Dt(s)?(o=(a=s.type)===null||a===void 0?void 0:a.name)!==null&&o!==void 0?o:"string":(l=Qa(s))!==null&&l!==void 0?l:s.name})(e))===null||i===void 0?void 0:i.toLowerCase()){case"number":return st.convertNumber(n);case"boolean":return st.convertBoolean(n);case"bigint":return st.convertBigint(n);case"date":return st.convertDate(n);default:return n}}}var st;(function(t){function e(n){switch(n){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return n}}t.convertString=function(n){let r="";for(let i=1;i<n.length-1;i++){const s=n.charAt(i);s==="\\"?r+=e(n.charAt(++i)):r+=s}return r},t.convertID=function(n){return n.charAt(0)==="^"?n.substring(1):n},t.convertInt=function(n){return parseInt(n)},t.convertBigint=function(n){return BigInt(n)},t.convertDate=function(n){return new Date(n)},t.convertNumber=function(n){return Number(n)},t.convertBoolean=function(n){return n.toLowerCase()==="true"}})(st||(st={}));var cu,Ct={},li={};function vf(){if(cu)return li;let t;function e(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}return cu=1,Object.defineProperty(li,"__esModule",{value:!0}),(function(n){n.install=function(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");t=r}})(e||(e={})),li.default=e,li}var uu,ae={},du,fu,Nt={};function Tf(){if(du)return Nt;du=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.Emitter=Nt.Event=void 0;const t=vf();var e;(function(i){const s={dispose(){}};i.None=function(){return s}})(e||(Nt.Event=e={}));class n{add(s,a=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(s),this._contexts.push(a),Array.isArray(o)&&o.push({dispose:()=>this.remove(s,a)})}remove(s,a=null){if(!this._callbacks)return;let o=!1;for(let l=0,c=this._callbacks.length;l<c;l++)if(this._callbacks[l]===s){if(this._contexts[l]===a)return this._callbacks.splice(l,1),void this._contexts.splice(l,1);o=!0}if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...s){if(!this._callbacks)return[];const a=[],o=this._callbacks.slice(0),l=this._contexts.slice(0);for(let c=0,u=o.length;c<u;c++)try{a.push(o[c].apply(l[c],s))}catch(f){(0,t.default)().console.error(f)}return a}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(s){this._options=s}get event(){return this._event||(this._event=(s,a,o)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,a);const l={dispose:()=>{this._callbacks&&(this._callbacks.remove(s,a),l.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(o)&&o.push(l),l}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return Nt.Emitter=r,r._noop=function(){},Nt}var X=(function(){if(fu)return Ct;fu=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.CancellationTokenSource=Ct.CancellationToken=void 0;const t=vf(),e=(function(){if(uu)return ae;function a(l){return typeof l=="string"||l instanceof String}function o(l){return Array.isArray(l)}return uu=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.stringArray=ae.array=ae.func=ae.error=ae.number=ae.string=ae.boolean=void 0,ae.boolean=function(l){return l===!0||l===!1},ae.string=a,ae.number=function(l){return typeof l=="number"||l instanceof Number},ae.error=function(l){return l instanceof Error},ae.func=function(l){return typeof l=="function"},ae.array=o,ae.stringArray=function(l){return o(l)&&l.every((c=>a(c)))},ae})(),n=Tf();var r;(function(a){a.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),a.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None}),a.is=function(o){const l=o;return l&&(l===a.None||l===a.Cancelled||e.boolean(l.isCancellationRequested)&&!!l.onCancellationRequested)}})(r||(Ct.CancellationToken=r={}));const i=Object.freeze((function(a,o){const l=(0,t.default)().timer.setTimeout(a.bind(o),0);return{dispose(){l.dispose()}}}));class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}return Ct.CancellationTokenSource=class{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=r.None}},Ct})();let ki=0;const Yi=Symbol("OperationCancelled");function ms(t){return t===Yi}async function Se(t){if(t===X.CancellationToken.None)return;const e=performance.now();if(e-ki>=10&&(ki=e,await new Promise((n=>{typeof setImmediate>"u"?setTimeout(n,0):setImmediate(n)})),ki=performance.now()),t.isCancellationRequested)throw Yi}class Io{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=r=>(e(r),this),this.reject=r=>(n(r),this)}))}}class br{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(br.isIncremental(r)){const i=Ef(r.range),s=this.offsetAt(i.start),a=this.offsetAt(i.end);this._content=this._content.substring(0,s)+r.text+this._content.substring(a,this._content.length);const o=Math.max(i.start.line,0),l=Math.max(i.end.line,0);let c=this._lineOffsets;const u=hu(r.text,!1,s);if(l-o===u.length)for(let d=0,h=u.length;d<h;d++)c[d+o+1]=u[d];else u.length<1e4?c.splice(o+1,l-o,...u):this._lineOffsets=c=c.slice(0,o+1).concat(u,c.slice(l+1));const f=r.text.length-(a-s);if(f!==0)for(let d=o+1+u.length,h=c.length;d<h;d++)c[d]=c[d]+f}else{if(!br.isFull(r))throw new Error("Unknown change event received");this._content=r.text,this._lineOffsets=void 0}this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=hu(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,i=n.length;if(i===0)return{line:0,character:e};for(;r<i;){const a=Math.floor((r+i)/2);n[a]>e?i=a:r=a+1}const s=r-1;return{line:s,character:(e=this.ensureBeforeEOL(e,n[s]))-n[s]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const i=e.line+1<n.length?n[e.line+1]:this._content.length,s=Math.min(r+e.character,i);return this.ensureBeforeEOL(s,r)}ensureBeforeEOL(e,n){for(;e>n&&$f(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(e){const n=e;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var Ba,Rf;function Ka(t,e){if(t.length<=1)return t;const n=t.length/2|0,r=t.slice(0,n),i=t.slice(n);Ka(r,e),Ka(i,e);let s=0,a=0,o=0;for(;s<r.length&&a<i.length;){const l=e(r[s],i[a]);t[o++]=l<=0?r[s++]:i[a++]}for(;s<r.length;)t[o++]=r[s++];for(;a<i.length;)t[o++]=i[a++];return t}function hu(t,e,n=0){const r=e?[n]:[];for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);$f(s)&&(s===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function $f(t){return t===13||t===10}function Ef(t){const e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function ay(t){const e=Ef(t.range);return e!==t.range?{newText:t.newText,range:e}:t}(function(t){t.create=function(e,n,r,i){return new br(e,n,r,i)},t.update=function(e,n,r){if(e instanceof br)return e.update(n,r),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},t.applyEdits=function(e,n){const r=e.getText(),i=Ka(n.map(ay),((o,l)=>{const c=o.range.start.line-l.range.start.line;return c===0?o.range.start.character-l.range.start.character:c}));let s=0;const a=[];for(const o of i){const l=e.offsetAt(o.range.start);if(l<s)throw new Error("Overlapping edit");l>s&&a.push(r.substring(s,l)),o.newText.length&&a.push(o.newText),s=e.offsetAt(o.range.end)}return a.push(r.substr(s)),a.join("")}})(Ba||(Ba={})),(()=>{var t={470:i=>{function s(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function a(l,c){for(var u,f="",d=0,h=-1,p=0,m=0;m<=l.length;++m){if(m<l.length)u=l.charCodeAt(m);else{if(u===47)break;u=47}if(u===47){if(!(h===m-1||p===1))if(h!==m-1&&p===2){if(f.length<2||d!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var T=f.lastIndexOf("/");if(T!==f.length-1){T===-1?(f="",d=0):d=(f=f.slice(0,T)).length-1-f.lastIndexOf("/"),h=m,p=0;continue}}else if(f.length===2||f.length===1){f="",d=0,h=m,p=0;continue}}c&&(f.length>0?f+="/..":f="..",d=2)}else f.length>0?f+="/"+l.slice(h+1,m):f=l.slice(h+1,m),d=m-h-1;h=m,p=0}else u===46&&p!==-1?++p:p=-1}return f}var o={resolve:function(){for(var l,c="",u=!1,f=arguments.length-1;f>=-1&&!u;f--){var d;f>=0?d=arguments[f]:(l===void 0&&(l=process.cwd()),d=l),s(d),d.length!==0&&(c=d+"/"+c,u=d.charCodeAt(0)===47)}return c=a(c,!u),u?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(l){if(s(l),l.length===0)return".";var c=l.charCodeAt(0)===47,u=l.charCodeAt(l.length-1)===47;return(l=a(l,!c)).length!==0||c||(l="."),l.length>0&&u&&(l+="/"),c?"/"+l:l},isAbsolute:function(l){return s(l),l.length>0&&l.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var l,c=0;c<arguments.length;++c){var u=arguments[c];s(u),u.length>0&&(l===void 0?l=u:l+="/"+u)}return l===void 0?".":o.normalize(l)},relative:function(l,c){if(s(l),s(c),l===c||(l=o.resolve(l))===(c=o.resolve(c)))return"";for(var u=1;u<l.length&&l.charCodeAt(u)===47;++u);for(var f=l.length,d=f-u,h=1;h<c.length&&c.charCodeAt(h)===47;++h);for(var p=c.length-h,m=d<p?d:p,T=-1,v=0;v<=m;++v){if(v===m){if(p>m){if(c.charCodeAt(h+v)===47)return c.slice(h+v+1);if(v===0)return c.slice(h+v)}else d>m&&(l.charCodeAt(u+v)===47?T=v:v===0&&(T=0));break}var y=l.charCodeAt(u+v);if(y!==c.charCodeAt(h+v))break;y===47&&(T=v)}var R="";for(v=u+T+1;v<=f;++v)v!==f&&l.charCodeAt(v)!==47||(R.length===0?R+="..":R+="/..");return R.length>0?R+c.slice(h+T):(h+=T,c.charCodeAt(h)===47&&++h,c.slice(h))},_makeLong:function(l){return l},dirname:function(l){if(s(l),l.length===0)return".";for(var c=l.charCodeAt(0),u=c===47,f=-1,d=!0,h=l.length-1;h>=1;--h)if((c=l.charCodeAt(h))===47){if(!d){f=h;break}}else d=!1;return f===-1?u?"/":".":u&&f===1?"//":l.slice(0,f)},basename:function(l,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');s(l);var u,f=0,d=-1,h=!0;if(c!==void 0&&c.length>0&&c.length<=l.length){if(c.length===l.length&&c===l)return"";var p=c.length-1,m=-1;for(u=l.length-1;u>=0;--u){var T=l.charCodeAt(u);if(T===47){if(!h){f=u+1;break}}else m===-1&&(h=!1,m=u+1),p>=0&&(T===c.charCodeAt(p)?--p==-1&&(d=u):(p=-1,d=m))}return f===d?d=m:d===-1&&(d=l.length),l.slice(f,d)}for(u=l.length-1;u>=0;--u)if(l.charCodeAt(u)===47){if(!h){f=u+1;break}}else d===-1&&(h=!1,d=u+1);return d===-1?"":l.slice(f,d)},extname:function(l){s(l);for(var c=-1,u=0,f=-1,d=!0,h=0,p=l.length-1;p>=0;--p){var m=l.charCodeAt(p);if(m!==47)f===-1&&(d=!1,f=p+1),m===46?c===-1?c=p:h!==1&&(h=1):c!==-1&&(h=-1);else if(!d){u=p+1;break}}return c===-1||f===-1||h===0||h===1&&c===f-1&&c===u+1?"":l.slice(c,f)},format:function(l){if(l===null||typeof l!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof l);return(function(c,u){var f=u.dir||u.root,d=u.base||(u.name||"")+(u.ext||"");return f?f===u.root?f+d:f+"/"+d:d})(0,l)},parse:function(l){s(l);var c={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return c;var u,f=l.charCodeAt(0),d=f===47;d?(c.root="/",u=1):u=0;for(var h=-1,p=0,m=-1,T=!0,v=l.length-1,y=0;v>=u;--v)if((f=l.charCodeAt(v))!==47)m===-1&&(T=!1,m=v+1),f===46?h===-1?h=v:y!==1&&(y=1):h!==-1&&(y=-1);else if(!T){p=v+1;break}return h===-1||m===-1||y===0||y===1&&h===m-1&&h===p+1?m!==-1&&(c.base=c.name=p===0&&d?l.slice(1,m):l.slice(p,m)):(p===0&&d?(c.name=l.slice(1,h),c.base=l.slice(1,m)):(c.name=l.slice(p,h),c.base=l.slice(p,m)),c.ext=l.slice(h,m)),p>0?c.dir=l.slice(0,p-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,i.exports=o}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.d=(i,s)=>{for(var a in s)n.o(s,a)&&!n.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})},n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{let i;n.r(r),n.d(r,{URI:()=>d,Utils:()=>Y}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,a=/^\//,o=/^\/\//;function l(A,$){if(!A.scheme&&$)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${A.authority}", path: "${A.path}", query: "${A.query}", fragment: "${A.fragment}"}`);if(A.scheme&&!s.test(A.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(A.path){if(A.authority){if(!a.test(A.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(A.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const c="",u="/",f=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{static isUri($){return $ instanceof d||!!$&&typeof $.authority=="string"&&typeof $.fragment=="string"&&typeof $.path=="string"&&typeof $.query=="string"&&typeof $.scheme=="string"&&typeof $.fsPath=="string"&&typeof $.with=="function"&&typeof $.toString=="function"}scheme;authority;path;query;fragment;constructor($,S,x,P,_,b=!1){typeof $=="object"?(this.scheme=$.scheme||c,this.authority=$.authority||c,this.path=$.path||c,this.query=$.query||c,this.fragment=$.fragment||c):(this.scheme=(function(fe,ee){return fe||ee?fe:"file"})($,b),this.authority=S||c,this.path=(function(fe,ee){switch(fe){case"https":case"http":case"file":ee?ee[0]!==u&&(ee=u+ee):ee=u}return ee})(this.scheme,x||c),this.query=P||c,this.fragment=_||c,l(this,b))}get fsPath(){return y(this)}with($){if(!$)return this;let{scheme:S,authority:x,path:P,query:_,fragment:b}=$;return S===void 0?S=this.scheme:S===null&&(S=c),x===void 0?x=this.authority:x===null&&(x=c),P===void 0?P=this.path:P===null&&(P=c),_===void 0?_=this.query:_===null&&(_=c),b===void 0?b=this.fragment:b===null&&(b=c),S===this.scheme&&x===this.authority&&P===this.path&&_===this.query&&b===this.fragment?this:new p(S,x,P,_,b)}static parse($,S=!1){const x=f.exec($);return x?new p(x[2]||c,O(x[4]||c),O(x[5]||c),O(x[7]||c),O(x[9]||c),S):new p(c,c,c,c,c)}static file($){let S=c;if(i&&($=$.replace(/\\/g,u)),$[0]===u&&$[1]===u){const x=$.indexOf(u,2);x===-1?(S=$.substring(2),$=u):(S=$.substring(2,x),$=$.substring(x)||u)}return new p("file",S,$,c,c)}static from($){const S=new p($.scheme,$.authority,$.path,$.query,$.fragment);return l(S,!0),S}toString($=!1){return R(this,$)}toJSON(){return this}static revive($){if($){if($ instanceof d)return $;{const S=new p($);return S._formatted=$.external,S._fsPath=$._sep===h?$.fsPath:null,S}}return $}}const h=i?1:void 0;class p extends d{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=y(this)),this._fsPath}toString($=!1){return $?R(this,!0):(this._formatted||(this._formatted=R(this,!1)),this._formatted)}toJSON(){const $={$mid:1};return this._fsPath&&($.fsPath=this._fsPath,$._sep=h),this._formatted&&($.external=this._formatted),this.path&&($.path=this.path),this.scheme&&($.scheme=this.scheme),this.authority&&($.authority=this.authority),this.query&&($.query=this.query),this.fragment&&($.fragment=this.fragment),$}}const m={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function T(A,$,S){let x,P=-1;for(let _=0;_<A.length;_++){const b=A.charCodeAt(_);if(b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===45||b===46||b===95||b===126||$&&b===47||S&&b===91||S&&b===93||S&&b===58)P!==-1&&(x+=encodeURIComponent(A.substring(P,_)),P=-1),x!==void 0&&(x+=A.charAt(_));else{x===void 0&&(x=A.substr(0,_));const fe=m[b];fe!==void 0?(P!==-1&&(x+=encodeURIComponent(A.substring(P,_)),P=-1),x+=fe):P===-1&&(P=_)}}return P!==-1&&(x+=encodeURIComponent(A.substring(P))),x!==void 0?x:A}function v(A){let $;for(let S=0;S<A.length;S++){const x=A.charCodeAt(S);x===35||x===63?($===void 0&&($=A.substr(0,S)),$+=m[x]):$!==void 0&&($+=A[S])}return $!==void 0?$:A}function y(A,$){let S;return S=A.authority&&A.path.length>1&&A.scheme==="file"?`//${A.authority}${A.path}`:A.path.charCodeAt(0)===47&&(A.path.charCodeAt(1)>=65&&A.path.charCodeAt(1)<=90||A.path.charCodeAt(1)>=97&&A.path.charCodeAt(1)<=122)&&A.path.charCodeAt(2)===58?A.path[1].toLowerCase()+A.path.substr(2):A.path,i&&(S=S.replace(/\//g,"\\")),S}function R(A,$){const S=$?v:T;let x="",{scheme:P,authority:_,path:b,query:fe,fragment:ee}=A;if(P&&(x+=P,x+=":"),(_||P==="file")&&(x+=u,x+=u),_){let G=_.indexOf("@");if(G!==-1){const It=_.substr(0,G);_=_.substr(G+1),G=It.lastIndexOf(":"),G===-1?x+=S(It,!1,!1):(x+=S(It.substr(0,G),!1,!1),x+=":",x+=S(It.substr(G+1),!1,!0)),x+="@"}_=_.toLowerCase(),G=_.lastIndexOf(":"),G===-1?x+=S(_,!1,!0):(x+=S(_.substr(0,G),!1,!0),x+=_.substr(G))}if(b){if(b.length>=3&&b.charCodeAt(0)===47&&b.charCodeAt(2)===58){const G=b.charCodeAt(1);G>=65&&G<=90&&(b=`/${String.fromCharCode(G+32)}:${b.substr(3)}`)}else if(b.length>=2&&b.charCodeAt(1)===58){const G=b.charCodeAt(0);G>=65&&G<=90&&(b=`${String.fromCharCode(G+32)}:${b.substr(2)}`)}x+=S(b,!0,!1)}return fe&&(x+="?",x+=S(fe,!1,!1)),ee&&(x+="#",x+=$?ee:T(ee,!1,!1)),x}function k(A){try{return decodeURIComponent(A)}catch{return A.length>3?A.substr(0,3)+k(A.substr(3)):A}}const L=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function O(A){return A.match(L)?A.replace(L,($=>k($))):A}var D=n(470);const W=D.posix||D,J="/";var Y;(function(A){A.joinPath=function($,...S){return $.with({path:W.join($.path,...S)})},A.resolvePath=function($,...S){let x=$.path,P=!1;x[0]!==J&&(x=J+x,P=!0);let _=W.resolve(x,...S);return P&&_[0]===J&&!$.authority&&(_=_.substring(1)),$.with({path:_})},A.dirname=function($){if($.path.length===0||$.path===J)return $;let S=W.dirname($.path);return S.length===1&&S.charCodeAt(0)===46&&(S=""),$.with({path:S})},A.basename=function($){return W.basename($.path)},A.extname=function($){return W.extname($.path)}})(Y||(Y={}))})(),Rf=r})();const{URI:Gt,Utils:Mn}=Rf;var $t,z;(function(t){t.basename=Mn.basename,t.dirname=Mn.dirname,t.extname=Mn.extname,t.joinPath=Mn.joinPath,t.resolvePath=Mn.resolvePath,t.equals=function(e,n){return e?.toString()===n?.toString()},t.relative=function(e,n){const r=typeof e=="string"?e:e.path,i=typeof n=="string"?n:n.path,s=r.split("/").filter((l=>l.length>0)),a=i.split("/").filter((l=>l.length>0));let o=0;for(;o<s.length&&s[o]===a[o];o++);return"../".repeat(s.length-o)+a.slice(o).join("/")},t.normalize=function(e){return Gt.parse(e.toString()).toString()}})($t||($t={})),(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(z||(z={}));class oy{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,n=X.CancellationToken.None){const r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,n)}fromTextDocument(e,n,r){return n=n??Gt.parse(e.uri),X.CancellationToken.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromString(e,n,r){return X.CancellationToken.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromModel(e,n){return this.create(n,{$model:e})}create(e,n,r){if(typeof n=="string"){const i=this.parse(e,n,r);return this.createLangiumDocument(i,e,void 0,n)}if("$model"in n){const i={value:n.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,e)}{const i=this.parse(e,n.getText(),r);return this.createLangiumDocument(i,e,n)}}async createAsync(e,n,r){if(typeof n=="string"){const i=await this.parseAsync(e,n,r);return this.createLangiumDocument(i,e,void 0,n)}{const i=await this.parseAsync(e,n.getText(),r);return this.createLangiumDocument(i,e,n)}}createLangiumDocument(e,n,r,i){let s;if(r)s={parseResult:e,uri:n,state:z.Parsed,references:[],textDocument:r};else{const a=this.createTextDocumentGetter(n,i);s={parseResult:e,uri:n,state:z.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=s,s}async update(e,n){var r,i;const s=(r=e.parseResult.value.$cstNode)===null||r===void 0?void 0:r.root.fullText,a=(i=this.textDocuments)===null||i===void 0?void 0:i.get(e.uri.toString()),o=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{const l=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:l})}return s!==o&&(e.parseResult=await this.parseAsync(e.uri,o,n),e.parseResult.value.$document=e),e.state=z.Parsed,e}parse(e,n,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(n,r)}parseAsync(e,n,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(e,n){const r=this.serviceRegistry;let i;return()=>i??(i=Ba.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,n??""))}}class ly{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return ce(this.documentMap.values())}addDocument(e){const n=e.uri.toString();if(this.documentMap.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentMap.set(n,e)}getDocument(e){const n=e.toString();return this.documentMap.get(n)}async getOrCreateDocument(e,n){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,n),this.addDocument(r),r)}createDocument(e,n,r){if(r)return this.langiumDocumentFactory.fromString(n,e,r).then((i=>(this.addDocument(i),i)));{const i=this.langiumDocumentFactory.fromString(n,e);return this.addDocument(i),i}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=z.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0),r}deleteDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(r.state=z.Changed,this.documentMap.delete(n)),r}}const sa=Symbol("ref_resolving");class cy{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,n=X.CancellationToken.None){for(const r of nn(e.parseResult.value))await Se(n),Gu(r).forEach((i=>this.doLink(i,e)))}doLink(e,n){var r;const i=e.reference;if(i._ref===void 0){i._ref=sa;try{const s=this.getCandidate(e);if(gi(s))i._ref=s;else if(i._nodeDescription=s,this.langiumDocuments().hasDocument(s.documentUri)){const a=this.loadAstNode(s);i._ref=a??this.createLinkingError(e,s)}else i._ref=void 0}catch(s){console.error(`An error occurred while resolving reference to '${i.$refText}':`,s);const a=(r=s.message)!==null&&r!==void 0?r:String(s);i._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${i.$refText}': ${a}`})}n.references.push(i)}}unlink(e){for(const n of e.references)delete n._ref,delete n._nodeDescription;e.references=[]}getCandidate(e){const n=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return n??this.createLinkingError(e)}buildReference(e,n,r,i){const s=this,a={$refNode:r,$refText:i,get ref(){var o,l;if(he(this._ref))return this._ref;if(typeof(l=this._nodeDescription)=="object"&&l!==null&&typeof l.name=="string"&&typeof l.type=="string"&&typeof l.path=="string"){const c=s.loadAstNode(this._nodeDescription);this._ref=c??s.createLinkingError({reference:a,container:e,property:n},this._nodeDescription)}else if(this._ref===void 0){this._ref=sa;const c=Ea(e).$document,u=s.getLinkedNode({reference:a,container:e,property:n});if(u.error&&c&&c.state<z.ComputedScopes)return this._ref=void 0;this._ref=(o=u.node)!==null&&o!==void 0?o:u.error,this._nodeDescription=u.descr,c?.references.push(this)}else if(this._ref===sa)throw new Error(`Cyclic reference resolution detected: ${s.astNodeLocator.getAstNodePath(e)}/${n} (symbol '${i}')`);return he(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return gi(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){var n;try{const r=this.getCandidate(e);if(gi(r))return{error:r};const i=this.loadAstNode(r);return i?{node:i,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);const i=(n=r.message)!==null&&n!==void 0?n:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${i}`})}}}loadAstNode(e){if(e.node)return e.node;const n=this.langiumDocuments().getDocument(e.documentUri);return n?this.astNodeLocator.getAstNode(n.parseResult.value,e.path):void 0}createLinkingError(e,n){const r=Ea(e.container).$document;r&&r.state<z.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:n})}}class uy{getName(e){if((function(n){return typeof n.name=="string"})(e))return e.name}getNameNode(e){return zu(e.$cstNode,"name")}}class dy{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const n=(function(i){var s;const a=i.astNode;for(;a===((s=i.container)===null||s===void 0?void 0:s.astNode);){const o=Ji(i.grammarSource,Ut);if(o)return o;i=i.container}})(e),r=e.astNode;if(n&&r){const i=r[n.feature];if(Ye(i))return i.ref;if(Array.isArray(i)){for(const s of i)if(Ye(s)&&s.$refNode&&s.$refNode.offset<=e.offset&&s.$refNode.end>=e.end)return s.ref}}if(r){const i=this.nameProvider.getNameNode(r);if(i&&(i===e||(function(s,a){for(;s.container;)if((s=s.container)===a)return!0;return!1})(e,i)))return r}}}findDeclarationNode(e){const n=this.findDeclaration(e);if(n?.$cstNode){const r=this.nameProvider.getNameNode(n);return r??n.$cstNode}}findReferences(e,n){const r=[];if(n.includeDeclaration){const s=this.getReferenceToSelf(e);s&&r.push(s)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return n.documentUri&&(i=i.filter((s=>$t.equals(s.sourceUri,n.documentUri)))),r.push(...i),ce(r)}getReferenceToSelf(e){const n=this.nameProvider.getNameNode(e);if(n){const r=Tt(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:i,targetUri:r.uri,targetPath:i,segment:Oi(n),local:!0}}}}class qi{constructor(e){if(this.map=new Map,e)for(const[n,r]of e)this.add(n,r)}get size(){return Ta.sum(ce(this.map.values()).map((e=>e.length)))}clear(){this.map.clear()}delete(e,n){if(n===void 0)return this.map.delete(e);{const r=this.map.get(e);if(r){const i=r.indexOf(n);if(i>=0)return r.length===1?this.map.delete(e):r.splice(i,1),!0}return!1}}get(e){var n;return(n=this.map.get(e))!==null&&n!==void 0?n:[]}has(e,n){if(n===void 0)return this.map.has(e);{const r=this.map.get(e);return!!r&&r.indexOf(n)>=0}}add(e,n){return this.map.has(e)?this.map.get(e).push(n):this.map.set(e,[n]),this}addAll(e,n){return this.map.has(e)?this.map.get(e).push(...n):this.map.set(e,Array.from(n)),this}forEach(e){this.map.forEach(((n,r)=>n.forEach((i=>e(i,r,this)))))}[Symbol.iterator](){return this.entries().iterator()}entries(){return ce(this.map.entries()).flatMap((([e,n])=>n.map((r=>[e,r]))))}keys(){return ce(this.map.keys())}values(){return ce(this.map.values()).flat()}entriesGroupedByKey(){return ce(this.map.entries())}}class pu{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[n,r]of e)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,n){return this.map.set(e,n),this.inverse.set(n,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const n=this.map.get(e);return n!==void 0&&(this.map.delete(e),this.inverse.delete(n),!0)}}class fy{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,n=X.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,n)}async computeExportsForNode(e,n,r=qa,i=X.CancellationToken.None){const s=[];this.exportNode(e,s,n);for(const a of r(e))await Se(i),this.exportNode(a,s,n);return s}exportNode(e,n,r){const i=this.nameProvider.getName(e);i&&n.push(this.descriptions.createDescription(e,i,r))}async computeLocalScopes(e,n=X.CancellationToken.None){const r=e.parseResult.value,i=new qi;for(const s of Nr(r))await Se(n),this.processNode(s,e,i);return i}processNode(e,n,r){const i=e.$container;if(i){const s=this.nameProvider.getName(e);s&&r.add(i,this.descriptions.createDescription(e,s,n))}}}class mu{constructor(e,n,r){var i;this.elements=e,this.outerScope=n,this.caseInsensitive=(i=r?.caseInsensitive)!==null&&i!==void 0&&i}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){return(this.caseInsensitive?this.elements.find((r=>r.name.toLowerCase()===e.toLowerCase())):this.elements.find((r=>r.name===e)))||(this.outerScope?this.outerScope.getElement(e):void 0)}}class hy{constructor(e,n,r){var i;this.elements=new Map,this.caseInsensitive=(i=r?.caseInsensitive)!==null&&i!==void 0&&i;for(const s of e){const a=this.caseInsensitive?s.name.toLowerCase():s.name;this.elements.set(a,s)}this.outerScope=n}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e;return this.elements.get(n)||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=ce(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class Af{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach((e=>e.dispose()))}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class py extends Af{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,n){this.throwIfDisposed(),this.cache.set(e,n)}get(e,n){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(n){const r=n();return this.cache.set(e,r),r}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class my extends Af{constructor(e){super(),this.cache=new Map,this.converter=e??(n=>n)}has(e,n){return this.throwIfDisposed(),this.cacheForContext(e).has(n)}set(e,n,r){this.throwIfDisposed(),this.cacheForContext(e).set(n,r)}get(e,n,r){this.throwIfDisposed();const i=this.cacheForContext(e);if(i.has(n))return i.get(n);if(r){const s=r();return i.set(n,s),s}}delete(e,n){return this.throwIfDisposed(),this.cacheForContext(e).delete(n)}clear(e){if(this.throwIfDisposed(),e){const n=this.converter(e);this.cache.delete(n)}else this.cache.clear()}cacheForContext(e){const n=this.converter(e);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class gy extends py{constructor(e,n){super(),n?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(n,(()=>{this.clear()}))),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(((r,i)=>{i.length>0&&this.clear()})))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((()=>{this.clear()})))}}class yy{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new gy(e.shared)}getScope(e){const n=[],r=this.reflection.getReferenceType(e),i=Tt(e.container).precomputedScopes;if(i){let a=e.container;do{const o=i.get(a);o.length>0&&n.push(ce(o).filter((l=>this.reflection.isSubtype(l.type,r)))),a=a.$container}while(a)}let s=this.getGlobalScope(r,e);for(let a=n.length-1;a>=0;a--)s=this.createScope(n[a],s);return s}createScope(e,n,r){return new mu(ce(e),n,r)}createScopeForNodes(e,n,r){const i=ce(e).map((s=>{const a=this.nameProvider.getName(s);if(a)return this.descriptions.createDescription(s,a)})).nonNullable();return new mu(i,n,r)}getGlobalScope(e,n){return this.globalScopeCache.get(e,(()=>new hy(this.indexManager.allElements(e))))}}function gu(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}class vy{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,n){const r=n??{},i=n?.replacer,s=(o,l)=>this.replacer(o,l,r),a=i?(o,l)=>i(o,l,s):s;try{return this.currentDocument=Tt(e),JSON.stringify(e,a,n?.space)}finally{this.currentDocument=void 0}}deserialize(e,n){const r=n??{},i=JSON.parse(e);return this.linkNode(i,i,r),i}replacer(e,n,{refText:r,sourceText:i,textRegions:s,comments:a,uriConverter:o}){var l,c,u,f;if(!this.ignoreProperties.has(e)){if(Ye(n)){const d=n.ref,h=r?n.$refText:void 0;if(d){const p=Tt(d);let m="";return this.currentDocument&&this.currentDocument!==p&&(m=o?o(p.uri,n):p.uri.toString()),{$ref:`${m}#${this.astNodeLocator.getAstNodePath(d)}`,$refText:h}}return{$error:(c=(l=n.error)===null||l===void 0?void 0:l.message)!==null&&c!==void 0?c:"Could not resolve reference",$refText:h}}if(he(n)){let d;if(s&&(d=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},n)),e&&!n.$document||!d?.$textRegion||(d.$textRegion.documentURI=(u=this.currentDocument)===null||u===void 0?void 0:u.uri.toString())),i&&!e&&(d!=null||(d=Object.assign({},n)),d.$sourceText=(f=n.$cstNode)===null||f===void 0?void 0:f.text),a){d!=null||(d=Object.assign({},n));const h=this.commentProvider.getComment(n);h&&(d.$comment=h.replace(/\r/g,""))}return d??n}return n}}addAstNodeRegionWithAssignmentsTo(e){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(e.$cstNode){const r=(e.$textRegion=n(e.$cstNode)).assignments={};return Object.keys(e).filter((i=>!i.startsWith("$"))).forEach((i=>{const s=(function(a,o){return a&&o?Xa(a,o,a.astNode,!0):[]})(e.$cstNode,i).map(n);s.length!==0&&(r[i]=s)})),e}}linkNode(e,n,r,i,s,a){for(const[l,c]of Object.entries(e))if(Array.isArray(c))for(let u=0;u<c.length;u++){const f=c[u];gu(f)?c[u]=this.reviveReference(e,l,n,f,r):he(f)&&this.linkNode(f,n,r,e,l,u)}else gu(c)?e[l]=this.reviveReference(e,l,n,c,r):he(c)&&this.linkNode(c,n,r,e,l);const o=e;o.$container=i,o.$containerProperty=s,o.$containerIndex=a}reviveReference(e,n,r,i,s){let a=i.$refText,o=i.$error;if(i.$ref){const l=this.getRefNode(r,i.$ref,s.uriConverter);if(he(l))return a||(a=this.nameProvider.getName(l)),{$refText:a??"",ref:l};o=l}if(o){const l={$refText:a??""};return l.error={container:e,property:n,message:o,reference:l},l}}getRefNode(e,n,r){try{const i=n.indexOf("#");if(i===0)return this.astNodeLocator.getAstNode(e,n.substring(1))||"Could not resolve path: "+n;if(i<0){const l=r?r(n):Gt.parse(n),c=this.langiumDocuments.getDocument(l);return c?c.parseResult.value:"Could not find document for URI: "+n}const s=r?r(n.substring(0,i)):Gt.parse(n.substring(0,i)),a=this.langiumDocuments.getDocument(s);return a?i===n.length-1?a.parseResult.value:this.astNodeLocator.getAstNode(a.parseResult.value,n.substring(i+1))||"Could not resolve URI: "+n:"Could not find document for URI: "+n}catch(i){return String(i)}}}class Ty{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){const n=e.LanguageMetaData;for(const r of n.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(n.languageId,e),this.languageIdMap.size===1?this.singleton=e:this.singleton=void 0}getServices(e){var n,r;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const i=(r=(n=this.textDocuments)===null||n===void 0?void 0:n.get(e))===null||r===void 0?void 0:r.languageId;if(i!==void 0){const o=this.languageIdMap.get(i);if(o)return o}const s=$t.extname(e),a=this.fileExtensionMap.get(s);if(!a)throw i?new Error(`The service registry contains no services for the extension '${s}' for language '${i}'.`):new Error(`The service registry contains no services for the extension '${s}'.`);return a}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function pr(t){return{code:t}}var Xi,Fe;(function(t){t.all=["fast","slow","built-in"]})(Xi||(Xi={}));class Ry{constructor(e){this.entries=new qi,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,n=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[i,s]of Object.entries(e)){const a=s;if(Array.isArray(a))for(const o of a){const l={check:this.wrapValidationException(o,n),category:r};this.addEntry(i,l)}else if(typeof a=="function"){const o={check:this.wrapValidationException(a,n),category:r};this.addEntry(i,o)}else Cr()}}wrapValidationException(e,n){return async(r,i,s)=>{await this.handleException((()=>e.call(n,r,i,s)),"An error occurred during validation",i,r)}}async handleException(e,n,r,i){try{await e()}catch(s){if(ms(s))throw s;console.error(`${n}:`,s),s instanceof Error&&s.stack&&console.error(s.stack),r("error",`${n}: ${s instanceof Error?s.message:String(s)}`,{node:i})}}addEntry(e,n){if(e!=="AstNode")for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,n);else this.entries.add("AstNode",n)}getChecks(e,n){let r=ce(this.entries.get(e)).concat(this.entries.get("AstNode"));return n&&(r=r.filter((i=>n.includes(i.category)))),r.map((i=>i.check))}registerBeforeDocument(e,n=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",n))}registerAfterDocument(e,n=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",n))}wrapPreparationException(e,n,r){return async(i,s,a,o)=>{await this.handleException((()=>e.call(r,i,s,a,o)),n,s,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class $y{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,n={},r=X.CancellationToken.None){const i=e.parseResult,s=[];if(await Se(r),(!n.categories||n.categories.includes("built-in"))&&(this.processLexingErrors(i,s,n),n.stopAfterLexingErrors&&s.some((a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===Fe.LexingError}))||(this.processParsingErrors(i,s,n),n.stopAfterParsingErrors&&s.some((a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===Fe.ParsingError})))||(this.processLinkingErrors(e,s,n),n.stopAfterLinkingErrors&&s.some((a=>{var o;return((o=a.data)===null||o===void 0?void 0:o.code)===Fe.LinkingError})))))return s;try{s.push(...await this.validateAst(i.value,n,r))}catch(a){if(ms(a))throw a;console.error("An error occurred during validation:",a)}return await Se(r),s}processLexingErrors(e,n,r){var i,s,a;const o=[...e.lexerErrors,...(s=(i=e.lexerReport)===null||i===void 0?void 0:i.diagnostics)!==null&&s!==void 0?s:[]];for(const l of o){const c=(a=l.severity)!==null&&a!==void 0?a:"error",u={severity:aa(c),range:{start:{line:l.line-1,character:l.column-1},end:{line:l.line-1,character:l.column+l.length-1}},message:l.message,data:Ay(c),source:this.getSource()};n.push(u)}}processParsingErrors(e,n,r){for(const i of e.parserErrors){let s;if(isNaN(i.token.startOffset)){if("previousToken"in i){const a=i.previousToken;if(isNaN(a.startOffset)){const o={line:0,character:0};s={start:o,end:o}}else{const o={line:a.endLine-1,character:a.endColumn};s={start:o,end:o}}}}else s=$a(i.token);if(s){const a={severity:aa("error"),range:s,message:i.message,data:pr(Fe.ParsingError),source:this.getSource()};n.push(a)}}}processLinkingErrors(e,n,r){for(const i of e.references){const s=i.error;if(s){const a={node:s.container,property:s.property,index:s.index,data:{code:Fe.LinkingError,containerType:s.container.$type,property:s.property,refText:s.reference.$refText}};n.push(this.toDiagnostic("error",s.message,a))}}}async validateAst(e,n,r=X.CancellationToken.None){const i=[],s=(a,o,l)=>{i.push(this.toDiagnostic(a,o,l))};return await this.validateAstBefore(e,n,s,r),await this.validateAstNodes(e,n,s,r),await this.validateAstAfter(e,n,s,r),i}async validateAstBefore(e,n,r,i=X.CancellationToken.None){var s;const a=this.validationRegistry.checksBefore;for(const o of a)await Se(i),await o(e,r,(s=n.categories)!==null&&s!==void 0?s:[],i)}async validateAstNodes(e,n,r,i=X.CancellationToken.None){await Promise.all(nn(e).map((async s=>{await Se(i);const a=this.validationRegistry.getChecks(s.$type,n.categories);for(const o of a)await o(s,r,i)})))}async validateAstAfter(e,n,r,i=X.CancellationToken.None){var s;const a=this.validationRegistry.checksAfter;for(const o of a)await Se(i),await o(e,r,(s=n.categories)!==null&&s!==void 0?s:[],i)}toDiagnostic(e,n,r){return{message:n,range:Ey(r),severity:aa(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function Ey(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=zu(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=hh(t.node.$cstNode,t.keyword,t.index)),e!=null||(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function aa(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}function Ay(t){switch(t){case"error":return pr(Fe.LexingError);case"warning":return pr(Fe.LexingWarning);case"info":return pr(Fe.LexingInfo);case"hint":return pr(Fe.LexingHint);default:throw new Error("Invalid diagnostic severity: "+t)}}(function(t){t.LexingError="lexing-error",t.LexingWarning="lexing-warning",t.LexingInfo="lexing-info",t.LexingHint="lexing-hint",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(Fe||(Fe={}));class ky{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,n,r){const i=r??Tt(e);n!=null||(n=this.nameProvider.getName(e));const s=this.astNodeLocator.getAstNodePath(e);if(!n)throw new Error(`Node at path ${s} has no name.`);let a;const o=()=>{var l;return a??(a=Oi((l=this.nameProvider.getNameNode(e))!==null&&l!==void 0?l:e.$cstNode))};return{node:e,name:n,get nameSegment(){return o()},selectionSegment:Oi(e.$cstNode),type:e.$type,documentUri:i.uri,path:s}}}class xy{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,n=X.CancellationToken.None){const r=[],i=e.parseResult.value;for(const s of nn(i))await Se(n),Gu(s).filter((a=>!gi(a))).forEach((a=>{const o=this.createDescription(a);o&&r.push(o)}));return r}createDescription(e){const n=e.reference.$nodeDescription,r=e.reference.$refNode;if(!n||!r)return;const i=Tt(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:n.documentUri,targetPath:n.path,segment:Oi(r),local:$t.equals(n.documentUri,i)}}}class Sy{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const n=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:n}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return n!==void 0?e+this.indexSeparator+n:e}getAstNode(e,n){return n.split(this.segmentSeparator).reduce(((r,i)=>{if(!r||i.length===0)return r;const s=i.indexOf(this.indexSeparator);if(s>0){const a=i.substring(0,s),o=parseInt(i.substring(s+1)),l=r[a];return l?.[o]}return r[i]}),e)}}var Ar,Iy=Tf();class wy{constructor(e){this._ready=new Io,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new Iy.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var n,r;this.workspaceConfig=(r=(n=e.capabilities.workspace)===null||n===void 0?void 0:n.configuration)!==null&&r!==void 0&&r}async initialized(e){if(this.workspaceConfig){if(e.register){const n=this.serviceRegistry.all;e.register({section:n.map((r=>this.toSectionName(r.LanguageMetaData.languageId)))})}if(e.fetchConfiguration){const n=this.serviceRegistry.all.map((i=>({section:this.toSectionName(i.LanguageMetaData.languageId)}))),r=await e.fetchConfiguration(n);n.forEach(((i,s)=>{this.updateSectionConfiguration(i.section,r[s])}))}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach((n=>{const r=e.settings[n];this.updateSectionConfiguration(n,r),this.onConfigurationSectionUpdateEmitter.fire({section:n,configuration:r})}))}updateSectionConfiguration(e,n){this.settings[e]=n}async getConfiguration(e,n){await this.ready;const r=this.toSectionName(e);if(this.settings[r])return this.settings[r][n]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}(function(t){t.create=function(e){return{dispose:async()=>await e()}}})(Ar||(Ar={}));class by{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new qi,this.documentPhaseListeners=new qi,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=z.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,n={},r=X.CancellationToken.None){var i,s;for(const a of e){const o=a.uri.toString();if(a.state===z.Validated){if(typeof n.validation=="boolean"&&n.validation)a.state=z.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(o);else if(typeof n.validation=="object"){const l=this.buildState.get(o),c=(i=l?.result)===null||i===void 0?void 0:i.validationChecks;if(c){const u=((s=n.validation.categories)!==null&&s!==void 0?s:Xi.all).filter((f=>!c.includes(f)));u.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},n.validation),{categories:u})},result:l.result}),a.state=z.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=z.Changed,await this.emitUpdate(e.map((a=>a.uri)),[]),await this.buildDocuments(e,n,r)}async update(e,n,r=X.CancellationToken.None){this.currentState=z.Changed;for(const a of n)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(const a of e){if(!this.langiumDocuments.invalidateDocument(a)){const o=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);o.state=z.Changed,this.langiumDocuments.addDocument(o)}this.buildState.delete(a.toString())}const i=ce(e).concat(n).map((a=>a.toString())).toSet();this.langiumDocuments.all.filter((a=>!i.has(a.uri.toString())&&this.shouldRelink(a,i))).forEach((a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,z.ComputedScopes),a.diagnostics=void 0})),await this.emitUpdate(e,n),await Se(r);const s=this.sortDocuments(this.langiumDocuments.all.filter((a=>{var o;return a.state<z.Linked||!(!((o=this.buildState.get(a.uri.toString()))===null||o===void 0)&&o.completed)})).toArray());await this.buildDocuments(s,this.updateBuildOptions,r)}async emitUpdate(e,n){await Promise.all(this.updateListeners.map((r=>r(e,n))))}sortDocuments(e){let n=0,r=e.length-1;for(;n<r;){for(;n<e.length&&this.hasTextDocument(e[n]);)n++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;n<r&&([e[n],e[r]]=[e[r],e[n]])}return e}hasTextDocument(e){var n;return!!(!((n=this.textDocuments)===null||n===void 0)&&n.get(e.uri))}shouldRelink(e,n){return!!e.references.some((r=>r.error!==void 0))||this.indexManager.isAffected(e,n)}onUpdate(e){return this.updateListeners.push(e),Ar.create((()=>{const n=this.updateListeners.indexOf(e);n>=0&&this.updateListeners.splice(n,1)}))}async buildDocuments(e,n,r){this.prepareBuild(e,n),await this.runCancelable(e,z.Parsed,r,(s=>this.langiumDocumentFactory.update(s,r))),await this.runCancelable(e,z.IndexedContent,r,(s=>this.indexManager.updateContent(s,r))),await this.runCancelable(e,z.ComputedScopes,r,(async s=>{const a=this.serviceRegistry.getServices(s.uri).references.ScopeComputation;s.precomputedScopes=await a.computeLocalScopes(s,r)})),await this.runCancelable(e,z.Linked,r,(s=>this.serviceRegistry.getServices(s.uri).references.Linker.link(s,r))),await this.runCancelable(e,z.IndexedReferences,r,(s=>this.indexManager.updateReferences(s,r)));const i=e.filter((s=>this.shouldValidate(s)));await this.runCancelable(i,z.Validated,r,(s=>this.validate(s,r)));for(const s of e){const a=this.buildState.get(s.uri.toString());a&&(a.completed=!0)}}prepareBuild(e,n){for(const r of e){const i=r.uri.toString(),s=this.buildState.get(i);s&&!s.completed||this.buildState.set(i,{completed:!1,options:n,result:s?.result})}}async runCancelable(e,n,r,i){const s=e.filter((o=>o.state<n));for(const o of s)await Se(r),await i(o),o.state=n,await this.notifyDocumentPhase(o,n,r);const a=e.filter((o=>o.state===n));await this.notifyBuildPhase(a,n,r),this.currentState=n}onBuildPhase(e,n){return this.buildPhaseListeners.add(e,n),Ar.create((()=>{this.buildPhaseListeners.delete(e,n)}))}onDocumentPhase(e,n){return this.documentPhaseListeners.add(e,n),Ar.create((()=>{this.documentPhaseListeners.delete(e,n)}))}waitUntil(e,n,r){let i;if(n&&"path"in n?i=n:r=n,r!=null||(r=X.CancellationToken.None),i){const s=this.langiumDocuments.getDocument(i);if(s&&s.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(Yi):new Promise(((s,a)=>{const o=this.onBuildPhase(e,(()=>{if(o.dispose(),l.dispose(),i){const c=this.langiumDocuments.getDocument(i);s(c?.uri)}else s(void 0)})),l=r.onCancellationRequested((()=>{o.dispose(),l.dispose(),a(Yi)}))}))}async notifyDocumentPhase(e,n,r){const i=this.documentPhaseListeners.get(n).slice();for(const s of i)try{await s(e,r)}catch(a){if(!ms(a))throw a}}async notifyBuildPhase(e,n,r){if(e.length===0)return;const i=this.buildPhaseListeners.get(n).slice();for(const s of i)await Se(r),await s(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,n){var r,i;const s=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,o=typeof a=="object"?a:void 0,l=await s.validateDocument(e,o,n);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;const c=this.buildState.get(e.uri.toString());if(c){(r=c.result)!==null&&r!==void 0||(c.result={});const u=(i=o?.categories)!==null&&i!==void 0?i:Xi.all;c.result.validationChecks?c.result.validationChecks.push(...u):c.result.validationChecks=[...u]}}getBuildOptions(e){var n,r;return(r=(n=this.buildState.get(e.uri.toString()))===null||n===void 0?void 0:n.options)!==null&&r!==void 0?r:{}}}class Cy{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new my,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,n){const r=Tt(e).uri,i=[];return this.referenceIndex.forEach((s=>{s.forEach((a=>{$t.equals(a.targetUri,r)&&a.targetPath===n&&i.push(a)}))})),ce(i)}allElements(e,n){let r=ce(this.symbolIndex.keys());return n&&(r=r.filter((i=>!n||n.has(i)))),r.map((i=>this.getFileDescriptions(i,e))).flat()}getFileDescriptions(e,n){var r;return n?this.symbolByTypeIndex.get(e,n,(()=>{var s;return((s=this.symbolIndex.get(e))!==null&&s!==void 0?s:[]).filter((a=>this.astReflection.isSubtype(a.type,n)))})):(r=this.symbolIndex.get(e))!==null&&r!==void 0?r:[]}remove(e){const n=e.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n),this.referenceIndex.delete(n)}async updateContent(e,n=X.CancellationToken.None){const r=this.serviceRegistry.getServices(e.uri),i=await r.references.ScopeComputation.computeExports(e,n),s=e.uri.toString();this.symbolIndex.set(s,i),this.symbolByTypeIndex.clear(s)}async updateReferences(e,n=X.CancellationToken.None){const r=this.serviceRegistry.getServices(e.uri),i=await r.workspace.ReferenceDescriptionProvider.createDescriptions(e,n);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,n){const r=this.referenceIndex.get(e.uri.toString());return!!r&&r.some((i=>!i.local&&n.has(i.targetUri.toString())))}}class Ny{constructor(e){this.initialBuildOptions={},this._ready=new Io,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var n;this.folders=(n=e.workspaceFolders)!==null&&n!==void 0?n:void 0}initialized(e){return this.mutex.write((n=>{var r;return this.initializeWorkspace((r=this.folders)!==null&&r!==void 0?r:[],n)}))}async initializeWorkspace(e,n=X.CancellationToken.None){const r=await this.performStartup(e);await Se(n),await this.documentBuilder.build(r,this.initialBuildOptions,n)}async performStartup(e){const n=this.serviceRegistry.all.flatMap((s=>s.LanguageMetaData.fileExtensions)),r=[],i=s=>{r.push(s),this.langiumDocuments.hasDocument(s.uri)||this.langiumDocuments.addDocument(s)};return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map((s=>[s,this.getRootFolder(s)])).map((async s=>this.traverseFolder(...s,n,i)))),this._ready.resolve(),r}loadAdditionalDocuments(e,n){return Promise.resolve()}getRootFolder(e){return Gt.parse(e.uri)}async traverseFolder(e,n,r,i){const s=await this.fileSystemProvider.readDirectory(n);await Promise.all(s.map((async a=>{if(this.includeEntry(e,a,r)){if(a.isDirectory)await this.traverseFolder(e,a.uri,r,i);else if(a.isFile){const o=await this.langiumDocuments.getOrCreateDocument(a.uri);i(o)}}})))}includeEntry(e,n,r){const i=$t.basename(n.uri);if(i.startsWith("."))return!1;if(n.isDirectory)return i!=="node_modules"&&i!=="out";if(n.isFile){const s=$t.extname(n.uri);return r.includes(s)}return!1}}class _y{buildUnexpectedCharactersMessage(e,n,r,i,s){return Oa.buildUnexpectedCharactersMessage(e,n,r,i,s)}buildUnableToPopLexerModeMessage(e){return Oa.buildUnableToPopLexerModeMessage(e)}}const Oy={mode:"full"};class Ly{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const n=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=yu(n)?Object.values(n):n,i=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new Re(r,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,n=Oy){var r,i,s;const a=this.chevrotainLexer.tokenize(e);return{tokens:a.tokens,errors:a.errors,hidden:(r=a.groups.hidden)!==null&&r!==void 0?r:[],report:(s=(i=this.tokenBuilder).flushLexingReport)===null||s===void 0?void 0:s.call(i,e)}}toTokenTypeDictionary(e){if(yu(e))return e;const n=kf(e)?Object.values(e.modes).flat():e,r={};return n.forEach((i=>r[i.name]=i)),r}}function kf(t){return t&&"modes"in t&&"defaultMode"in t}function yu(t){return!(function(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])})(t)&&!kf(t)}function Py(t,e,n){let r,i;typeof t=="string"?(i=e,r=n):(i=t.range.start,r=e),i||(i=F.create(0,0));const s=(function(a){var o,l,c;const u=[];let f=a.position.line,d=a.position.character;for(let h=0;h<a.lines.length;h++){const p=h===0,m=h===a.lines.length-1;let T=a.lines[h],v=0;if(p&&a.options.start){const y=(o=a.options.start)===null||o===void 0?void 0:o.exec(T);y&&(v=y.index+y[0].length)}else{const y=(l=a.options.line)===null||l===void 0?void 0:l.exec(T);y&&(v=y.index+y[0].length)}if(m){const y=(c=a.options.end)===null||c===void 0?void 0:c.exec(T);y&&(T=T.substring(0,y.index))}if(T=T.substring(0,jy(T)),Va(T,v)>=T.length){if(u.length>0){const y=F.create(f,d);u.push({type:"break",content:"",range:M.create(y,y)})}}else{vu.lastIndex=v;const y=vu.exec(T);if(y){const R=y[0],k=y[1],L=F.create(f,d+v),O=F.create(f,d+v+R.length);u.push({type:"tag",content:k,range:M.create(L,O)}),v+=R.length,v=Va(T,v)}if(v<T.length){const R=T.substring(v),k=Array.from(R.matchAll(My));u.push(...Dy(k,R,f,d+v))}}f++,d=0}return u.length>0&&u[u.length-1].type==="break"?u.slice(0,-1):u})({lines:xf(t),position:i,options:wo(r)});return(function(a){var o,l,c,u;const f=F.create(a.position.line,a.position.character);if(a.tokens.length===0)return new Tu([],M.create(f,f));const d=[];for(;a.index<a.tokens.length;){const m=Gy(a,d[d.length-1]);m&&d.push(m)}const h=(l=(o=d[0])===null||o===void 0?void 0:o.range.start)!==null&&l!==void 0?l:f,p=(u=(c=d[d.length-1])===null||c===void 0?void 0:c.range.end)!==null&&u!==void 0?u:f;return new Tu(d,M.create(h,p))})({index:0,tokens:s,position:i})}function xf(t){let e="";return e=typeof t=="string"?t:t.text,e.split(lh)}const vu=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,My=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function Dy(t,e,n,r){const i=[];if(t.length===0){const s=F.create(n,r),a=F.create(n,r+e.length);i.push({type:"text",content:e,range:M.create(s,a)})}else{let s=0;for(const o of t){const l=o.index,c=e.substring(s,l);c.length>0&&i.push({type:"text",content:e.substring(s,l),range:M.create(F.create(n,s+r),F.create(n,l+r))});let u=c.length+1;const f=o[1];if(i.push({type:"inline-tag",content:f,range:M.create(F.create(n,s+u+r),F.create(n,s+u+f.length+r))}),u+=f.length,o.length===4){u+=o[2].length;const d=o[3];i.push({type:"text",content:d,range:M.create(F.create(n,s+u+r),F.create(n,s+u+d.length+r))})}else i.push({type:"text",content:"",range:M.create(F.create(n,s+u+r),F.create(n,s+u+r))});s=l+o[0].length}const a=e.substring(s);a.length>0&&i.push({type:"text",content:a,range:M.create(F.create(n,s+r),F.create(n,s+r+a.length))})}return i}const Uy=/\S/,Fy=/\s*$/;function Va(t,e){const n=t.substring(e).match(Uy);return n?e+n.index:t.length}function jy(t){const e=t.match(Fy);if(e&&typeof e.index=="number")return e.index}function Gy(t,e){const n=t.tokens[t.index];return n.type==="tag"?If(t,!1):n.type==="text"||n.type==="inline-tag"?Sf(t):((function(r,i){if(i){const s=new bf("",r.range);"inlines"in i?i.inlines.push(s):i.content.inlines.push(s)}})(n,e),void t.index++)}function Sf(t){let e=t.tokens[t.index];const n=e;let r=e;const i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(By(t)),r=e,e=t.tokens[t.index];return new Ha(i,M.create(n.range.start,r.range.end))}function By(t){return t.tokens[t.index].type==="inline-tag"?If(t,!0):wf(t)}function If(t,e){const n=t.tokens[t.index++],r=n.content.substring(1),i=t.tokens[t.index];if(i?.type==="text"){if(e){const s=wf(t);return new la(r,new Ha([s],s.range),e,M.create(n.range.start,s.range.end))}{const s=Sf(t);return new la(r,s,e,M.create(n.range.start,s.range.end))}}{const s=n.range;return new la(r,new Ha([],s),e,s)}}function wf(t){const e=t.tokens[t.index++];return new bf(e.content,e.range)}function wo(t){if(!t)return wo({start:"/**",end:"*/",line:"*"});const{start:e,end:n,line:r}=t;return{start:oa(e,!0),end:oa(n,!1),line:oa(r,!0)}}function oa(t,e){if(typeof t=="string"||typeof t=="object"){const n=typeof t=="string"?es(t):t.source;return e?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}return t}class Tu{constructor(e,n){this.elements=e,this.range=n}getTag(e){return this.getAllTags().find((n=>n.name===e))}getTags(e){return this.getAllTags().filter((n=>n.name===e))}getAllTags(){return this.elements.filter((e=>"name"in e))}toString(){let e="";for(const n of this.elements)if(e.length===0)e=n.toString();else{const r=n.toString();e+=Ru(e)+r}return e.trim()}toMarkdown(e){let n="";for(const r of this.elements)if(n.length===0)n=r.toMarkdown(e);else{const i=r.toMarkdown(e);n+=Ru(n)+i}return n.trim()}}class la{constructor(e,n,r,i){this.name=e,this.content=n,this.inline=r,this.range=i}toString(){let e=`@${this.name}`;const n=this.content.toString();return this.content.inlines.length===1?e=`${e} ${n}`:this.content.inlines.length>1&&(e=`${e}
${n}`),this.inline?`{${e}}`:e}toMarkdown(e){var n,r;return(r=(n=e?.renderTag)===null||n===void 0?void 0:n.call(e,this))!==null&&r!==void 0?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){const n=this.content.toMarkdown(e);if(this.inline){const s=(function(a,o,l){var c,u;if(a==="linkplain"||a==="linkcode"||a==="link"){const f=o.indexOf(" ");let d=o;if(f>0){const p=Va(o,f);d=o.substring(p),o=o.substring(0,f)}return(a==="linkcode"||a==="link"&&l.link==="code")&&(d=`\`${d}\``),(u=(c=l.renderLink)===null||c===void 0?void 0:c.call(l,o,d))!==null&&u!==void 0?u:(function(p,m){try{return Gt.parse(p,!0),`[${m}](${p})`}catch{return p}})(o,d)}})(this.name,n,e??{});if(typeof s=="string")return s}let r="";e?.tag==="italic"||e?.tag===void 0?r="*":e?.tag==="bold"?r="**":e?.tag==="bold-italic"&&(r="***");let i=`${r}@${this.name}${r}`;return this.content.inlines.length===1?i=`${i} — ${n}`:this.content.inlines.length>1&&(i=`${i}
${n}`),this.inline?`{${i}}`:i}}class Ha{constructor(e,n){this.inlines=e,this.range=n}toString(){let e="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],i=this.inlines[n+1];e+=r.toString(),i&&i.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let n="";for(let r=0;r<this.inlines.length;r++){const i=this.inlines[r],s=this.inlines[r+1];n+=i.toMarkdown(e),s&&s.range.start.line>i.range.start.line&&(n+=`
`)}return n}}class bf{constructor(e,n){this.text=e,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function Ru(t){return t.endsWith(`
`)?`
`:`

`}class Ky{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const n=this.commentProvider.getComment(e);if(n&&(function(r,i){const s=wo(i),a=xf(r);if(a.length===0)return!1;const o=a[0],l=a[a.length-1],c=s.start,u=s.end;return!!c?.exec(o)&&!!u?.exec(l)})(n))return Py(n).toMarkdown({renderLink:(r,i)=>this.documentationLinkRenderer(e,r,i),renderTag:r=>this.documentationTagRenderer(e,r)})}documentationLinkRenderer(e,n,r){var i;const s=(i=this.findNameInPrecomputedScopes(e,n))!==null&&i!==void 0?i:this.findNameInGlobalScope(e,n);if(s&&s.nameSegment){const a=s.nameSegment.range.start.line+1,o=s.nameSegment.range.start.character+1;return`[${r}](${s.documentUri.with({fragment:`L${a},${o}`}).toString()})`}}documentationTagRenderer(e,n){}findNameInPrecomputedScopes(e,n){const r=Tt(e).precomputedScopes;if(!r)return;let i=e;do{const s=r.get(i).find((a=>a.name===n));if(s)return s;i=i.$container}while(i)}findNameInGlobalScope(e,n){return this.indexManager.allElements().find((i=>i.name===n))}}class Vy{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var n;return(function(r){return typeof r.$comment=="string"})(e)?e.$comment:(n=sh(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||n===void 0?void 0:n.text}}class Hy{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,n){return Promise.resolve(this.syncParser.parse(e))}}class zy{constructor(){this.previousTokenSource=new X.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const n=(ki=performance.now(),new X.CancellationTokenSource);return this.previousTokenSource=n,this.enqueue(this.writeQueue,e,n.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,n,r=X.CancellationToken.None){const i=new Io,s={action:n,deferred:i,cancellationToken:r};return e.push(s),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;const e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;e.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(e.map((async({action:n,deferred:r,cancellationToken:i})=>{try{const s=await Promise.resolve().then((()=>n(i)));r.resolve(s)}catch(s){ms(s)?r.resolve(void 0):r.reject(s)}}))),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}class Wy{constructor(e){this.grammarElementIdMap=new pu,this.tokenTypeIdMap=new pu,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map((n=>Object.assign(Object.assign({},n),{message:n.message}))),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const n=new Map,r=new Map;for(const i of nn(e))n.set(i,{});if(e.$cstNode)for(const i of Ra(e.$cstNode))r.set(i,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,n));for(const[i,s]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];r[i]=a;for(const o of s)he(o)?a.push(this.dehydrateAstNode(o,n)):Ye(o)?a.push(this.dehydrateReference(o,n)):a.push(o)}else he(s)?r[i]=this.dehydrateAstNode(s,n):Ye(s)?r[i]=this.dehydrateReference(s,n):s!==void 0&&(r[i]=s);return r}dehydrateReference(e,n){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=n.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,n){const r=n.cstNodes.get(e);return Lu(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=n.astNodes.get(e.astNode),kr(e)?r.content=e.content.map((i=>this.dehydrateCstNode(i,n))):Ou(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const n=e.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(e){const n=new Map,r=new Map;for(const s of nn(e))n.set(s,{});let i;if(e.$cstNode)for(const s of Ra(e.$cstNode)){let a;"fullText"in s?(a=new cf(s.fullText),i=a):"content"in s?a=new xo:"tokenType"in s&&(a=this.hydrateCstLeafNode(s)),a&&(r.set(s,a),a.root=i)}return{astNodes:n,cstNodes:r}}hydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=n.cstNodes.get(e.$cstNode));for(const[i,s]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(s)){const a=[];r[i]=a;for(const o of s)he(o)?a.push(this.setParent(this.hydrateAstNode(o,n),r)):Ye(o)?a.push(this.hydrateReference(o,r,i,n)):a.push(o)}else he(s)?r[i]=this.setParent(this.hydrateAstNode(s,n),r):Ye(s)?r[i]=this.hydrateReference(s,r,i,n):s!==void 0&&(r[i]=s);return r}setParent(e,n){return e.$container=n,e}hydrateReference(e,n,r,i){return this.linker.buildReference(n,r,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,n,r=0){const i=n.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=n.astNodes.get(e.astNode),kr(i))for(const s of e.content){const a=this.hydrateCstNode(s,n,r++);i.content.push(a)}return i}hydrateCstLeafNode(e){const n=this.getTokenType(e.tokenType),r=e.offset,i=e.length,s=e.startLine,a=e.startColumn,o=e.endLine,l=e.endColumn,c=e.hidden;return new Fa(r,i,{start:{line:s,character:a},end:{line:o,character:l}},n,c)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const r of nn(this.grammar))n=r,j.isInstance(n,Dn)&&this.grammarElementIdMap.set(r,e++);var n}}function At(t){return{documentation:{CommentProvider:e=>new Vy(e),DocumentationProvider:e=>new Ky(e)},parser:{AsyncParser:e=>new Hy(e),GrammarConfig:e=>(function(n){const r=[],i=n.Grammar;for(const a of i.rules)Dt(a)&&(s=a).hidden&&!Aa(ka(s))&&uh(ka(a))&&r.push(a.name);var s;return{multilineCommentRules:r,nameRegexp:ih}})(e),LangiumParser:e=>sy(e),CompletionParser:e=>(function(n){const r=n.Grammar,i=n.parser.Lexer,s=new ny(n);return hf(r,s,i.definition),s.finalize(),s})(e),ValueConverter:()=>new yf,TokenBuilder:()=>new gf,Lexer:e=>new Ly(e),ParserErrorMessageProvider:()=>new ff,LexerErrorMessageProvider:()=>new _y},workspace:{AstNodeLocator:()=>new Sy,AstNodeDescriptionProvider:e=>new ky(e),ReferenceDescriptionProvider:e=>new xy(e)},references:{Linker:e=>new cy(e),NameProvider:()=>new uy,ScopeProvider:e=>new yy(e),ScopeComputation:e=>new fy(e),References:e=>new dy(e)},serializer:{Hydrator:e=>new Wy(e),JsonSerializer:e=>new vy(e)},validation:{DocumentValidator:e=>new $y(e),ValidationRegistry:e=>new Ry(e)},shared:()=>t.shared}}function kt(t){return{ServiceRegistry:e=>new Ty(e),workspace:{LangiumDocuments:e=>new ly(e),LangiumDocumentFactory:e=>new oy(e),DocumentBuilder:e=>new by(e),IndexManager:e=>new Cy(e),WorkspaceManager:e=>new Ny(e),FileSystemProvider:e=>t.fileSystemProvider(e),WorkspaceLock:()=>new zy,ConfigurationProvider:e=>new wy(e)}}}var $u;function pe(t,e,n,r,i,s,a,o,l){return Cf([t,e,n,r,i,s,a,o,l].reduce(Qi,{}))}(function(t){t.merge=(e,n)=>Qi(Qi({},e),n)})($u||($u={}));const Yy=Symbol("isProxy");function Cf(t,e){const n=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(r,i)=>i===Yy||Au(r,i,t,e||n),getOwnPropertyDescriptor:(r,i)=>(Au(r,i,t,e||n),Object.getOwnPropertyDescriptor(r,i)),has:(r,i)=>i in t,ownKeys:()=>[...Object.getOwnPropertyNames(t)]});return n}const Eu=Symbol();function Au(t,e,n,r){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===Eu)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return t[e]}if(e in n){const i=n[e];t[e]=Eu;try{t[e]=typeof i=="function"?i(r):Cf(i,r)}catch(s){throw t[e]=s instanceof Error?s:void 0,s}return t[e]}}function Qi(t,e){if(e){for(const[n,r]of Object.entries(e))if(r!==void 0){const i=t[n];t[n]=i!==null&&r!==null&&typeof i=="object"&&typeof r=="object"?Qi(i,r):r}}return t}class qy{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}const xt={fileSystemProvider:()=>new qy},Xy={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},Qy={AstReflection:()=>new ju};function Ht(t){var e;const n=(function(){const i=pe(kt(xt),Qy),s=pe(At({shared:i}),Xy);return i.ServiceRegistry.register(s),s})(),r=n.serializer.JsonSerializer.deserialize(t);return n.shared.workspace.LangiumDocumentFactory.fromModel(r,Gt.parse(`memory://${(e=r.name)!==null&&e!==void 0?e:"grammar"}.langium`)),r}var Zy=Object.defineProperty,E=(t,e)=>Zy(t,"name",{value:e,configurable:!0}),ku="Statement",xi="Architecture";E((function(t){return He.isInstance(t,xi)}),"isArchitecture");var ci="Axis",mr="Branch";E((function(t){return He.isInstance(t,mr)}),"isBranch");var ui="Checkout",di="CherryPicking",ca="ClassDefStatement",gr="Commit";E((function(t){return He.isInstance(t,gr)}),"isCommit");var ua="Curve",da="Edge",fa="Entry",yr="GitGraph";E((function(t){return He.isInstance(t,yr)}),"isGitGraph");var ha="Group",Si="Info";E((function(t){return He.isInstance(t,Si)}),"isInfo");var fi="Item",pa="Junction",vr="Merge";E((function(t){return He.isInstance(t,vr)}),"isMerge");var ma="Option",Ii="Packet";E((function(t){return He.isInstance(t,Ii)}),"isPacket");var wi="PacketBlock";E((function(t){return He.isInstance(t,wi)}),"isPacketBlock");var bi="Pie";E((function(t){return He.isInstance(t,bi)}),"isPie");var Ci="PieSection";E((function(t){return He.isInstance(t,Ci)}),"isPieSection");var ga="Radar",ya="Service",Ni="Treemap";E((function(t){return He.isInstance(t,Ni)}),"isTreemap");var xu,Su,Iu,wu,bu,Cu,Nu,va="TreemapRow",hi="Direction",pi="Leaf",mi="Section",on,Nf=(on=class extends _u{getAllTypes(){return[xi,ci,mr,ui,di,ca,gr,ua,hi,da,fa,yr,ha,Si,fi,pa,pi,vr,ma,Ii,wi,bi,Ci,ga,mi,ya,ku,Ni,va]}computeIsSubtype(e,n){switch(e){case mr:case ui:case di:case gr:case vr:return this.isSubtype(ku,n);case hi:return this.isSubtype(yr,n);case pi:case mi:return this.isSubtype(fi,n);default:return!1}}getReferenceType(e){const n=`${e.container.$type}:${e.property}`;if(n==="Entry:axis")return ci;throw new Error(`${n} is not a valid reference id.`)}getTypeMetaData(e){switch(e){case xi:return{name:xi,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case ci:return{name:ci,properties:[{name:"label"},{name:"name"}]};case mr:return{name:mr,properties:[{name:"name"},{name:"order"}]};case ui:return{name:ui,properties:[{name:"branch"}]};case di:return{name:di,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case ca:return{name:ca,properties:[{name:"className"},{name:"styleText"}]};case gr:return{name:gr,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case ua:return{name:ua,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case da:return{name:da,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case fa:return{name:fa,properties:[{name:"axis"},{name:"value"}]};case yr:return{name:yr,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case ha:return{name:ha,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case Si:return{name:Si,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case fi:return{name:fi,properties:[{name:"classSelector"},{name:"name"}]};case pa:return{name:pa,properties:[{name:"id"},{name:"in"}]};case vr:return{name:vr,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case ma:return{name:ma,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case Ii:return{name:Ii,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case wi:return{name:wi,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case bi:return{name:bi,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case Ci:return{name:Ci,properties:[{name:"label"},{name:"value"}]};case ga:return{name:ga,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case ya:return{name:ya,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case Ni:return{name:Ni,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case va:return{name:va,properties:[{name:"indent"},{name:"item"}]};case hi:return{name:hi,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case pi:return{name:pi,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case mi:return{name:mi,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:e,properties:[]}}}},E(on,"MermaidAstReflection"),on),He=new Nf,Jy=E((()=>xu??(xu=Ht(`{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`))),"InfoGrammar"),ev=E((()=>Su??(Su=Ht(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`))),"PacketGrammar"),tv=E((()=>Iu??(Iu=Ht(`{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`))),"PieGrammar"),nv=E((()=>wu??(wu=Ht(`{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`))),"ArchitectureGrammar"),rv=E((()=>bu??(bu=Ht(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`))),"GitGraphGrammar"),iv=E((()=>Cu??(Cu=Ht(`{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}`))),"RadarGrammar"),sv=E((()=>Nu??(Nu=Ht(`{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}`))),"TreemapGrammar"),av={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ov={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},lv={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},cv={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},uv={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},dv={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},fv={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},zt={AstReflection:E((()=>new Nf),"AstReflection")},hv={Grammar:E((()=>Jy()),"Grammar"),LanguageMetaData:E((()=>av),"LanguageMetaData"),parser:{}},pv={Grammar:E((()=>ev()),"Grammar"),LanguageMetaData:E((()=>ov),"LanguageMetaData"),parser:{}},mv={Grammar:E((()=>tv()),"Grammar"),LanguageMetaData:E((()=>lv),"LanguageMetaData"),parser:{}},gv={Grammar:E((()=>nv()),"Grammar"),LanguageMetaData:E((()=>cv),"LanguageMetaData"),parser:{}},yv={Grammar:E((()=>rv()),"Grammar"),LanguageMetaData:E((()=>uv),"LanguageMetaData"),parser:{}},vv={Grammar:E((()=>iv()),"Grammar"),LanguageMetaData:E((()=>dv),"LanguageMetaData"),parser:{}},Tv={Grammar:E((()=>sv()),"Grammar"),LanguageMetaData:E((()=>fv),"LanguageMetaData"),parser:{}},Rv={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},ln,gs=(ln=class extends yf{runConverter(e,n,r){let i=this.runCommonConverter(e,n,r);return i===void 0&&(i=this.runCustomConverter(e,n,r)),i===void 0?super.runConverter(e,n,r):i}runCommonConverter(e,n,r){const i=Rv[e.name];if(i===void 0)return;const s=i.exec(n);return s!==null?s[1]!==void 0?s[1].trim().replace(/[\t ]{2,}/gm," "):s[2]!==void 0?s[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`):void 0:void 0}},E(ln,"AbstractMermaidValueConverter"),ln),cn,ys=(cn=class extends gs{runCustomConverter(e,n,r){}},E(cn,"CommonValueConverter"),cn),un,St=(un=class extends gf{constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,n,r){const i=super.buildKeywordTokens(e,n,r);return i.forEach((s=>{this.keywords.has(s.name)&&s.PATTERN!==void 0&&(s.PATTERN=new RegExp(s.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))})),i}},E(un,"AbstractMermaidTokenBuilder"),un),dn;dn=class extends St{},E(dn,"CommonTokenBuilder");var fn,$v=(fn=class extends St{constructor(){super(["gitGraph"])}},E(fn,"GitGraphTokenBuilder"),fn),_f={parser:{TokenBuilder:E((()=>new $v),"TokenBuilder"),ValueConverter:E((()=>new ys),"ValueConverter")}};function Of(t=xt){const e=pe(kt(t),zt),n=pe(At({shared:e}),yv,_f);return e.ServiceRegistry.register(n),{shared:e,GitGraph:n}}E(Of,"createGitGraphServices");var hn,Ev=(hn=class extends St{constructor(){super(["info","showInfo"])}},E(hn,"InfoTokenBuilder"),hn),Lf={parser:{TokenBuilder:E((()=>new Ev),"TokenBuilder"),ValueConverter:E((()=>new ys),"ValueConverter")}};function Pf(t=xt){const e=pe(kt(t),zt),n=pe(At({shared:e}),hv,Lf);return e.ServiceRegistry.register(n),{shared:e,Info:n}}E(Pf,"createInfoServices");var pn,Av=(pn=class extends St{constructor(){super(["packet"])}},E(pn,"PacketTokenBuilder"),pn),Mf={parser:{TokenBuilder:E((()=>new Av),"TokenBuilder"),ValueConverter:E((()=>new ys),"ValueConverter")}};function Df(t=xt){const e=pe(kt(t),zt),n=pe(At({shared:e}),pv,Mf);return e.ServiceRegistry.register(n),{shared:e,Packet:n}}E(Df,"createPacketServices");var mn,kv=(mn=class extends St{constructor(){super(["pie","showData"])}},E(mn,"PieTokenBuilder"),mn),gn,xv=(gn=class extends gs{runCustomConverter(e,n,r){if(e.name==="PIE_SECTION_LABEL")return n.replace(/"/g,"").trim()}},E(gn,"PieValueConverter"),gn),Uf={parser:{TokenBuilder:E((()=>new kv),"TokenBuilder"),ValueConverter:E((()=>new xv),"ValueConverter")}};function Ff(t=xt){const e=pe(kt(t),zt),n=pe(At({shared:e}),mv,Uf);return e.ServiceRegistry.register(n),{shared:e,Pie:n}}E(Ff,"createPieServices");var yn,Sv=(yn=class extends St{constructor(){super(["architecture"])}},E(yn,"ArchitectureTokenBuilder"),yn),vn,Iv=(vn=class extends gs{runCustomConverter(e,n,r){return e.name==="ARCH_ICON"?n.replace(/[()]/g,"").trim():e.name==="ARCH_TEXT_ICON"?n.replace(/["()]/g,""):e.name==="ARCH_TITLE"?n.replace(/[[\]]/g,"").trim():void 0}},E(vn,"ArchitectureValueConverter"),vn),jf={parser:{TokenBuilder:E((()=>new Sv),"TokenBuilder"),ValueConverter:E((()=>new Iv),"ValueConverter")}};function Gf(t=xt){const e=pe(kt(t),zt),n=pe(At({shared:e}),gv,jf);return e.ServiceRegistry.register(n),{shared:e,Architecture:n}}E(Gf,"createArchitectureServices");var Tn,wv=(Tn=class extends St{constructor(){super(["radar-beta"])}},E(Tn,"RadarTokenBuilder"),Tn),Bf={parser:{TokenBuilder:E((()=>new wv),"TokenBuilder"),ValueConverter:E((()=>new ys),"ValueConverter")}};function Kf(t=xt){const e=pe(kt(t),zt),n=pe(At({shared:e}),vv,Bf);return e.ServiceRegistry.register(n),{shared:e,Radar:n}}E(Kf,"createRadarServices");var Rn,bv=(Rn=class extends St{constructor(){super(["treemap"])}},E(Rn,"TreemapTokenBuilder"),Rn),Cv=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,$n,Nv=($n=class extends gs{runCustomConverter(e,n,r){if(e.name==="NUMBER2")return parseFloat(n.replace(/,/g,""));if(e.name==="SEPARATOR"||e.name==="STRING2")return n.substring(1,n.length-1);if(e.name==="INDENTATION")return n.length;if(e.name==="ClassDef"){if(typeof n!="string")return n;const i=Cv.exec(n);if(i)return{$type:"ClassDefStatement",className:i[1],styleText:i[2]||void 0}}}},E($n,"TreemapValueConverter"),$n);function Vf(t){const e=t.validation.TreemapValidator,n=t.validation.ValidationRegistry;if(n){const r={Treemap:e.checkSingleRoot.bind(e)};n.register(r,e)}}E(Vf,"registerValidationChecks");var En,_v=(En=class{checkSingleRoot(e,n){let r;for(const i of e.TreemapRows)i.item&&(r===void 0&&i.indent===void 0?r=0:(i.indent===void 0||r!==void 0&&r>=parseInt(i.indent,10))&&n("error","Multiple root nodes are not allowed in a treemap.",{node:i,property:"item"}))}},E(En,"TreemapValidator"),En),Hf={parser:{TokenBuilder:E((()=>new bv),"TokenBuilder"),ValueConverter:E((()=>new Nv),"ValueConverter")},validation:{TreemapValidator:E((()=>new _v),"TreemapValidator")}};function zf(t=xt){const e=pe(kt(t),zt),n=pe(At({shared:e}),Tv,Hf);return e.ServiceRegistry.register(n),Vf(n),{shared:e,Treemap:n}}E(zf,"createTreemapServices");var at={},Ov={info:E((async()=>{const{createInfoServices:t}=await bt((async()=>{const{createInfoServices:n}=await Promise.resolve().then((()=>Mv));return{createInfoServices:n}}),void 0,import.meta.url),e=t().Info.parser.LangiumParser;at.info=e}),"info"),packet:E((async()=>{const{createPacketServices:t}=await bt((async()=>{const{createPacketServices:n}=await Promise.resolve().then((()=>Dv));return{createPacketServices:n}}),void 0,import.meta.url),e=t().Packet.parser.LangiumParser;at.packet=e}),"packet"),pie:E((async()=>{const{createPieServices:t}=await bt((async()=>{const{createPieServices:n}=await Promise.resolve().then((()=>Uv));return{createPieServices:n}}),void 0,import.meta.url),e=t().Pie.parser.LangiumParser;at.pie=e}),"pie"),architecture:E((async()=>{const{createArchitectureServices:t}=await bt((async()=>{const{createArchitectureServices:n}=await Promise.resolve().then((()=>Fv));return{createArchitectureServices:n}}),void 0,import.meta.url),e=t().Architecture.parser.LangiumParser;at.architecture=e}),"architecture"),gitGraph:E((async()=>{const{createGitGraphServices:t}=await bt((async()=>{const{createGitGraphServices:n}=await Promise.resolve().then((()=>jv));return{createGitGraphServices:n}}),void 0,import.meta.url),e=t().GitGraph.parser.LangiumParser;at.gitGraph=e}),"gitGraph"),radar:E((async()=>{const{createRadarServices:t}=await bt((async()=>{const{createRadarServices:n}=await Promise.resolve().then((()=>Gv));return{createRadarServices:n}}),void 0,import.meta.url),e=t().Radar.parser.LangiumParser;at.radar=e}),"radar"),treemap:E((async()=>{const{createTreemapServices:t}=await bt((async()=>{const{createTreemapServices:n}=await Promise.resolve().then((()=>Bv));return{createTreemapServices:n}}),void 0,import.meta.url),e=t().Treemap.parser.LangiumParser;at.treemap=e}),"treemap")};async function Lv(t,e){const n=Ov[t];if(!n)throw new Error(`Unknown diagram type: ${t}`);at[t]||await n();const r=at[t].parse(e);if(r.lexerErrors.length>0||r.parserErrors.length>0)throw new Pv(r);return r.value}E(Lv,"parse");var An,Pv=(An=class extends Error{constructor(e){super(`Parsing failed: ${e.lexerErrors.map((n=>n.message)).join(`
`)} ${e.parserErrors.map((n=>n.message)).join(`
`)}`),this.result=e}},E(An,"MermaidParseError"),An);const Mv=Object.freeze(Object.defineProperty({__proto__:null,InfoModule:Lf,createInfoServices:Pf},Symbol.toStringTag,{value:"Module"})),Dv=Object.freeze(Object.defineProperty({__proto__:null,PacketModule:Mf,createPacketServices:Df},Symbol.toStringTag,{value:"Module"})),Uv=Object.freeze(Object.defineProperty({__proto__:null,PieModule:Uf,createPieServices:Ff},Symbol.toStringTag,{value:"Module"})),Fv=Object.freeze(Object.defineProperty({__proto__:null,ArchitectureModule:jf,createArchitectureServices:Gf},Symbol.toStringTag,{value:"Module"})),jv=Object.freeze(Object.defineProperty({__proto__:null,GitGraphModule:_f,createGitGraphServices:Of},Symbol.toStringTag,{value:"Module"})),Gv=Object.freeze(Object.defineProperty({__proto__:null,RadarModule:Bf,createRadarServices:Kf},Symbol.toStringTag,{value:"Module"})),Bv=Object.freeze(Object.defineProperty({__proto__:null,TreemapModule:Hf,createTreemapServices:zf},Symbol.toStringTag,{value:"Module"}));export{Lv as p};
//# sourceMappingURL=treemap-KMMF4GRG-BHLPsMSr.js.map
