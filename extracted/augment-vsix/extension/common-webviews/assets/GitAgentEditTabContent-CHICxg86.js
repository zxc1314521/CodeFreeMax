import{D as Ae,E as b,K as m,O as _,P as v,R as r,H as Me,T as n,o as e,G as t,Q as O,S as g,Z as G,Y as T,a1 as ve,a2 as ke,V as It,a4 as At,aA as jt,a3 as pt,I as ht,J as V,az as Dt,$ as mt,k as Mt,a0 as st,ag as _t,_ as yt,ad as zt,a5 as Lt,ae as Gt}from"./debounce-BNOmQ76Y.js";import{C as wt,a as Ct,k as qt}from"./CollapseButtonAugment-D7C6pQtq.js";import{G as ct,a as Ce,M as bt,I as Et,b as Rt,C as Vt,c as St}from"./main-panel-BBvwZc5z.js";import{T as ee,a as ne}from"./TextTooltipAugment-CGvqFHAr.js";import{B as ge}from"./types-M1pd3FSp.js";import{T as ue,I as pe}from"./Icon-CohttyM7.js";import{I as Ye}from"./IconButtonAugment-DO0xxfgT.js";import{B as Ot}from"./ButtonAugment-BCcs6kST.js";import{T as Ht}from"./TextCombo-CIszZzGN.js";import{g as Wt,a as Jt}from"./file-type-utils-CHwkiE7w.js";import{b as Kt,o as Qt,D as ft,x as Yt,n as Zt,y as Xt,i as er}from"./extension-client-context-CN64fWtK.js";import{S as xt}from"./AugmentMessage-DdGCJFWr.js";import{R as Bt,P as tr,K as rr}from"./Keybindings-SM11jtx_.js";import{P as Ft}from"./shared-app-state-Cv5sumpT.js";import"./design-system-init-DYAh9Pko.js";import"./legacy-2-VBD5Kq.js";import"./index-Ba8SPQX6.js";import"./SimpleMonaco-BBDXOnfl.js";import"./await-B0-dHWqK.js";import"./index-BcYmouan.js";import"./index-Dt79ugWJ.js";import"./message-broker-DUQuEFlt.js";import"./RemoteAgentStatusIndicator-gpVGge6K.js";import"./utils-C8k4ijpS.js";import"./index-Dqp5W2S2.js";import"./OpenFileButton-gT822Pcb.js";import"./remote-agents-client-DkZKHKJj.js";import"./SuccessfulButton-BTRD1tJd.js";import"./CalloutAugment-BTDUhyqD.js";import"./Chevron-DgXCK6y3.js";import"./BaseTextInput-D02l0mHz.js";import"./index-DJ8YNXIh.js";import"./shared-webview-store-model-CL3-OUxX.js";import"./ra-diff-ops-model-BShDGWD3.js";import"./input-rvYD24wa.js";import"./Filespan-FcScXFRk.js";import"./LanguageIcon-BFxv44vU.js";import"./noop-CVINQ7cR.js";import"./lifecycle-CWu4CNTE.js";import"./CopyButton-DWjSvbZb.js";import"./toggleHighContrast-nRmgfX6B.js";import"./Markdown-9Uvf-DZ6.js";import"./mermaid-BF5da6U1.js";import"./_commonjsHelpers-CwkBNZ52.js";import"./index-C6s5m6Q5.js";import"./IconFilePath-BzwPVm4g.js";import"./next-edit-types-B8NR3rVy.js";import"./keypress-fD7XHdyk.js";try{dt=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(kt=new dt.Error().stack)&&(dt._sentryDebugIds=dt._sentryDebugIds||{},dt._sentryDebugIds[kt]="8b44fef0-0460-450c-af0a-5bd4bacfd0ca",dt._sentryDebugIdIdentifier="sentry-dbid-8b44fef0-0460-450c-af0a-5bd4bacfd0ca")}catch{}var dt,kt,or=m("<!> <!> <!>",1),sr=m("<!> <!> <!>",1),ir=m('<div class="c-git-repo-chips svelte-1gcvbyl"><!></div>'),ar=m("<span><!></span>"),nr=m("<!> <!>",1),lr=m('<div><!> <div class="c-git-file-item__buttons svelte-17nlls9"><!> <!> <!> <!></div></div>');function cr(ye,s){Ae(s,!0);let l=b(s,"showStageAction",3,!1),$=b(s,"showUnstageAction",3,!1),Z=b(s,"showRevertAction",3,!1);const{controller:y}=ct.requireContext(),c=t((()=>s.file.qualifiedPathName.relPath)),w=t((()=>Wt(e(c)))),de=t((()=>Jt(e(c)))),se=t((()=>{return o=s.file.statusRow,Ce.isUntracked(o)?"file-x":Ce.isNew(o)&&Ce.hasStaged(o)?"file-plus":Ce.isDeleted(o)?"file-minus":"file-diff";var o})),W=t((()=>{return o=s.file.statusRow,Ce.isUntracked(o)||Ce.isNew(o)&&Ce.hasStaged(o)?"var(--ds-color-success-9)":Ce.isDeleted(o)?"var(--ds-color-error-9)":"var(--ds-color-neutral-11)";var o})),q=t((()=>(function(o){if(Ce.isUntracked(o)){if(Ce.hasUnstaged(o)&&l())return"Untracked file - unstaged changes";if(Ce.hasStaged(o)&&$())return"Untracked file - staged for commit"}if(Ce.isNew(o)){if(Ce.hasStaged(o)&&$())return"New file - staged for commit";if(Ce.hasUnstaged(o)&&l())return"New file - unstaged changes"}if(Ce.isDeleted(o)){if(Ce.hasStaged(o)&&$())return"File deleted - staged for commit";if(Ce.hasUnstaged(o)&&l())return"File deleted - unstaged"}return Ce.hasStaged(o)?"File modified - staged for commit":Ce.hasUnstaged(o)?"File modified - unstaged changes":"File status"})(s.file.statusRow))),M=t((()=>Ce.isUntracked(s.file.statusRow)));async function ie(){try{await y.stageFile(e(c))}catch(o){console.error(`Failed to stage file ${e(c)}:`,o)}}async function a(){try{await y.unstageFile(e(c))}catch(o){console.error(`Failed to unstage file ${e(c)}:`,o)}}const i=Kt();function C(){i(Qt({pathName:e(c),repoRoot:""}))}async function fe(){try{await y.resetToIndexFile(e(c))}catch(o){console.error(`Failed to reset file ${e(c)}:`,o)}}var te=lr();let X;var J=v(te);Ot(J,{variant:"ghost",color:"neutral",size:1,alignment:"left",class:"c-git-file-item__file-button",get onclick(){return s.onViewDiff},iconLeft:h=>{var R=g(),P=n(R),u=U=>{{let _e=t((()=>[ne.Hover]));ee(U,{get triggerOn(){return e(_e)},get content(){return e(q)},children:(K,N)=>{var F=ar(),ae=v(F);pe(ae,{get name(){return e(se)},size:1}),ve((()=>jt(F,`color: ${e(W)??""}`))),r(K,F)},$$slots:{default:!0}})}};_(P,(U=>{e(se)&&U(u)})),r(h,R)},children:(h,R)=>{var P=nr(),u=n(P);{let K=t((()=>[ne.Hover])),N=t((()=>e(M)?"View Diff â€¢ Untracked file":"View Diff"));ee(u,{class:"c-git-file-item__file-tooltip",get triggerOn(){return e(K)},get content(){return e(N)},children:(F,ae)=>{Ht(F,{shrink:!0,size:1,greyTextTruncateDirection:"left",text:le=>{var j=T();ve((()=>ke(j,e(w)))),r(le,j)},grayText:le=>{var j=T();ve((()=>ke(j,e(de)||""))),r(le,j)},$$slots:{text:!0,grayText:!0}})},$$slots:{default:!0}})}var U=O(u,2),_e=K=>{var N=g(),F=n(N);It(F,(()=>s.changeSummary),(()=>({file:s.file}))),r(K,N)};_(U,(K=>{s.changeSummary&&K(_e)})),r(h,P)},$$slots:{iconLeft:!0,default:!0}});var I=O(J,2),k=v(I);{let o=t((()=>[ne.Hover]));ee(k,{get triggerOn(){return e(o)},content:"Open file",children:(h,R)=>{Ye(h,{variant:"ghost",size:1,onclick:C,children:(P,u)=>{pe(P,{name:"external-link"})},$$slots:{default:!0}})},$$slots:{default:!0}})}var x=O(k,2),H=o=>{{let h=t((()=>[ne.Hover]));ee(o,{get triggerOn(){return e(h)},content:"Reset to staged state (or HEAD if not staged)",children:(R,P)=>{Ye(R,{variant:"ghost",size:1,onclick:fe,children:(u,U)=>{pe(u,{name:"trash-2"})},$$slots:{default:!0}})},$$slots:{default:!0}})}};_(x,(o=>{Z()&&o(H)}));var p=O(x,2),z=o=>{{let h=t((()=>[ne.Hover]));ee(o,{get triggerOn(){return e(h)},content:"Stage file: Mark changes as reviewed, approved, and ready to commit",children:(R,P)=>{Ye(R,{variant:"ghost",size:1,onclick:ie,children:(u,U)=>{pe(u,{name:"plus"})},$$slots:{default:!0}})},$$slots:{default:!0}})}};_(p,(o=>{l()&&o(z)}));var B=O(p,2),d=o=>{{let h=t((()=>[ne.Hover]));ee(o,{get triggerOn(){return e(h)},content:"Unstage file: Mark changes as not ready to commit",children:(R,P)=>{Ye(R,{variant:"ghost",size:1,onclick:a,children:(u,U)=>{pe(u,{name:"circle-minus"})},$$slots:{default:!0}})},$$slots:{default:!0}})}};_(B,(o=>{$()&&o(d)})),ve((()=>X=At(te,1,"c-git-file-item svelte-17nlls9",null,X,{"c-git-file-item--untracked":e(M)}))),r(ye,te),Me()}var dr=m('<div class="c-git-file-list__empty svelte-sayqy6"><!></div>'),gr=m('<div class="c-git-file-list svelte-sayqy6"><!></div>');function Pt(ye,s){Ae(s,!0);let l=b(s,"files",19,(()=>[])),$=b(s,"fileType",3,"unstaged"),Z=b(s,"showStageAction",3,!1),y=b(s,"showUnstageAction",3,!1),c=b(s,"showRevertAction",3,!1);var w=gr(),de=v(w),se=q=>{var M=g(),ie=n(M);pt(ie,17,l,(a=>`${$()}-${a.qualifiedPathName.relPath}+${a.changesSummary?.unstagedChanges?.addedLines}-${a.changesSummary?.unstagedChanges?.removedLines}`),((a,i)=>{cr(a,{get file(){return e(i)},get showStageAction(){return Z()},get showUnstageAction(){return y()},get showRevertAction(){return c()},onViewDiff:()=>s.onViewDiff(e(i)),get changeSummary(){return s.changeSummary}})})),r(q,M)},W=q=>{var M=dr(),ie=v(M),a=i=>{var C=g(),fe=n(C);It(fe,(()=>s.empty)),r(i,C)};_(ie,(i=>{s.empty&&i(a)})),r(q,M)};_(de,(q=>{l()&&l().length>0?q(se):q(W,!1)})),r(ye,w),Me()}var ur=m('<div class="c-git-section-summary svelte-1oxdpot"><!> <!> <!></div>');function Tt(ye,s){Ae(s,!0);let l=b(s,"files",19,(()=>{})),$=b(s,"changeType",3,"unstaged");const Z=t((()=>l()?.length||0)),y=t((()=>l()?.reduce(((a,i)=>{const C=$()==="staged"?i.changesSummary?.stagedChanges:i.changesSummary?.unstagedChanges;return a+(C?.addedLines||0)}),0)||0)),c=t((()=>l()?.reduce(((a,i)=>{const C=$()==="staged"?i.changesSummary?.stagedChanges:i.changesSummary?.unstagedChanges;return a+(C?.removedLines||0)}),0)||0)),w=t((()=>e(Z)===1?"file":"files")),de=t((()=>$()==="staged"?"check":"search")),se=t((()=>$()==="staged"?"success":"warning")),W=t((()=>$()==="staged"?"reviewed and ready to commit":"with changes not yet reviewed"));var q=g(),M=n(q),ie=a=>{var i=ur(),C=v(i);{let I=t((()=>[ne.Hover]));ee(C,{get triggerOn(){return e(I)},get content(){return`${e(Z)??""} ${e(w)??""} ${e(W)??""}`},children:(k,x)=>{var H=g(),p=n(H);{const z=B=>{var d=g(),o=n(d);G(o,(()=>ge.IconButton),((h,R)=>{R(h,{children:(P,u)=>{pe(P,{get name(){return e(de)},size:1})},$$slots:{default:!0}})})),r(B,d)};G(p,(()=>ge.Root),((B,d)=>{d(B,{variant:"soft",get color(){return e(se)},size:1,leftButtons:z,children:(o,h)=>{ue(o,{size:1,weight:"medium",children:(R,P)=>{var u=T();ve((()=>ke(u,e(Z)))),r(R,u)},$$slots:{default:!0}})},$$slots:{leftButtons:!0,default:!0}})}))}r(k,H)},$$slots:{default:!0}})}var fe=O(C,2),te=I=>{{let k=t((()=>[ne.Hover]));ee(I,{get triggerOn(){return e(k)},get content(){return`${e(y)??""} lines added across all files`},children:(x,H)=>{var p=g(),z=n(p);G(z,(()=>ge.Root),((B,d)=>{d(B,{variant:"soft",color:"success",size:1,children:(o,h)=>{ue(o,{size:1,weight:"medium",children:(R,P)=>{var u=T();ve((()=>ke(u,`+${e(y)??""}`))),r(R,u)},$$slots:{default:!0}})},$$slots:{default:!0}})})),r(x,p)},$$slots:{default:!0}})}};_(fe,(I=>{e(y)>0&&I(te)}));var X=O(fe,2),J=I=>{{let k=t((()=>[ne.Hover]));ee(I,{get triggerOn(){return e(k)},get content(){return`${e(c)??""} lines removed across all files`},children:(x,H)=>{var p=g(),z=n(p);G(z,(()=>ge.Root),((B,d)=>{d(B,{variant:"soft",color:"error",size:1,children:(o,h)=>{ue(o,{size:1,weight:"medium",children:(R,P)=>{var u=T();ve((()=>ke(u,`-${e(c)??""}`))),r(R,u)},$$slots:{default:!0}})},$$slots:{default:!0}})})),r(x,p)},$$slots:{default:!0}})}};_(X,(I=>{e(c)>0&&I(J)})),r(a,i)};_(M,(a=>{e(Z)>0&&a(ie)})),r(ye,q),Me()}var vr=m('<div class="c-git-change-summary svelte-1dm378"><!> <!></div>');function Ut(ye,s){Ae(s,!0);let l=b(s,"addedLines",3,0),$=b(s,"removedLines",3,0),Z=t((()=>l()>0||$()>0));var y=g(),c=n(y),w=de=>{var se=vr(),W=v(se),q=a=>{{let i=t((()=>[ne.Hover]));ee(a,{get triggerOn(){return e(i)},get content(){return`${l()??""} lines added`},children:(C,fe)=>{xt(C,{color:"success",children:(te,X)=>{var J=T();ve((()=>ke(J,`+${l()??""}`))),r(te,J)},$$slots:{default:!0}})},$$slots:{default:!0}})}};_(W,(a=>{l()>0&&a(q)}));var M=O(W,2),ie=a=>{{let i=t((()=>[ne.Hover]));ee(a,{get triggerOn(){return e(i)},get content(){return`${$()??""} lines removed`},children:(C,fe)=>{xt(C,{color:"error",children:(te,X)=>{var J=T();ve((()=>ke(J,`-${$()??""}`))),r(te,J)},$$slots:{default:!0}})},$$slots:{default:!0}})}};_(M,(a=>{$()>0&&a(ie)})),r(de,se)};_(c,(de=>{e(Z)&&de(w)})),r(ye,y),Me()}var fr=m('<div class="c-git-section-changes__header svelte-1dl5jtk"><div class="c-git-section-changes__header-left svelte-1dl5jtk"><!> <!> <!></div> <div class="c-git-section-changes__controls svelte-1dl5jtk"><!> <!></div></div>'),mr=m('<div class="c-git-section-changes__content svelte-1dl5jtk"><!></div>'),hr=m('<div class="c-git-section-changes c-git-section-changes__wrapper svelte-1dl5jtk"><!></div>');function $r(ye,s){Ae(s,!0);const l=()=>V(w,"$unstagedFiles",$),[$,Z]=ht(),{model:y,controller:c}=ct.requireContext(),w=y.fileCollectionsModel.unstagedFiles,de=y.fileCollectionsModel.unstagedFilesWithUI;async function se(){if(c)try{await c.stageAllUnstaged()}catch(i){console.error("Failed to stage all unstaged files:",i)}}async function W(){if(c&&l())try{const i=l().map((C=>C.qualifiedPathName.relPath));await c.resetToIndexFiles(i)}catch(i){console.error("Failed to reset all unstaged files:",i)}}let q=t((()=>(l()?.length??0)>0));var M=g(),ie=n(M),a=i=>{var C=hr(),fe=v(C);wt(fe,{header:X=>{var J=fr(),I=v(J),k=v(I);Ct(k,{});var x=O(k,2);{let B=t((()=>[ne.Hover]));ee(x,{get triggerOn(){return e(B)},content:"Unstaged files: Files with changes that are not queued to commit to git",children:(d,o)=>{ue(d,{size:1,weight:"bold",class:"c-git-section-changes__title",children:(h,R)=>{var P=T("Unreviewed");r(h,P)},$$slots:{default:!0}})},$$slots:{default:!0}})}Tt(O(x,2),{get files(){return l()},changeType:"unstaged"});var H=O(I,2),p=v(H);{let B=t((()=>[ne.Hover]));ee(p,{get triggerOn(){return e(B)},content:"Reset all to staged state (or HEAD if not staged)",children:(d,o)=>{Ye(d,{variant:"ghost",size:1,onclick:W,children:(h,R)=>{pe(h,{name:"trash-2"})},$$slots:{default:!0}})},$$slots:{default:!0}})}var z=O(p,2);{let B=t((()=>[ne.Hover]));ee(z,{get triggerOn(){return e(B)},content:"Stage files: Mark all changes as reviewed, approved, and ready to commit",children:(d,o)=>{Ye(d,{variant:"ghost",size:1,onclick:se,children:(h,R)=>{pe(h,{name:"plus"})},$$slots:{default:!0}})},$$slots:{default:!0}})}r(X,J)},children:(X,J)=>{var I=mr();{const k=(x,H)=>{let p=()=>H?.().file;{let z=t((()=>p().changesSummary?.unstagedChanges?.addedLines||0)),B=t((()=>p().changesSummary?.unstagedChanges?.removedLines||0));Ut(x,{get addedLines(){return e(z)},get removedLines(){return e(B)}})}};Pt(v(I),{get files(){return V(de,"$unstagedFilesWithUI",$)},showStageAction:!0,showUnstageAction:!1,showRevertAction:!0,onViewDiff:x=>c?.openGitDiff(x.qualifiedPathName.relPath,!1),changeSummary:k,$$slots:{changeSummary:!0}})}r(X,I)},$$slots:{header:!0,default:!0}}),r(i,C)};_(ie,(i=>{e(q)&&i(a)})),r(ye,M),Me(),Z()}var pr=m('<div class="c-git-section-staged__header svelte-1jgkyxv"><div class="c-git-section-staged__header-left svelte-1jgkyxv"><!> <!> <!></div> <div class="c-git-section-staged__controls svelte-1jgkyxv"><!></div></div>'),yr=m('<div class="c-git-section-staged__content svelte-1jgkyxv"><!></div>'),wr=m('<div class="c-git-section-staged c-git-section-staged__wrapper svelte-1jgkyxv"><!></div>');function Cr(ye,s){Ae(s,!0);const l=()=>V(w,"$stagedFiles",$),[$,Z]=ht(),{model:y,controller:c}=ct.requireContext(),w=y.fileCollectionsModel.stagedFiles,de=y.fileCollectionsModel.stagedFilesWithUI;async function se(){if(c)try{await c.unstageAllStaged()}catch(a){console.error("Failed to unstage all staged files:",a)}}let W=t((()=>(l()?.length??0)>0));var q=g(),M=n(q),ie=a=>{var i=wr(),C=v(i);wt(C,{header:te=>{var X=pr(),J=v(X),I=v(J);Ct(I,{});var k=O(I,2);{let p=t((()=>[ne.Hover]));ee(k,{get triggerOn(){return e(p)},content:"Staged files: Files that are reviewed, approved, and ready to commit to git",children:(z,B)=>{ue(z,{size:1,weight:"bold",class:"c-git-section-staged__title",children:(d,o)=>{var h=T("Reviewed and Approved");r(d,h)},$$slots:{default:!0}})},$$slots:{default:!0}})}Tt(O(k,2),{get files(){return l()},changeType:"staged"});var x=O(J,2),H=v(x);{let p=t((()=>[ne.Hover]));ee(H,{get triggerOn(){return e(p)},content:"Mark all changes as unapproved and not ready to commit",children:(z,B)=>{Ye(z,{variant:"ghost",size:1,onclick:se,children:(d,o)=>{pe(d,{name:"circle-minus"})},$$slots:{default:!0}})},$$slots:{default:!0}})}r(te,X)},children:(te,X)=>{var J=yr();{const I=(k,x)=>{let H=()=>x?.().file;{let p=t((()=>H().changesSummary?.stagedChanges?.addedLines||0)),z=t((()=>H().changesSummary?.stagedChanges?.removedLines||0));Ut(k,{get addedLines(){return e(p)},get removedLines(){return e(z)}})}};Pt(v(J),{get files(){return V(de,"$stagedFilesWithUI",$)},showStageAction:!1,showUnstageAction:!0,onViewDiff:k=>c?.openGitDiff(k.qualifiedPathName.relPath,!0),changeSummary:I,$$slots:{changeSummary:!0}})}r(te,J)},$$slots:{header:!0,default:!0}}),r(a,i)};_(M,(a=>{e(W)&&a(ie)})),r(ye,q),Me(),Z()}var br=m('<span class="c-git-repository-section__expand-placeholder svelte-1kzm13i"><!></span>'),kr=m('<div class="c-git-repository-section__error svelte-1kzm13i"><!></div>'),_r=m('<div class="c-git-repository-section__loading svelte-1kzm13i"><!></div>'),zr=m('<div class="c-git-repository-section__header svelte-1kzm13i"><div class="c-git-repository-section__header-left svelte-1kzm13i"><!> <!></div> <div class="c-git-repository-section__header-right svelte-1kzm13i"><!></div></div>'),Rr=m('<div class="c-git-repository-section__content svelte-1kzm13i"><!> <!></div>'),Sr=m('<div class="c-git-repository-section__empty svelte-1kzm13i"><!></div>'),xr=m('<div tabindex="-1"><!></div>');function Br(ye,s){Ae(s,!0);const l=()=>V(e(C),"$activeRepository",c),$=()=>V(e(x),"$isOperationInProgress",c),Z=()=>V(e(k),"$lastError",c),y=()=>V(e(fe),"$availableRepositories",c),[c,w]=ht();let de=b(s,"defaultOpen",3,!0);ct.setInContext(s.model,s.controller);const se=bt.getContext();let W=mt(!de());function q(){e(i)&&s.repositoryPath!==l()&&e(i).selectRepository(s.repositoryPath)}function M(N){N.key!=="Enter"&&N.key!==" "||!e(i)||s.repositoryPath===l()||(N.preventDefault(),e(i).selectRepository(s.repositoryPath))}async function ie(){if(!$())try{await s.controller.refreshRepository()}catch(N){console.error("Failed to refresh repository:",N)}}let a=t((()=>se?.model)),i=t((()=>se?.controller)),C=t((()=>e(a)?.activeRepository)),fe=t((()=>e(a)?.availableRepositories)),te=t((()=>s.model.repositoryState)),X=t((()=>s.model.fileCollectionsModel.unstagedFiles)),J=t((()=>s.model.fileCollectionsModel.stagedFiles)),I=t((()=>s.model.repositoryStateModel.isInitialized)),k=t((()=>s.model.lastError)),x=t((()=>s.model.operationStatusModel.isOperationInProgress)),H=t((()=>V(e(te),"$repositoryState",c)?.metadata?.currentBranch)),p=t((()=>V(e(J),"$stagedFiles",c)?.length||0)),z=t((()=>V(e(X),"$unstagedFiles",c)?.length||0)),B=t((()=>V(e(I),"$isGitInitialized",c)&&!Z())),d=t(Z),o=t((()=>e(p)>0||e(z)>0)),h=t((()=>y()&&y().length===1));Mt((()=>{e(h)&&e(W)&&st(W,!1)}));let R=t((()=>s.repositoryPath?s.repositoryPath.split("/").pop()||s.repositoryPath:void 0)),P=t((()=>y()&&y().length>1&&l()===s.repositoryPath)),u=t((()=>y()&&y().length>1));var U=xr();let _e;U.__focusin=function(){e(i)&&s.repositoryPath!==l()&&e(i).selectRepository(s.repositoryPath)},U.__click=function(...N){(e(u)?q:void 0)?.apply(this,N)},U.__keydown=function(...N){(e(u)?M:void 0)?.apply(this,N)};var K=v(U);wt(K,{class:"c-git-repository-section",stickyHeader:!0,get collapsed(){return e(W)},set collapsed(F){st(W,F,!0)},header:F=>{var ae=zr(),re=v(ae),Q=v(re),le=A=>{Ct(A,{})},j=A=>{var oe=br(),D=v(oe);pe(D,{name:"file-diff"}),r(A,oe)};_(Q,(A=>{e(h)?A(j,!1):A(le)}));var f=O(Q,2),S=A=>{(function(oe,D){Ae(D,!0);let be=b(D,"repositoryName",19,(()=>{})),he=b(D,"currentBranch",19,(()=>{})),L=b(D,"stagedCount",3,0),Y=b(D,"unstagedCount",3,0),$e=b(D,"isValid",3,!0),ce=b(D,"isCollapsed",3,!1);const xe=t((()=>be()?be().split("/").pop()||be():void 0)),Be=t((()=>he()||"unknown")),Je=t((()=>L()+Y())),Te=t((()=>e(Je)>0));var Ge=ir(),Ue=v(Ge),Ze=Oe=>{var qe=sr(),Xe=n(qe),et=Re=>{{let Se=t((()=>[ne.Hover])),Ne=t((()=>be()||e(xe)));ee(Re,{get triggerOn(){return e(Se)},get content(){return`Repository: ${e(Ne)??""}`},children:(He,at)=>{var tt=g(),gt=n(tt);{const nt=we=>{var Fe=g(),Pe=n(Fe);G(Pe,(()=>ge.IconButton),((je,Ie)=>{Ie(je,{children:(We,De)=>{pe(We,{name:"folder"})},$$slots:{default:!0}})})),r(we,Fe)};G(gt,(()=>ge.Root),((we,Fe)=>{Fe(we,{variant:"soft",color:"accent",size:1,leftButtons:nt,children:(Pe,je)=>{ue(Pe,{size:1,weight:"medium",children:(Ie,We)=>{var De=T();ve((()=>ke(De,e(xe)))),r(Ie,De)},$$slots:{default:!0}})},$$slots:{leftButtons:!0,default:!0}})}))}r(He,tt)},$$slots:{default:!0}})}};_(Xe,(Re=>{e(xe)&&Re(et)}));var Ee=O(Xe,2);{let Re=t((()=>[ne.Hover])),Se=t((()=>he()||"unknown"));ee(Ee,{get triggerOn(){return e(Re)},get content(){return`Current branch: ${e(Se)??""}`},children:(Ne,He)=>{var at=g(),tt=n(at);{const gt=nt=>{var we=g(),Fe=n(we);G(Fe,(()=>ge.IconButton),((Pe,je)=>{je(Pe,{children:(Ie,We)=>{pe(Ie,{name:"git-branch"})},$$slots:{default:!0}})})),r(nt,we)};G(tt,(()=>ge.Root),((nt,we)=>{we(nt,{variant:"soft",color:"neutral",size:1,leftButtons:gt,children:(Fe,Pe)=>{ue(Fe,{size:1,weight:"medium",children:(je,Ie)=>{var We=T();ve((()=>ke(We,e(Be)))),r(je,We)},$$slots:{default:!0}})},$$slots:{leftButtons:!0,default:!0}})}))}r(Ne,at)},$$slots:{default:!0}})}var Ve=O(Ee,2),Ke=Re=>{var Se=or(),Ne=n(Se),He=we=>{{let Fe=t((()=>[ne.Hover])),Pe=t(Y),je=t((()=>Y()===1?"file":"files"));ee(we,{get triggerOn(){return e(Fe)},get content(){return`${e(Pe)??""} unstaged ${e(je)??""} with changes not yet reviewed`},children:(Ie,We)=>{var De=g(),ut=n(De);{const vt=rt=>{var Le=g(),ot=n(Le);G(ot,(()=>ge.IconButton),((lt,Qe)=>{Qe(lt,{children:($t,Nt)=>{pe($t,{name:"search"})},$$slots:{default:!0}})})),r(rt,Le)};G(ut,(()=>ge.Root),((rt,Le)=>{Le(rt,{variant:"soft",color:"warning",size:1,leftButtons:vt,children:(ot,lt)=>{var Qe=T();ve((()=>ke(Qe,Y()))),r(ot,Qe)},$$slots:{leftButtons:!0,default:!0}})}))}r(Ie,De)},$$slots:{default:!0}})}};_(Ne,(we=>{Y()>0&&we(He)}));var at=O(Ne,2),tt=we=>{{let Fe=t((()=>[ne.Hover])),Pe=t(L),je=t((()=>L()===1?"file":"files"));ee(we,{get triggerOn(){return e(Fe)},get content(){return`${e(Pe)??""} staged ${e(je)??""} reviewed and ready to commit`},children:(Ie,We)=>{var De=g(),ut=n(De);{const vt=rt=>{var Le=g(),ot=n(Le);G(ot,(()=>ge.IconButton),((lt,Qe)=>{Qe(lt,{children:($t,Nt)=>{pe($t,{name:"check"})},$$slots:{default:!0}})})),r(rt,Le)};G(ut,(()=>ge.Root),((rt,Le)=>{Le(rt,{variant:"soft",color:"success",size:1,leftButtons:vt,children:(ot,lt)=>{var Qe=T();ve((()=>ke(Qe,L()))),r(ot,Qe)},$$slots:{leftButtons:!0,default:!0}})}))}r(Ie,De)},$$slots:{default:!0}})}};_(at,(we=>{L()>0&&we(tt)}));var gt=O(at,2),nt=we=>{{let Fe=t((()=>[ne.Hover]));ee(we,{get triggerOn(){return e(Fe)},content:"Repository is clean with no staged or unstaged changes",children:(Pe,je)=>{var Ie=g(),We=n(Ie);G(We,(()=>ge.Root),((De,ut)=>{ut(De,{variant:"soft",color:"neutral",size:1,children:(vt,rt)=>{ue(vt,{size:1,color:"neutral",children:(Le,ot)=>{var lt=T("No changes");r(Le,lt)},$$slots:{default:!0}})},$$slots:{default:!0}})})),r(Pe,Ie)},$$slots:{default:!0}})}};_(gt,(we=>{e(Te)||we(nt)})),r(Re,Se)};_(Ve,(Re=>{ce()&&Re(Ke)})),r(Oe,qe)},it=Oe=>{{let qe=t((()=>[ne.Hover]));ee(Oe,{get triggerOn(){return e(qe)},content:"Repository path is invalid or not a git repository",children:(Xe,et)=>{var Ee=g(),Ve=n(Ee);G(Ve,(()=>ge.Root),((Ke,Re)=>{Re(Ke,{variant:"soft",color:"error",size:1,children:(Se,Ne)=>{ue(Se,{size:1,color:"error",children:(He,at)=>{var tt=T("Invalid repository");r(He,tt)},$$slots:{default:!0}})},$$slots:{default:!0}})})),r(Xe,Ee)},$$slots:{default:!0}})}};_(Ue,(Oe=>{$e()?Oe(Ze):Oe(it,!1)})),r(oe,Ge),Me()})(A,{get repositoryName(){return e(R)},get currentBranch(){return e(H)},get stagedCount(){return e(p)},get unstagedCount(){return e(z)},get isValid(){return e(B)},get isCollapsed(){return e(W)}})},E=A=>{var oe=g(),D=n(oe),be=L=>{var Y=kr(),$e=v(Y);ue($e,{size:1,color:"error",children:(ce,xe)=>{var Be=T();ve((()=>ke(Be,e(d)))),r(ce,Be)},$$slots:{default:!0}}),r(L,Y)},he=L=>{var Y=_r(),$e=v(Y);ue($e,{size:1,color:"neutral",children:(ce,xe)=>{var Be=T("Loading repository info...");r(ce,Be)},$$slots:{default:!0}}),r(L,Y)};_(D,(L=>{e(d)?L(be):L(he,!1)}),!0),r(A,oe)};_(f,(A=>{e(B)?A(S):A(E,!1)}));var ze=O(re,2),me=v(ze);{let A=t((()=>[ne.Hover]));ee(me,{get triggerOn(){return e(A)},content:"Sync git state - refresh repository status, branches, and file changes",children:(oe,D)=>{Ye(oe,{variant:"ghost-block",color:"neutral",size:1,get disabled(){return $()},onclick:ie,children:(be,he)=>{pe(be,{name:"refresh-ccw"})},$$slots:{default:!0}})},$$slots:{default:!0}})}r(F,ae)},children:(F,ae)=>{var re=g(),Q=n(re),le=f=>{var S=Rr(),E=v(S);$r(E,{}),Cr(O(E,2),{}),r(f,S)},j=f=>{var S=g(),E=n(S),ze=me=>{var A=Sr(),oe=v(A);ue(oe,{size:1,color:"neutral",children:(D,be)=>{var he=T("No changes to review");r(D,he)},$$slots:{default:!0}}),r(me,A)};_(E,(me=>{e(B)&&!e(o)&&me(ze)}),!0),r(f,S)};_(Q,(f=>{e(B)&&e(o)?f(le):f(j,!1)})),r(F,re)},$$slots:{header:!0,default:!0}}),ve((()=>{_e=At(U,1,"c-git-repository-card svelte-1kzm13i",null,_e,{"c-git-repository-card--can-highlight":y()&&y().length>1,"c-git-repository-card--highlighted":e(P)}),_t(U,"role",e(u)?"button":void 0),_t(U,"aria-label",e(u)?`Repository ${e(R)||s.repositoryPath}`:void 0)})),r(ye,U),Me(),w()}Dt(["focusin","click","keydown"]);var Fr=m('<div class="c-git-repository-badge svelte-p4qldl"><div class="c-git-repository-badge__chips svelte-p4qldl"><!> <!> <!></div></div>'),Ir=m('<div class="c-git-repository-selector__item-content svelte-zgdx39"><!></div>'),Ar=m("<!> <!>",1),Mr=m("<!> <!>",1),Or=m('<div class="c-git-repository-selector svelte-zgdx39"><!></div>');function Hr(ye,s){Ae(s,!0);let l=b(s,"activeRepository",19,(()=>{})),$=b(s,"availableRepositories",19,(()=>[])),Z=b(s,"repositoryStates",19,(()=>new Map));function y(W){const q=Z().get(W),M=W.split("/").pop()||W;let ie,a;if(q?.repositoryStateModel?.metadata){const i=q.repositoryStateModel.metadata;ie=zt(i.currentBranch);const C=zt(i.headOid);a=C?C.substring(0,7):void 0}return{repositoryName:M,currentBranch:ie,shortCommit:a}}let c=t((()=>l()?y(l()):{repositoryName:void 0,currentBranch:void 0,shortCommit:void 0})),w=mt(void 0);var de=Or(),se=v(de);G(se,(()=>ft.Root),((W,q)=>{yt(q(W,{children:(M,ie)=>{var a=Mr(),i=n(a);G(i,(()=>ft.Trigger),((fe,te)=>{te(fe,{children:(X,J)=>{(function(I,k){Ae(k,!0);let x=b(k,"repositoryName",19,(()=>{})),H=b(k,"currentBranch",19,(()=>{})),p=b(k,"shortCommit",19,(()=>{})),z=t((()=>x()?x().split("/").pop()||x():"No repository")),B=t((()=>H()||"unknown")),d=t((()=>p()||"unknown"));var o=Fr(),h=v(o),R=v(h);{let K=t((()=>x()||e(z))),N=t((()=>[ne.Hover]));ee(R,{get content(){return e(K)},get triggerOn(){return e(N)},children:(F,ae)=>{var re=g(),Q=n(re);{const le=j=>{var f=g(),S=n(f);G(S,(()=>ge.IconButton),((E,ze)=>{ze(E,{children:(me,A)=>{pe(me,{name:"folder"})},$$slots:{default:!0}})})),r(j,f)};G(Q,(()=>ge.Root),((j,f)=>{f(j,{variant:"soft",color:"accent",size:1,leftButtons:le,children:(S,E)=>{ue(S,{class:"c-git-repository-badge__text",size:1,weight:"medium",children:(ze,me)=>{var A=T();ve((()=>ke(A,e(z)))),r(ze,A)},$$slots:{default:!0}})},$$slots:{leftButtons:!0,default:!0}})}))}r(F,re)},$$slots:{default:!0}})}var P=O(R,2),u=K=>{var N=g(),F=n(N);{const ae=re=>{var Q=g(),le=n(Q);G(le,(()=>ge.IconButton),((j,f)=>{f(j,{children:(S,E)=>{pe(S,{name:"git-branch"})},$$slots:{default:!0}})})),r(re,Q)};G(F,(()=>ge.Root),((re,Q)=>{Q(re,{variant:"soft",color:"neutral",size:1,leftButtons:ae,children:(le,j)=>{ue(le,{class:"c-git-repository-badge__text",size:1,weight:"medium",children:(f,S)=>{var E=T();ve((()=>ke(E,e(B)))),r(f,E)},$$slots:{default:!0}})},$$slots:{leftButtons:!0,default:!0}})}))}r(K,N)};_(P,(K=>{H()&&K(u)}));var U=O(P,2),_e=K=>{var N=g(),F=n(N);{const ae=re=>{var Q=g(),le=n(Q);G(le,(()=>ge.IconButton),((j,f)=>{f(j,{children:(S,E)=>{pe(S,{name:"git-commit-vertical"})},$$slots:{default:!0}})})),r(re,Q)};G(F,(()=>ge.Root),((re,Q)=>{Q(re,{variant:"soft",color:"neutral",size:1,leftButtons:ae,children:(le,j)=>{ue(le,{class:"c-git-repository-badge__text",size:1,family:"mono",children:(f,S)=>{var E=T();ve((()=>ke(E,e(d)))),r(f,E)},$$slots:{default:!0}})},$$slots:{leftButtons:!0,default:!0}})}))}r(K,N)};_(U,(K=>{p()&&K(_e)})),r(I,o),Me()})(X,{get repositoryName(){return e(c).repositoryName},currentBranch:void 0,shortCommit:void 0})},$$slots:{default:!0}})}));var C=O(i,2);G(C,(()=>ft.Content),((fe,te)=>{te(fe,{size:1,side:"top",align:"start",children:(X,J)=>{var I=Ar(),k=n(I);G(k,(()=>ft.Label),((H,p)=>{p(H,{children:(z,B)=>{var d=T("Select Repository");r(z,d)},$$slots:{default:!0}})}));var x=O(k,2);pt(x,16,$,(H=>H),((H,p)=>{const z=t((()=>y(p))),B=t((()=>p===l()));var d=g(),o=n(d);G(o,(()=>ft.Item),((h,R)=>{R(h,{onSelect:()=>(async function(P){try{e(w)?.requestClose(),P!==l()&&await s.onSelectRepository(P)}catch(u){console.error("Failed to select repository:",u)}})(p),get highlight(){return e(B)},children:(P,u)=>{var U=Ir(),_e=v(U);Ht(_e,{shrink:!0,text:F=>{ue(F,{size:1,weight:"medium",children:(ae,re)=>{var Q=T();ve((()=>ke(Q,e(z).repositoryName))),r(ae,Q)},$$slots:{default:!0}})},grayText:F=>{var ae=T();ve((()=>ke(ae,`${(e(z).currentBranch||"")??""}${e(z).currentBranch&&e(z).shortCommit?"@":""}${(e(z).shortCommit||"")??""}`))),r(F,ae)},$$slots:{text:!0,grayText:!0}}),r(P,U)},$$slots:{default:!0}})})),r(H,d)})),r(X,I)},$$slots:{default:!0}})})),r(M,a)},$$slots:{default:!0}}),(M=>st(w,M,!0)),(()=>e(w)))})),r(ye,de),Me()}var Pr=m('<div class="c-git-commit-actions svelte-c9i3ym"><!></div>'),Tr=m('<div class="c-git-commit-input__badges svelte-bjnzcp"><!> <!></div>'),Ur=m("<!> <!>",1),Nr=m("<div><!></div>"),jr=m("<!> <!> <!>",1),Dr=m('<div class="c-chat-input svelte-bjnzcp"><!></div>');function Lr(ye,s){Ae(s,!0);const l=()=>V(e(x),"$activeRepoModel",w),$=()=>V(e(N),"$commitMessage",w),Z=()=>V(e(H),"$currStatus",w),y=()=>V(e(P),"$availableRepositories",w),c=()=>V(e(F),"$isGenerating",w),[w,de]=ht();let se=b(s,"variant",3,"solid"),W=b(s,"stagedFilesCount",3,0),q=b(s,"isCommitting",3,!1),M=b(s,"canCommit",3,!0),ie=b(s,"placeholder",3,"Write or generate a commit message..."),a=bt.getContext(),i=mt(void 0),C=mt(Lt({richTextJsonRepr:{type:"doc",content:[]},rawText:""}));function fe(f){st(C,f,!0);const S=f.rawText;if(l()?.commitInputModel&&S!==$()){const E=a?.controller?.getActiveRepositoryController()||ct.getContext()?.controller;E&&E.setCommitInputMessage(S)}}async function te(){if(!e(Q))return;const f=k(e(C));try{await s.onCommit(f);const S=a?.controller?.getActiveRepositoryController()||ct.getContext()?.controller;S&&S.clearCommitInputMessage()}catch(S){console.error("Commit failed:",S)}}let X=!1;async function J(f){if(e(_e)&&!X){X=!0;try{await e(_e).selectRepository(f)}catch(S){console.error("Failed to select repository:",S)}finally{X=!1}}}async function I(){const f=a?.controller?.getActiveRepositoryController()||ct.getContext()?.controller;f&&await f.generateCommitMessage()}function k(f){return f.rawText||""}let x=t((()=>a?.model?.activeRepositoryModel)),H=t((()=>l()?.currStatus)),p=t((()=>l()?.fileCollectionsModel.stagedFiles)),z=t((()=>l()?.flagsModel.canCommit)),B=t((()=>V(e(p),"$stagedFiles",w)?.length??W())),d=t((()=>V(e(z),"$canCommitFromContext",w)??M())),o=t((()=>Z()===Rt.committing||q())),h=t((()=>a?.model)),R=t((()=>e(h)?.activeRepository)),P=t((()=>e(h)?.availableRepositories)),u=t((()=>e(h)?.repositories)),U=t((()=>e(h)?.activeRepositoryMetadata)),_e=t((()=>a?.controller)),K=t((()=>l()?.commitInputModel)),N=t((()=>e(K)?.message)),F=t((()=>e(K)?.isGenerating)),ae=t((()=>e(K)?.placeholderText));Mt((()=>{$()!==void 0&&$()!==k(e(C))&&st(C,{richTextJsonRepr:{type:"doc",content:[]},rawText:$()},!0)}));let re=t((()=>k(e(C)).trim().length>0)),Q=t((()=>e(d)&&e(B)>0&&e(re)&&!e(o)));var le=Dr(),j=v(le);{const f=S=>{var E=Nr(),ze=v(E);{const me=oe=>{var D=g(),be=n(D),he=L=>{var Y=Tr(),$e=v(Y);{let xe=t((()=>V(e(u),"$repositories",w)||new Map));Hr($e,{get activeRepository(){return V(e(R),"$activeRepository",w)},get availableRepositories(){return y()},get repositoryStates(){return e(xe)},onSelectRepository:J})}var ce=O($e,2);{let xe=t((()=>V(e(U),"$activeRepositoryMetadata",w)?.currentBranch));(function(Be,Je){let Te=b(Je,"currentBranch",19,(()=>{}));const Ge=t((()=>Te()||"unknown"));var Ue=g(),Ze=n(Ue),it=Oe=>{var qe=g(),Xe=n(qe);{const et=Ee=>{var Ve=g(),Ke=n(Ve);G(Ke,(()=>ge.IconButton),((Re,Se)=>{Se(Re,{children:(Ne,He)=>{pe(Ne,{name:"git-branch"})},$$slots:{default:!0}})})),r(Ee,Ve)};G(Xe,(()=>ge.Root),((Ee,Ve)=>{Ve(Ee,{variant:"soft",color:"neutral",size:1,leftButtons:et,children:(Ke,Re)=>{ue(Ke,{size:1,weight:"medium",children:(Se,Ne)=>{var He=T();ve((()=>ke(He,e(Ge)))),r(Se,He)},$$slots:{default:!0}})},$$slots:{leftButtons:!0,default:!0}})}))}r(Oe,qe)};_(Ze,(Oe=>{Te()&&Oe(it)})),r(Be,Ue)})(ce,{get currentBranch(){return e(xe)}})}r(L,Y)};_(be,(L=>{a&&y()&&y().length>0&&L(he)})),r(oe,D)},A=oe=>{var D=Ur(),be=n(D);ee(be,{content:"Generate commit message",children:(L,Y)=>{{let $e=t((()=>(c()??!1)||Z()!==Rt.idle));Ye(L,{size:1,variant:"ghost-block",color:"neutral",get disabled(){return e($e)},onclick:I,children:(ce,xe)=>{pe(ce,{name:"sparkles"})},$$slots:{default:!0}})}},$$slots:{default:!0}});var he=O(be,2);{let L=t((()=>!e(re))),Y=t((()=>c()??!1));(function($e,ce){Ae(ce,!0);let xe=b(ce,"variant",3,"solid"),Be=b(ce,"stagedFilesCount",3,0),Je=b(ce,"isCommitting",3,!1),Te=b(ce,"canCommit",3,!0),Ge=b(ce,"disabled",3,!1),Ue=b(ce,"isGenerating",3,!1);const Ze=t((()=>Te()&&Be()>0&&!Ge()&&!Ue())),it=t((()=>Ue()?"Generating commit message...":Te()?Be()===0?"No staged files to commit":Ge()?"Enter a commit message":`Commit ${Be()} staged ${Yt(Be(),"file")}`:"Cannot commit at this time"));async function Oe(){if(e(Ze)&&!Je())try{await ce.onCommit()}catch(et){console.error("Failed to commit:",et)}}var qe=Pr(),Xe=v(qe);ee(Xe,{get content(){return e(it)},children:(et,Ee)=>{{const Ve=Se=>{pe(Se,{name:"git-commit-horizontal"})};let Ke=t((()=>!e(Ze)||Je()||Ue())),Re=t((()=>Je()||Ue()));Ot(et,{get variant(){return xe()},size:1,get disabled(){return e(Ke)},get loading(){return e(Re)},onclick:Oe,class:"c-git-commit-actions__commit-button",iconLeft:Ve,children:(Se,Ne)=>{var He=T("Commit");r(Se,He)},$$slots:{iconLeft:!0,default:!0}})}},$$slots:{default:!0}}),r($e,qe),Me()})(he,{onCommit:te,get variant(){return se()},get stagedFilesCount(){return e(B)},get isCommitting(){return e(o)},get canCommit(){return e(d)},get disabled(){return e(L)},get isGenerating(){return e(Y)}})}r(oe,D)};G(ze,(()=>Et.Root),((oe,D)=>{D(oe,{leftAlign:me,rightAlign:A,$$slots:{leftAlign:!0,rightAlign:!0}})}))}r(S,E)};G(j,(()=>Bt.Root),((S,E)=>{yt(E(S,{editable:!0,footer:f,children:(ze,me)=>{var A=jr(),oe=n(A);{let he=t((()=>$()||""));G(oe,(()=>Bt.Content),((L,Y)=>{Y(L,{get content(){return e(he)},onContentChanged:fe})}))}var D=O(oe,2);{let he=t((()=>V(e(ae),"$dynamicPlaceholder",w)||ie()));tr(D,{get placeholder(){return e(he)}})}var be=O(D,2);{let he=t((()=>({"Mod-Enter":()=>!!e(Q)&&(te(),!0)})));rr(be,{get shortcuts(){return e(he)}})}r(ze,A)},$$slots:{footer:!0,default:!0}}),(ze=>st(i,ze,!0)),(()=>e(i)))}))}r(ye,le),Me(),de()}var Gr=m('<div class="c-git-agent-edit-tab c-git-agent-edit-tab--disabled svelte-105jwct"><!></div>'),qr=m('<div class="c-git-agent-edit-tab c-git-agent-edit-tab--loading svelte-105jwct"><!></div>'),Er=m('<div class="c-git-agent-edit-tab c-git-agent-edit-tab--error svelte-105jwct"><!></div>'),Vr=m('<div class="l-input-area-design-system svelte-105jwct"><!></div>'),Wr=m('<!> <!> <div class="c-git-agent-edit-tab svelte-105jwct"><div class="c-git-repository-container svelte-105jwct"></div></div>',1),Jr=m('<div class="c-git-agent-edit-tab c-git-agent-edit-tab--unavailable svelte-105jwct"><!></div>'),Kr=m('<div class="c-git-agent-edit-tab c-git-agent-edit-tab--unavailable svelte-105jwct"><!></div>');function Eo(ye,s){Ae(s,!0);const l=()=>V(e(a),"$availableRepositories",w),$=()=>V(J,"$isGitEnabled",w),Z=()=>V(q,"$isAgentic",w),y=()=>V(e(fe),"$isGitInitialized",w),c=()=>V(e(te),"$lastError",w),[w,de]=ht(),se=bt.requireContext(),W=Zt(),q=Xt(W);let M=t((()=>se.model)),ie=t((()=>se.controller)),a=t((()=>e(M)?.availableRepositories)),i=t((()=>l()?.[0])),C=t((()=>e(i)?e(M)?.getRepositoryStateModel(e(i)):void 0)),fe=t((()=>e(C)?.isInitialized||{subscribe:()=>()=>{}})),te=t((()=>e(M)?.lastError)),X=t((()=>e(M)?.repositories)),J=er("enableAgentGitTracker"),I=t((()=>$()&&Z()&&y()));function k(d){const o=se.controller.getActiveRepositoryController();o&&o.commit(d)}Gt((async()=>{if($()&&Z())try{await e(ie).listRepositories()}catch(d){console.error("Failed to list repositories:",d)}}));let x=mt(void 0);var H=g(),p=n(H),z=d=>{var o=Gr(),h=v(o);ue(h,{size:1,color:"neutral",children:(R,P)=>{var u=T("Git tracking is disabled");r(R,u)},$$slots:{default:!0}}),r(d,o)},B=d=>{var o=g(),h=n(o),R=u=>{var U=g(),_e=n(U),K=F=>{var ae=qr(),re=v(ae);ue(re,{size:1,color:"neutral",children:(Q,le)=>{var j=T("Initializing git interface...");r(Q,j)},$$slots:{default:!0}}),r(F,ae)},N=F=>{var ae=g(),re=n(ae),Q=j=>{var f=Er(),S=v(f);ue(S,{size:1,color:"error",children:(E,ze)=>{var me=T();ve((()=>ke(me,`Error: ${c()??""}`))),r(E,me)},$$slots:{default:!0}}),r(j,f)},le=j=>{var f=g(),S=n(f),E=me=>{var A=Wr(),oe=n(A);Ft(oe,{get target(){return`#${St.divider}`},children:(L,Y)=>{Vt(L,{get inputArea(){return e(x)},set inputArea($e){st(x,$e,!0)}})},$$slots:{default:!0}});var D=O(oe,2);Ft(D,{get target(){return`#${St.input}`},children:(L,Y)=>{var $e=Vr();Lr(v($e),{onCommit:k,variant:"solid",stagedFilesCount:0,isCommitting:!1,canCommit:!0,placeholder:"Enter commit message..."}),yt($e,(ce=>st(x,ce)),(()=>e(x))),r(L,$e)},$$slots:{default:!0}});var be=O(D,2),he=v(be);pt(he,5,l,(L=>L),((L,Y)=>{const $e=t((()=>V(e(X),"$repoStates",w)?.get(e(Y)))),ce=t((()=>e(ie)?.getRepositoryController(e(Y))));var xe=g(),Be=n(xe),Je=Te=>{var Ge=g(),Ue=n(Ge);qt(Ue,(()=>e(Y)),(Ze=>{{let it=t((()=>e(Y)===l()[0]));Br(Ze,{get model(){return e($e)},get controller(){return e(ce)},get repositoryPath(){return e(Y)},get defaultOpen(){return e(it)}})}})),r(Te,Ge)};_(Be,(Te=>{e($e)&&e(ce)&&Te(Je)})),r(L,xe)})),r(me,A)},ze=me=>{var A=Jr(),oe=v(A);ue(oe,{size:1,color:"neutral",children:(D,be)=>{var he=T("Git interface not available");r(D,he)},$$slots:{default:!0}}),r(me,A)};_(S,(me=>{e(I)&&l()&&l().length>0?me(E):me(ze,!1)}),!0),r(j,f)};_(re,(j=>{c()?j(Q):j(le,!1)}),!0),r(F,ae)};_(_e,(F=>{y()?F(N,!1):F(K)})),r(u,U)},P=u=>{var U=Kr(),_e=v(U);ue(_e,{size:1,color:"neutral",children:(K,N)=>{var F=T("Git interface only available in agent conversations");r(K,F)},$$slots:{default:!0}}),r(u,U)};_(h,(u=>{Z()?u(R):u(P,!1)}),!0),r(d,o)};_(p,(d=>{$()?d(B,!1):d(z)})),r(ye,H),Me(),de()}export{Eo as default};
//# sourceMappingURL=GitAgentEditTabContent-CHICxg86.js.map
