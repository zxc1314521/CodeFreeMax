import{az as he,D as K,E as D,K as h,O as j,P as n,Q as t,a1 as z,a4 as M,R as u,H as U,a2 as ee,ag as be,$ as B,a5 as ge,k as me,a0 as b,ae as fe,W as F,o as e,G as Y,T as ne,ai as H,S as pe,av as ye,aw as ke,Z as _e,ax as we}from"./debounce-BNOmQ76Y.js";import{A as le}from"./AugmentMessage-DdGCJFWr.js";import{b as qe,a as Ae}from"./input-rvYD24wa.js";import{M as Be}from"./index-Ba8SPQX6.js";import{S as De,F as xe}from"./extension-client-context-CN64fWtK.js";import"./index-DJ8YNXIh.js";import"./IconButtonAugment-DO0xxfgT.js";import"./Icon-CohttyM7.js";import"./Markdown-9Uvf-DZ6.js";import"./legacy-2-VBD5Kq.js";import"./toggleHighContrast-nRmgfX6B.js";import"./SimpleMonaco-BBDXOnfl.js";import"./ButtonAugment-BCcs6kST.js";import"./TextTooltipAugment-CGvqFHAr.js";import"./noop-CVINQ7cR.js";import"./Filespan-FcScXFRk.js";import"./file-type-utils-CHwkiE7w.js";import"./message-broker-DUQuEFlt.js";import"./LanguageIcon-BFxv44vU.js";import"./mermaid-BF5da6U1.js";import"./_commonjsHelpers-CwkBNZ52.js";import"./OpenFileButton-gT822Pcb.js";import"./index-Dqp5W2S2.js";import"./remote-agents-client-DkZKHKJj.js";import"./types-M1pd3FSp.js";import"./SuccessfulButton-BTRD1tJd.js";import"./CopyButton-DWjSvbZb.js";import"./BaseTextInput-D02l0mHz.js";import"./Chevron-DgXCK6y3.js";import"./CollapseButtonAugment-D7C6pQtq.js";import"./keypress-fD7XHdyk.js";import"./await-B0-dHWqK.js";import"./index-BcYmouan.js";import"./index-Dt79ugWJ.js";import"./lifecycle-CWu4CNTE.js";import"./index-C6s5m6Q5.js";import"./utils-C8k4ijpS.js";try{T=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(ve=new T.Error().stack)&&(T._sentryDebugIds=T._sentryDebugIds||{},T._sentryDebugIds[ve]="4f387b42-d75e-4456-b487-21bb80877a2a",T._sentryDebugIdIdentifier="sentry-dbid-4f387b42-d75e-4456-b487-21bb80877a2a")}catch{}var T,ve,Ie=h('<div class="header svelte-1e21l2h"> </div>'),Re=h('<div class="container svelte-1e21l2h"><!> <div class="buttons svelte-1e21l2h"><button type="button">A</button> <button type="button">A</button> <button type="button">A</button> <button type="button">=</button> <button type="button">B</button> <button type="button">B</button> <button type="button">B</button></div></div>');function ie(S,l){K(l,!0);let a=D(l,"selected",15,null),_=D(l,"question",3,null);function d(R){a(R)}var c=Re(),w=n(c),o=R=>{var J=Ie(),te=n(J);z((()=>ee(te,_()))),u(R,J)};j(w,(R=>{_()&&R(o)}));var s=t(w,2),g=n(s);let L;g.__click=()=>d("A3");var x=t(g,2);let N;x.__click=()=>d("A2");var I=t(x,2);let Q;I.__click=()=>d("A1");var m=t(I,2);let E;m.__click=()=>d("=");var q=t(m,2);let f;q.__click=()=>d("B1");var y=t(q,2);let O;y.__click=()=>d("B2");var W=t(y,2);let A;W.__click=()=>d("B3"),z((()=>{L=M(g,1,"button large svelte-1e21l2h",null,L,{highlighted:a()==="A3"}),N=M(x,1,"button medium svelte-1e21l2h",null,N,{highlighted:a()==="A2"}),Q=M(I,1,"button small svelte-1e21l2h",null,Q,{highlighted:a()==="A1"}),E=M(m,1,"button equal svelte-1e21l2h",null,E,{highlighted:a()==="="}),f=M(q,1,"button small svelte-1e21l2h",null,f,{highlighted:a()==="B1"}),O=M(y,1,"button medium svelte-1e21l2h",null,O,{highlighted:a()==="B2"}),A=M(W,1,"button large svelte-1e21l2h",null,A,{highlighted:a()==="B3"})})),u(S,c),U()}he(["click"]);var $e=h('<div class="question svelte-bdbnck"> </div>'),Ce=h('<div class="container svelte-bdbnck"><!> <textarea class="input svelte-bdbnck" rows="3"></textarea></div>'),Me=h('<button class="button svelte-yv75jl"> </button>');he(["click"]);var Se=h("<div> </div>"),Ee=h('<div class="container svelte-1asql96"><!> <label class="custom-checkbox svelte-1asql96"><input type="checkbox" class="svelte-1asql96"/> <span class="svelte-1asql96"></span></label></div>'),Oe=h("<!> <!> <!> <!> <!> <!>",1),We=h("<p>Streaming in progress... Please wait for both responses to complete.</p>"),Pe=h('<main><div class="l-pref svelte-ghgusd"><h1 class="svelte-ghgusd">Input message</h1> <!> <hr class="l-side-by-side svelte-ghgusd"/> <div class="l-side-by-side svelte-ghgusd"><div class="l-side-by-side__child svelte-ghgusd"><h1 class="svelte-ghgusd">Option A</h1> <!></div> <div class="divider svelte-ghgusd"></div> <div class="l-side-by-side__child svelte-ghgusd"><h1 class="svelte-ghgusd">Option B</h1> <!></div></div> <hr class="svelte-ghgusd"/> <!></div></main>');function Te(S,l){K(l,!0);let a=B(null),_=B(null),d=null,c=B(null),w=B(""),o=B(!1),s=B(ge({a:null,b:null})),g=B(!1),L=Y((()=>e(g)||l.inputData.data.a.response.length>0&&l.inputData.data.b.response.length>0));function x(){if(d="=",e(c)===null)return void l.onnotify?.("Overall rating is required");const r={overallRating:e(c),formattingRating:e(a)||"=",hallucinationRating:d||"=",instructionFollowingRating:e(_)||"=",isHighQuality:e(o),textFeedback:e(w)};l.onresult?.(r)}me((()=>{l.inputData,b(g,!1),b(s,{a:null,b:null},!0)})),fe((()=>{window.addEventListener("message",(r=>{const v=r.data;v.type===F.chatModelReply?(v.stream==="A"?e(s).a=v.data.text:v.stream==="B"&&(e(s).b=v.data.text),b(s,e(s),!0)):v.type===F.chatStreamDone&&b(g,!0)}))}));let N=Y((()=>{return(r=e(c))==="="||r===null?"Is this a high quality comparison?":`Are you completely happy with response '${r.startsWith("A")?"A":"B"}'?`;var r})),I=Y((()=>e(s).a!==null?e(s).a:l.inputData.data.a.response)),Q=Y((()=>e(s).b!==null?e(s).b:l.inputData.data.b.response));var m=Pe(),E=n(m),q=t(n(E),2);le(q,{get markdown(){return l.inputData.data.a.message}});var f=t(q,4),y=n(f),O=t(n(y),2);le(O,{get markdown(){return e(I)}});var W=t(y,4),A=t(n(W),2);le(A,{get markdown(){return e(Q)}});var R=t(f,4),J=r=>{var v=Oe(),re=ne(v);ie(re,{question:"Which response is formatted better? (e.g. level of detail style, structure)?",get selected(){return e(a)},set selected(i){b(a,i,!0)}});var oe=t(re,2);ie(oe,{question:"Which response follows your instruction better?",get selected(){return e(_)},set selected(i){b(_,i,!0)}});var ue=t(oe,2);ie(ue,{question:"Which response is better overall?",get selected(){return e(c)},set selected(i){b(c,i,!0)}});var de=t(ue,2);(function(i,p){K(p,!0);let Z=D(p,"isChecked",15,!1),k=D(p,"question",3,null);var P=Ee(),$=n(P),V=C=>{var G=Se(),se=n(G);z((()=>ee(se,k()))),u(C,G)};j($,(C=>{k()&&C(V)}));var ae=t($,2),X=n(ae);Ae(X,Z),u(i,P),U()})(de,{get question(){return e(N)},get isChecked(){return e(o)},set isChecked(i){b(o,i,!0)}});var ce=t(de,2);(function(i,p){K(p,!0);let Z=D(p,"value",15,""),k=D(p,"question",3,null),P=D(p,"placeholder",3,"");var $=Ce(),V=n($),ae=C=>{var G=$e(),se=n(G);z((()=>ee(se,k()))),u(C,G)};j(V,(C=>{k()&&C(ae)}));var X=t(V,2);z((()=>be(X,"placeholder",P()))),qe(X,Z),u(i,$),U()})(ce,{question:"Any additional feedback?",placeholder:"Please explain your answers to the above questions.",get value(){return e(w)},set value(i){b(w,i,!0)}}),(function(i,p){let Z=D(p,"label",3,"Submit");var k=Me();k.__click=function(...$){p.onClick?.apply(this,$)};var P=n(k);z((()=>ee(P,Z()))),u(i,k)})(t(ce,2),{label:"Submit",onClick:x}),u(r,v)},te=r=>{var v=We();u(r,v)};j(R,(r=>{e(L)?r(J):r(te,!1)})),u(S,m),U()}var ze=h("<main><!></main>");function Fe(S,l){K(l,!0);let a=B(void 0);function _(o){H.postMessage({type:F.preferenceResultMessage,data:o})}function d(o){H.postMessage({type:F.preferenceNotify,data:o})}H.postMessage({type:F.preferencePanelLoaded});var c=pe();ye("message",ke,(function(o){const s=o.data;s.type===F.preferenceInit&&b(a,s.data,!0)}));var w=ne(c);_e(w,(()=>Be.Root),((o,s)=>{s(o,{children:(g,L)=>{De(g,{children:(x,N)=>{xe(x,{children:(I,Q)=>{var m=ze(),E=n(m),q=f=>{var y=pe(),O=ne(y),W=A=>{Te(A,{get inputData(){return e(a)},onresult:_,onnotify:d})};j(O,(A=>{e(a).type==="Chat"&&A(W)})),u(f,y)};j(E,(f=>{e(a)&&f(q)})),u(I,m)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})})),u(S,c),U()}(async function(){H&&H.initialize&&await H.initialize(),we(Fe,{target:document.getElementById("app")})})();
//# sourceMappingURL=preference-DLTrIRkF.js.map
