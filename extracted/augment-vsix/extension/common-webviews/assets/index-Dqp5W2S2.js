try{d=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(r=new d.Error().stack)&&(d._sentryDebugIds=d._sentryDebugIds||{},d._sentryDebugIds[r]="2b26fea2-aff5-41eb-830d-6fae02ce6d4b",d._sentryDebugIdIdentifier="sentry-dbid-2b26fea2-aff5-41eb-830d-6fae02ce6d4b")}catch{}var d,r,l=(n=>(n[n.agentUnspecified=0]="agentUnspecified",n[n.agentPending=5]="agentPending",n[n.agentStarting=1]="agentStarting",n[n.agentRunning=2]="agentRunning",n[n.agentIdle=3]="agentIdle",n[n.agentFailed=4]="agentFailed",n))(l||{}),f=(n=>(n[n.workspaceUnspecified=0]="workspaceUnspecified",n[n.workspaceRunning=1]="workspaceRunning",n[n.workspacePausing=2]="workspacePausing",n[n.workspacePaused=3]="workspacePaused",n[n.workspaceResuming=4]="workspaceResuming",n))(f||{}),c=(n=>(n[n.AGENT_HISTORY_UPDATE_TYPE_UNSPECIFIED=0]="AGENT_HISTORY_UPDATE_TYPE_UNSPECIFIED",n[n.AGENT_HISTORY_EXCHANGE=1]="AGENT_HISTORY_EXCHANGE",n[n.AGENT_HISTORY_EXCHANGE_UPDATE=2]="AGENT_HISTORY_EXCHANGE_UPDATE",n[n.AGENT_HISTORY_AGENT_STATUS=3]="AGENT_HISTORY_AGENT_STATUS",n))(c||{}),u=(n=>(n[n.added=0]="added",n[n.deleted=1]="deleted",n[n.modified=2]="modified",n[n.renamed=3]="renamed",n))(u||{}),N=(n=>(n[n.unknown=0]="unknown",n[n.running=1]="running",n[n.success=2]="success",n[n.failure=3]="failure",n[n.skipped=4]="skipped",n))(N||{}),I=(n=>(n[n.AGENT_LIST_UPDATE_TYPE_UNSPECIFIED=0]="AGENT_LIST_UPDATE_TYPE_UNSPECIFIED",n[n.AGENT_LIST_AGENT_ADDED=1]="AGENT_LIST_AGENT_ADDED",n[n.AGENT_LIST_AGENT_UPDATED=2]="AGENT_LIST_AGENT_UPDATED",n[n.AGENT_LIST_AGENT_DELETED=3]="AGENT_LIST_AGENT_DELETED",n[n.AGENT_LIST_ALL_AGENTS=4]="AGENT_LIST_ALL_AGENTS",n))(I||{});function G(n){const t=new Set;return n&&n.length>0&&n.flatMap((a=>a.sections||[])).flatMap((a=>a.changes)).forEach((a=>{t.add(a.path)})),t}function S(n,t,a={},i={}){const A=G(n),_=Array.from(A);_.length===0&&_.push(...t.map((e=>e.new_path||e.old_path)).filter(Boolean));const p=_.every((e=>i[e]==="applied")),g=_.filter((e=>!i[e]||i[e]==="none")),T=[];return g.forEach((e=>{const E=n.flatMap((s=>s.sections||[])).flatMap((s=>s.changes)).find((s=>s.path===e));if(E)T.push({path:e,originalCode:E.originalCode,newCode:a[e]||E.modifiedCode});else{const s=t.find((o=>(o.new_path||o.old_path)===e));s&&T.push({path:e,originalCode:s.old_contents||"",newCode:a[e]||s.new_contents||""})}})),{filesToApply:T,allPaths:_,areAllPathsApplied:p}}async function D(n,t){n.length&&t&&await Promise.all(n.map((async a=>await t(a.path,a.originalCode,a.newCode))))}function w(n){return n.sort(((t,a)=>{const i=new Date(t.updated_at||t.started_at);return new Date(a.updated_at||a.started_at).getTime()-i.getTime()}))}export{c as A,u as F,f as R,l as a,N as b,I as c,D as d,G as g,S as p,w as s};
//# sourceMappingURL=index-Dqp5W2S2.js.map
