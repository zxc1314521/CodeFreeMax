import{d as _,u as x,a as b,r as a,o as h,c as r,b as e,e as k,t as c,n as C,f as p,w as S,v as V,g as u}from"./index-BOz7fGOk-1770644176259.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U-1770644176259.js";const D={class:"terminal-container"},E={class:"terminal-window"},M={class:"terminal-body"},I={class:"welcome-line"},L={class:"typed-text"},N={class:"login-section"},z={class:"password-line"},A={class:"input-wrapper"},B=["type"],O=["disabled"],j={key:0},F={key:1,class:"loading-dots"},K={class:"footer-hint"},P={class:"timestamp"},y="> 欢迎进入 CODEFREEMAX 管理终端",R=_({__name:"LoginView",setup($){const w=x(),n=b(),o=a(""),l=a(!1),i=a(!1),v=a(""),d=a(!0);h(()=>{let t=0;const s=()=>{t<y.length&&(v.value+=y.charAt(t),t++,setTimeout(s,50))};s(),setInterval(()=>{d.value=!d.value},530)});const m=async()=>{if(!o.value){n.warning("请输入密码");return}l.value=!0;try{const s=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:o.value})})).json();s.code===0?(localStorage.setItem("auth_token",s.data.token),localStorage.setItem("auth_expires",s.data.expiresAt),n.success("认证成功"),w.push("/accounts")):n.error(s.message||"认证失败")}catch{n.error("网络连接错误")}finally{l.value=!1}},g=t=>{t.key==="Enter"&&m()};return(t,s)=>(u(),r("div",D,[s[9]||(s[9]=e("div",{class:"scanlines"},null,-1)),s[10]||(s[10]=e("div",{class:"crt-overlay"},null,-1)),s[11]||(s[11]=e("div",{class:"noise"},null,-1)),e("div",E,[s[8]||(s[8]=k('<div class="terminal-header" data-v-e08f58f0><div class="terminal-buttons" data-v-e08f58f0><span class="btn-close" data-v-e08f58f0></span><span class="btn-minimize" data-v-e08f58f0></span><span class="btn-maximize" data-v-e08f58f0></span></div><span class="terminal-title" data-v-e08f58f0>codefreemax@管理员: ~/登录</span></div>',1)),e("div",M,[s[6]||(s[6]=e("pre",{class:"ascii-art"},`   ██████╗ ███████╗███╗   ███╗
  ██╔════╝ ██╔════╝████╗ ████║
  ██║      █████╗  ██╔████╔██║
  ██║      ██╔══╝  ██║╚██╔╝██║
  ╚██████╗ ██║     ██║ ╚═╝ ██║
   ╚═════╝ ╚═╝     ╚═╝     ╚═╝
        `,-1)),e("div",I,[e("span",L,c(v.value),1),e("span",{class:C(["cursor",{visible:d.value}])},"█",2)]),s[7]||(s[7]=e("div",{class:"system-info"},[e("p",null,"> 系统: CodeFreeMax 管理面板"),e("p",null,[p("> 状态: "),e("span",{class:"status-online"},"在线")]),e("p",null,[p("> 安全等级: "),e("span",{class:"security-level"},"高")])],-1)),e("div",N,[s[4]||(s[4]=e("div",{class:"input-line"},[e("span",{class:"prompt"},"root@cfm:~$"),e("span",{class:"command"},"sudo 身份认证")],-1)),e("div",z,[s[2]||(s[2]=e("span",{class:"prompt"},"[sudo] 请输入密码:",-1)),e("div",A,[S(e("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>o.value=f),type:i.value?"text":"password",class:"terminal-input",placeholder:"",onKeydown:g,autofocus:""},null,40,B),[[V,o.value]]),e("button",{onClick:s[1]||(s[1]=f=>i.value=!i.value),class:"eye-toggle"},c(i.value?"[隐藏]":"[显示]"),1)])]),e("button",{class:"execute-btn",disabled:l.value,onClick:m},[l.value?(u(),r("span",F,[...s[3]||(s[3]=[p("处理中",-1),e("span",{class:"dots"},null,-1)])])):(u(),r("span",j,"> 执行认证"))],8,O)]),e("div",K,[s[5]||(s[5]=e("p",{class:"hint-text"},'> 提示: 默认密码是 "admin123"',-1)),e("p",P,"> 时间: "+c(new Date().toLocaleString()),1)])])])]))}}),W=T(R,[["__scopeId","data-v-e08f58f0"]]);export{W as default};
