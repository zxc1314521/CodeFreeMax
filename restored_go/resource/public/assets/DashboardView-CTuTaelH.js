import{d as g,o as b,c as n,a as s,t as l,F as f,g as m,r,h as C,i as x,f as c,u as k,j as y,_ as S}from"./index-BgxrR1pb.js";import{C as w}from"./channels-CdsIN6g2.js";import{f as B,s as D,a as N,c as V}from"./accounts-DannSaY-.js";const q={class:"dashboard-page"},A={class:"global-stats"},E={class:"gs-card"},F={class:"gs-value"},I={class:"gs-card"},L={class:"gs-value text-green"},M={class:"gs-card"},j={class:"gs-value text-blue"},z={class:"gs-card"},H={class:"gs-value text-purple"},R={class:"channel-grid"},T=["onClick"],$={class:"ch-card-header"},G={class:"ch-name"},J={class:"ch-card-body"},K={class:"ch-stat"},O={class:"ch-stat-val"},P={class:"ch-stat"},Q={class:"ch-stat-val text-green"},U={class:"ch-stat"},W={class:"ch-stat-val text-red"},X=g({__name:"DashboardView",setup(Y){const _=k(),d=r(!1),o=r({total_accounts:0,active_accounts:0,total_requests:0,success_rate:100});async function v(){d.value=!0;try{const e=await C.get("/api/stats");e.data.code===0&&e.data.data&&(o.value={...o.value,...e.data.data})}catch{}finally{d.value=!1}}function u(e){D(e),_.push("/accounts")}const h=x(()=>N.value.map(e=>{const a=w[e],t=V.value.find(i=>i.channelId===e);return{id:e,name:(a==null?void 0:a.name)||e,color:(a==null?void 0:a.color)||"gray",total:(t==null?void 0:t.total)||0,normal:(t==null?void 0:t.normal)||0,abnormal:(t==null?void 0:t.abnormal)||0}})),p={amber:"#f59e0b",purple:"#8b5cf6",green:"#10b981",indigo:"#6366f1",cyan:"#06b6d4",orange:"#f97316",gray:"#6b7280"};return b(()=>{v(),B()}),(e,a)=>(c(),n("div",q,[a[7]||(a[7]=s("h2",{class:"page-title"},"仪表盘",-1)),s("div",A,[s("div",E,[s("div",F,l(o.value.total_accounts),1),a[0]||(a[0]=s("div",{class:"gs-label"},"总账号",-1))]),s("div",I,[s("div",L,l(o.value.active_accounts),1),a[1]||(a[1]=s("div",{class:"gs-label"},"活跃账号",-1))]),s("div",M,[s("div",j,l(o.value.total_requests),1),a[2]||(a[2]=s("div",{class:"gs-label"},"总请求数",-1))]),s("div",z,[s("div",H,l(o.value.success_rate)+"%",1),a[3]||(a[3]=s("div",{class:"gs-label"},"成功率",-1))])]),a[8]||(a[8]=s("h3",{class:"section-title"},"渠道概览",-1)),s("div",R,[(c(!0),n(f,null,m(h.value,t=>(c(),n("div",{key:t.id,class:"ch-card",onClick:i=>u(t.id)},[s("div",$,[s("span",{class:"ch-dot",style:y({background:p[t.color]||"#6b7280"})},null,4),s("span",G,l(t.name),1)]),s("div",J,[s("div",K,[s("span",O,l(t.total),1),a[4]||(a[4]=s("span",{class:"ch-stat-lbl"},"总数",-1))]),s("div",P,[s("span",Q,l(t.normal),1),a[5]||(a[5]=s("span",{class:"ch-stat-lbl"},"正常",-1))]),s("div",U,[s("span",W,l(t.abnormal),1),a[6]||(a[6]=s("span",{class:"ch-stat-lbl"},"异常",-1))])])],8,T))),128))])]))}}),ts=S(X,[["__scopeId","data-v-2b16c02e"]]);export{ts as default};
