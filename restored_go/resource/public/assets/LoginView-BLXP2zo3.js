import{d as _,o as x,c as r,a as t,b,t as p,n as k,e as c,w as h,v as C,r as a,u as S,f as u,_ as V}from"./index-BgxrR1pb.js";import{u as T}from"./use-message-C3dFIHTI.js";const D={class:"terminal-container"},E={class:"terminal-window"},M={class:"terminal-body"},I={class:"welcome-line"},L={class:"typed-text"},N={class:"login-section"},z={class:"password-line"},A={class:"input-wrapper"},B=["type"],O=["disabled"],j={key:0,class:"loading-dots"},F={key:1},P={class:"footer-hint"},R={class:"timestamp"},y="> 欢迎进入 CODEFREEMAX 管理终端",$=_({__name:"LoginView",setup(J){const w=S(),n=T(),o=a(""),l=a(!1),i=a(!1),v=a(""),d=a(!0);x(()=>{let e=0;const s=()=>{e<y.length&&(v.value+=y.charAt(e),e++,setTimeout(s,50))};s(),setInterval(()=>{d.value=!d.value},530)});const m=async()=>{if(!o.value){n.warning("请输入密码");return}l.value=!0;try{const s=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:o.value})})).json();s.code===0?(localStorage.setItem("auth_token",s.data.token),localStorage.setItem("auth_expires",s.data.expiresAt),n.success("认证成功"),w.push("/accounts")):n.error(s.message||"认证失败")}catch{n.error("网络连接错误")}finally{l.value=!1}},g=e=>{e.key==="Enter"&&m()};return(e,s)=>(u(),r("div",D,[s[9]||(s[9]=t("div",{class:"scanlines"},null,-1)),s[10]||(s[10]=t("div",{class:"crt-overlay"},null,-1)),s[11]||(s[11]=t("div",{class:"noise"},null,-1)),t("div",E,[s[8]||(s[8]=b('<div class="terminal-header" data-v-99a7202d><div class="terminal-buttons" data-v-99a7202d><span class="btn-close" data-v-99a7202d></span><span class="btn-minimize" data-v-99a7202d></span><span class="btn-maximize" data-v-99a7202d></span></div><span class="terminal-title" data-v-99a7202d>codefreemax@管理员: ~/登录</span></div>',1)),t("div",M,[s[6]||(s[6]=t("pre",{class:"ascii-art"},`   ██████╗ ███████╗███╗   ███╗
  ██╔════╝ ██╔════╝████╗ ████║
  ██║      █████╗  ██╔████╔██║
  ██║      ██╔══╝  ██║╚██╔╝██║
  ╚██████╗ ██║     ██║ ╚═╝ ██║
   ╚═════╝ ╚═╝     ╚═╝     ╚═╝
        `,-1)),t("div",I,[t("span",L,p(v.value),1),t("span",{class:k(["cursor",{visible:d.value}])},"█",2)]),s[7]||(s[7]=t("div",{class:"system-info"},[t("p",null,"> 系统: CodeFreeMax 管理面板"),t("p",null,[c("> 状态: "),t("span",{class:"status-online"},"在线")]),t("p",null,[c("> 安全等级: "),t("span",{class:"security-level"},"高")])],-1)),t("div",N,[s[4]||(s[4]=t("div",{class:"input-line"},[t("span",{class:"prompt"},"root@cfm:~$"),t("span",{class:"command"},"sudo 身份认证")],-1)),t("div",z,[s[2]||(s[2]=t("span",{class:"prompt"},"[sudo] 请输入密码:",-1)),t("div",A,[h(t("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>o.value=f),type:i.value?"text":"password",class:"terminal-input",placeholder:"",onKeydown:g,autofocus:""},null,40,B),[[C,o.value]]),t("button",{onClick:s[1]||(s[1]=f=>i.value=!i.value),class:"eye-toggle"},p(i.value?"[隐藏]":"[显示]"),1)])]),t("button",{class:"execute-btn",disabled:l.value,onClick:m},[l.value?(u(),r("span",j,[...s[3]||(s[3]=[c("处理中",-1),t("span",{class:"dots"},null,-1)])])):(u(),r("span",F,"> 执行认证"))],8,O)]),t("div",P,[s[5]||(s[5]=t("p",{class:"hint-text"},'> 提示: 默认密码是 "admin123"',-1)),t("p",R,"> 时间: "+p(new Date().toLocaleString()),1)])])])]))}}),W=V($,[["__scopeId","data-v-99a7202d"]]);export{W as default};
