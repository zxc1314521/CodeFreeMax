import{r,Y as l,j as t,E as R,c as p,x as P}from"../assets/ErrorMessage-sgZuVxCg.js";import{P as f}from"../assets/PowersList-S_kIuQZ-.js";import"../styles.js";const g="Failed to sync with registry. Using cached powers.";function x(){const{callApi:o}=r.useContext(l),[c,s]=r.useState(!0),[i,m]=r.useState([]),[w,u]=r.useState(),a=r.useCallback(async()=>{s(!0);try{const{powers:e}=await o("listRecommendedPowers");m(e)}catch(e){u(e)}finally{s(!1)}},[o]),d=r.useCallback(async()=>{s(!0);try{const{error:e,success:n,usedCachedData:E}=await o("syncKiroRecommendedRepo");if(!n&&E)throw new Error(e)}catch(e){const n=e instanceof Error?e.message:String(e);await o("showMessage","error",n||g)}await a()},[o,a]);return r.useEffect(()=>{d()},[d]),{isLoading:c,recommendedPowers:i,recommendedPowersError:w}}function y(){const{isLoading:o,recommendedPowers:c,recommendedPowersError:s}=x();return s?t.jsx(R,{error:s}):!o&&t.jsx(f,{powers:c})}p.createRoot(document.getElementById("root")).render(t.jsx(r.StrictMode,{children:t.jsx(P,{editorApi:window.vscode,children:t.jsx(y,{})})}));
