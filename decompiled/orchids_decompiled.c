// CodeFreeMax - ORCHIDS Channel Decompiled Functions
// 7 functions

// === orchids.executeWebSocketRequest @ 0x175bf20 ===

/* WARNING: Removing unreachable block (ram,0x0175c62e) */
/* WARNING: Removing unreachable block (ram,0x0175d01e) */
/* WARNING: Removing unreachable block (ram,0x0175d038) */
/* WARNING: Removing unreachable block (ram,0x0175d066) */
/* WARNING: Removing unreachable block (ram,0x0175c637) */
/* WARNING: Removing unreachable block (ram,0x0175c673) */
/* WARNING: Removing unreachable block (ram,0x0175c666) */
/* WARNING: Removing unreachable block (ram,0x0175c679) */
/* WARNING: Removing unreachable block (ram,0x0175c68a) */
/* WARNING: Removing unreachable block (ram,0x0175c690) */
/* WARNING: Removing unreachable block (ram,0x0175c699) */
/* WARNING: Removing unreachable block (ram,0x0175c6a2) */
/* WARNING: Removing unreachable block (ram,0x0175c6b4) */
/* WARNING: Removing unreachable block (ram,0x0175c6ad) */
/* WARNING: Removing unreachable block (ram,0x0175c6e0) */
/* WARNING: Removing unreachable block (ram,0x0175c6e4) */
/* WARNING: Removing unreachable block (ram,0x0175c6ea) */
/* WARNING: Removing unreachable block (ram,0x0175c712) */
/* WARNING: Removing unreachable block (ram,0x0175c72a) */
/* WARNING: Removing unreachable block (ram,0x0175cd39) */
/* WARNING: Removing unreachable block (ram,0x0175cd85) */
/* WARNING: Removing unreachable block (ram,0x0175cda4) */
/* WARNING: Removing unreachable block (ram,0x0175cdad) */
/* WARNING: Removing unreachable block (ram,0x0175cdcc) */
/* WARNING: Removing unreachable block (ram,0x0175cfec) */
/* WARNING: Removing unreachable block (ram,0x0175cdee) */
/* WARNING: Removing unreachable block (ram,0x0175cd51) */
/* WARNING: Removing unreachable block (ram,0x0175cfbe) */
/* WARNING: Removing unreachable block (ram,0x0175cd77) */
/* WARNING: Removing unreachable block (ram,0x0175cce5) */
/* WARNING: Removing unreachable block (ram,0x0175cd09) */
/* WARNING: Removing unreachable block (ram,0x0175cf8c) */
/* WARNING: Removing unreachable block (ram,0x0175cd2f) */
/* WARNING: Removing unreachable block (ram,0x0175ccfd) */
/* WARNING: Removing unreachable block (ram,0x0175cc58) */
/* WARNING: Removing unreachable block (ram,0x0175ccb5) */
/* WARNING: Removing unreachable block (ram,0x0175cf5e) */
/* WARNING: Removing unreachable block (ram,0x0175ccdb) */
/* WARNING: Removing unreachable block (ram,0x0175cc70) */
/* WARNING: Removing unreachable block (ram,0x0175cc99) */
/* WARNING: Removing unreachable block (ram,0x0175cc8d) */
/* WARNING: Removing unreachable block (ram,0x0175cb93) */
/* WARNING: Removing unreachable block (ram,0x0175cbab) */
/* WARNING: Removing unreachable block (ram,0x0175cbcf) */
/* WARNING: Removing unreachable block (ram,0x0175cbf8) */
/* WARNING: Removing unreachable block (ram,0x0175cc28) */
/* WARNING: Removing unreachable block (ram,0x0175cf2c) */
/* WARNING: Removing unreachable block (ram,0x0175cc4e) */
/* WARNING: Removing unreachable block (ram,0x0175cbec) */
/* WARNING: Removing unreachable block (ram,0x0175cacf) */
/* WARNING: Removing unreachable block (ram,0x0175caf5) */
/* WARNING: Removing unreachable block (ram,0x0175cb19) */
/* WARNING: Removing unreachable block (ram,0x0175cb3d) */
/* WARNING: Removing unreachable block (ram,0x0175cefe) */
/* WARNING: Removing unreachable block (ram,0x0175cb89) */
/* WARNING: Removing unreachable block (ram,0x0175cae9) */
/* WARNING: Removing unreachable block (ram,0x0175c9a5) */
/* WARNING: Removing unreachable block (ram,0x0175c9c9) */
/* WARNING: Removing unreachable block (ram,0x0175c9fb) */
/* WARNING: Removing unreachable block (ram,0x0175c9f5) */
/* WARNING: Removing unreachable block (ram,0x0175ca00) */
/* WARNING: Removing unreachable block (ram,0x0175ca0b) */
/* WARNING: Removing unreachable block (ram,0x0175ca45) */
/* WARNING: Removing unreachable block (ram,0x0175ca36) */
/* WARNING: Removing unreachable block (ram,0x0175ca47) */
/* WARNING: Removing unreachable block (ram,0x0175ca8a) */
/* WARNING: Removing unreachable block (ram,0x0175ca7b) */
/* WARNING: Removing unreachable block (ram,0x0175ca8c) */
/* WARNING: Removing unreachable block (ram,0x0175ca02) */
/* WARNING: Removing unreachable block (ram,0x0175ca94) */
/* WARNING: Removing unreachable block (ram,0x0175c9bd) */
/* WARNING: Removing unreachable block (ram,0x0175c8e5) */
/* WARNING: Removing unreachable block (ram,0x0175c909) */
/* WARNING: Removing unreachable block (ram,0x0175c92d) */
/* WARNING: Removing unreachable block (ram,0x0175c951) */
/* WARNING: Removing unreachable block (ram,0x0175cecc) */
/* WARNING: Removing unreachable block (ram,0x0175c996) */
/* WARNING: Removing unreachable block (ram,0x0175c8fd) */
/* WARNING: Removing unreachable block (ram,0x0175c8ab) */
/* WARNING: Removing unreachable block (ram,0x0175c8d3) */
/* WARNING: Removing unreachable block (ram,0x0175c8ba) */
/* WARNING: Removing unreachable block (ram,0x0175c8ce) */
/* WARNING: Removing unreachable block (ram,0x0175c879) */
/* WARNING: Removing unreachable block (ram,0x0175c88c) */
/* WARNING: Removing unreachable block (ram,0x0175c89a) */
/* WARNING: Removing unreachable block (ram,0x0175c8a6) */
/* WARNING: Removing unreachable block (ram,0x0175c7ae) */
/* WARNING: Removing unreachable block (ram,0x0175c7c9) */
/* WARNING: Removing unreachable block (ram,0x0175c7d7) */
/* WARNING: Removing unreachable block (ram,0x0175c81a) */
/* WARNING: Removing unreachable block (ram,0x0175c7f8) */
/* WARNING: Removing unreachable block (ram,0x0175c84e) */
/* WARNING: Removing unreachable block (ram,0x0175c790) */
/* WARNING: Removing unreachable block (ram,0x0175c7a9) */
/* WARNING: Removing unreachable block (ram,0x0175ce05) */
/* WARNING: Removing unreachable block (ram,0x0175ce0f) */
/* WARNING: Removing unreachable block (ram,0x0175ce29) */
/* WARNING: Removing unreachable block (ram,0x0175ce37) */
/* WARNING: Removing unreachable block (ram,0x0175ce46) */
/* WARNING: Removing unreachable block (ram,0x0175ce5c) */
/* WARNING: Removing unreachable block (ram,0x0175d263) */
/* WARNING: Removing unreachable block (ram,0x0175d26c) */
/* WARNING: Removing unreachable block (ram,0x0175d32f) */
/* WARNING: Removing unreachable block (ram,0x0175d24c) */
/* WARNING: Removing unreachable block (ram,0x0175d186) */
/* WARNING: Removing unreachable block (ram,0x0175d1a5) */
/* WARNING: Removing unreachable block (ram,0x0175d1d3) */
/* WARNING: Removing unreachable block (ram,0x0175c735) */
/* WARNING: Removing unreachable block (ram,0x0175c746) */
/* WARNING: Removing unreachable block (ram,0x0175c751) */
/* WARNING: Removing unreachable block (ram,0x0175cdf8) */
/* WARNING: Recovered jumptable eliminated as dead code */
/* WARNING: Removing unreachable block (ram,0x0175c042) */

long orchids_executeWebSocketRequest
               (undefined8 param_1,undefined8 param_2,undefined8 param_3,undefined8 param_4,
               undefined8 param_5,undefined8 param_6,undefined8 param_7,undefined8 param_8,
               undefined8 param_9,long param_10,undefined8 param_11,undefined8 param_12,
               undefined8 param_13)

{
  ulong uVar1;
  undefined8 *puVar2;
  int *piVar3;
  char cVar4;
  long lVar5;
  undefined8 uVar6;
  ulong uVar7;
  undefined8 extraout_RDX;
  long unaff_RBX;
  long lVar8;
  ulong uVar9;
  undefined8 in_R10;
  long in_R11;
  long *plVar10;
  long unaff_R14;
  undefined8 in_XMM15_Qa;
  undefined8 in_XMM15_Qb;
  undefined1 auVar11 [16];
  long lStack0000000000000048;
  undefined8 uStack0000000000000050;
  undefined8 uStack0000000000000058;
  undefined8 uStack0000000000000060;
  undefined8 uStack0000000000000068;
  undefined8 uStack0000000000000070;
  undefined8 uStack0000000000000078;
  long lStack0000000000000080;
  undefined1 auStack_1b8 [24];
  long lStack_1a0;
  ulong uStack_198;
  ulong uStack_190;
  undefined1 **ppuStack_170;
  long lStack_158;
  long *plStack_140;
  long lStack_138;
  long lStack_130;
  long lStack_128;
  undefined8 uStack_120;
  long lStack_118;
  undefined8 *puStack_108;
  undefined8 uStack_f0;
  undefined8 uStack_e8;
  undefined8 *puStack_e0;
  undefined8 uStack_d8;
  long lStack_c8;
  undefined8 uStack_90;
  long lStack_78;
  long lStack_70;
  long lStack_68;
  long lStack_60;
  undefined8 uStack_58;
  undefined8 auStack_50 [2];
  ulong uStack_40;
  undefined1 *puStack_38;
  undefined8 uStack_30;
  undefined8 *puStack_28;
  undefined8 uStack_20;
  undefined8 uStack_18;
  
  uStack0000000000000050 = param_4;
  lStack0000000000000048 = unaff_RBX;
  uStack0000000000000060 = param_2;
  uStack0000000000000058 = param_1;
  uStack0000000000000068 = param_5;
  uStack0000000000000070 = param_6;
  uStack0000000000000078 = in_R10;
  lStack0000000000000080 = in_R11;
  while (auStack_1b8 <= *(undefined1 **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  (*(code *)*DAT_02ddf158)();
  (*(code *)*DAT_02ddf170)();
  uStack_e8 = kiro2api_internal_logic_orchids_getOrchidsProxyURL();
  auVar11 = kiro2api_internal_logic_orchids_GetConnectionPoolManager();
  uStack_d8 = auVar11._0_8_;
  uVar6 = uStack0000000000000050;
  puStack_e0 = (undefined8 *)
               kiro2api_internal_logic_orchids_ConnectionPoolManager_GetConnection(uStack0000000000000058,uStack0000000000000060,auVar11._8_8_,
                            uStack0000000000000050,uStack0000000000000068,uStack_e8);
  if (lStack0000000000000048 != 0) {
    lStack_1a0 = lStack0000000000000048;
    uStack_20 = *(undefined8 *)(lStack0000000000000048 + 8);
    uStack_90 = uVar6;
    uStack_18 = uVar6;
    fmt_Fprintf(0x24,&uStack_20,uStack_20,&DAT_01c73fae,1,1);
    lStack_130 = lStack_1a0;
    lStack_128 = uStack_90;
    runtime_deferreturn();
    return lStack_130;
  }
  puStack_38 = &LAB_0175d440;
  uStack_30 = uStack_d8;
  ppuStack_170 = &puStack_38;
  puStack_28 = puStack_e0;
  runtime_deferprocStack();
  uStack_120 = *puStack_e0;
  if (*(ulong *)(lStack0000000000000080 + 0x58) == 0) {
    puStack_108 = (undefined8 *)0x0;
    uVar6 = 0;
  }
  else {
    uStack_58 = *(undefined8 *)(lStack0000000000000080 + 0x50);
    uStack_198 = *(ulong *)(lStack0000000000000080 + 0x60);
    uStack_190 = *(ulong *)(lStack0000000000000080 + 0x58);
    auStack_50[0] = runtime_makeslice();
    uStack_40 = uStack_190;
    kiro2api_internal_logic_orchids_ToolMapper_buildIndex(uStack_198);
    puStack_108 = auStack_50;
    uVar6 = extraout_RDX;
  }
  plVar10 = *(long **)(lStack0000000000000080 + 0x60);
  lVar5 = kiro2api_internal_logic_orchids_ConvertToOrchidsRequest(uStack0000000000000070,uStack0000000000000078,uVar6,lStack0000000000000080,
                       *(undefined8 *)(lStack0000000000000080 + 0x68));
  lStack_c8 = lVar5;
  if (param_10 != 0) {
    uStack_190 = *(long *)(lVar5 + 0x88);
    uVar1 = uStack_190 + param_10;
    uVar7 = *(ulong *)(lVar5 + 0x90);
    lStack_60 = *(long *)(lVar5 + 0x80);
    if (uVar7 < uVar1) {
      lStack_60 = runtime_growslice(param_10,&DAT_0194e220);
    }
    lVar8 = uVar1 - uStack_190;
    lVar5 = uStack_190 - uVar7;
    uVar9 = uStack_190 << 4;
    uStack_198 = uVar7;
    uStack_190 = uVar1;
    runtime_typedslicecopy(param_9,param_10,lStack_60 + (uVar9 & lVar5 >> 0x3f),lVar8);
    lVar5 = lStack_c8;
    *(ulong *)(lStack_c8 + 0x88) = uStack_190;
    *(ulong *)(lStack_c8 + 0x90) = uStack_198;
    if (DAT_02e5e450 != 0) {
      lVar8 = *(long *)(lStack_c8 + 0x80);
      runtime_gcWriteBarrier2();
      *plVar10 = lStack_60;
      plVar10[1] = lVar8;
    }
    *(long *)(lVar5 + 0x80) = lStack_60;
  }
  lStack_130 = kiro2api_internal_logic_orchids_OrchidsWebSocket_SendRequest();
  if (lStack_130 == 0) {
    uStack_f0 = kiro2api_internal_logic_orchids_NewSSEWriter(*(undefined8 *)(lStack0000000000000080 + 8));
    lStack_68 = runtime_makemap_small();
    lStack_70 = runtime_makemap_small();
    lStack_138 = runtime_newobject();
    *(undefined8 *)(lStack_138 + 0x20) = 0xffffffffffffffff;
    *(undefined8 *)(lStack_138 + 0x30) = 0xffffffffffffffff;
    if (DAT_02e5e450 != 0) {
      lStack_138 = runtime_gcWriteBarrier2();
      *plVar10 = lStack_68;
      plVar10[1] = lStack_70;
    }
    *(long *)(lStack_138 + 0x48) = lStack_68;
    *(long *)(lStack_138 + 0x58) = lStack_70;
    *(undefined8 *)(lStack_138 + 0x50) = 1;
    *(undefined8 *)(lStack_138 + 0xb0) = 8;
    *(undefined **)(lStack_138 + 0xa8) = &DAT_01c3fdb7;
    uVar6 = runtime_newobject();
    auVar11._8_8_ = lStack_138;
    auVar11._0_8_ = uVar6;
    if (DAT_02e5e450 != 0) {
      lVar5 = *(long *)(lStack_138 + 0xb8);
      lVar8 = *(long *)(lStack_138 + 0xc0);
      auVar11 = runtime_gcWriteBarrier3();
      *plVar10 = auVar11._0_8_;
      plVar10[1] = lVar5;
      plVar10[2] = lVar8;
    }
    lVar5 = auVar11._8_8_;
    *(long *)(lVar5 + 0xb8) = auVar11._0_8_;
    *(undefined8 *)(lVar5 + 200) = in_XMM15_Qa;
    *(undefined8 *)(lVar5 + 0xd0) = in_XMM15_Qb;
    *(undefined8 **)(lVar5 + 0xc0) = &DAT_02e5d6a0;
    puVar2 = *(undefined8 **)(lStack0000000000000080 + 0x68);
    if ((((puVar2 == (undefined8 *)0x0) || (puVar2[1] != 7)) ||
        (piVar3 = (int *)*puVar2, *piVar3 != 0x62616e65)) ||
       (((short)piVar3[1] != 0x656c || (*(char *)((long)piVar3 + 6) != 'd')))) {
      param_13 = *(undefined8 *)(lStack0000000000000080 + 8);
      strings_ToLower();
      internal_stringslite_Index(9);
      lVar5 = lStack_138;
    }
    if (puStack_108 != (undefined8 *)0x0) {
      param_13 = *puStack_108;
      kiro2api_internal_logic_orchids_StreamState_SetClientToolIndex(puStack_108[2],puStack_108,lVar5,puStack_108[1]);
    }
    lVar5 = *(long *)(lStack_c8 + 200);
    lStack_118 = *(long *)(lStack_c8 + 0xc0);
    lStack_78 = runtime_makemap_small();
    plStack_140 = (long *)runtime_newobject();
    plStack_140[1] = lVar5;
    if (DAT_02e5e450 != 0) {
      plStack_140 = (long *)runtime_gcWriteBarrier2();
      *plVar10 = lStack_118;
      plVar10[1] = lStack_78;
    }
    *plStack_140 = lStack_118;
    *(undefined1 *)(plStack_140 + 2) = 1;
    plStack_140[3] = lStack_78;
    lVar5 = lStack_118;
    lStack_130 = kiro2api_internal_logic_orchids_SSEWriter_WriteMessageStart();
    if (lStack_130 == 0) {
      kiro2api_internal_logic_orchids_OrchidsWebSocket_ReadMessageWithTimeout();
      lStack_128 = lVar5;
      if ((DAT_02e34d10 == 90000000000) &&
         (lStack_158 = lVar5, cVar4 = runtime_ifaceeq(), lVar5 = lStack_138, lStack_128 = lStack_158,
         cVar4 != '\0')) {
        lStack_130 = kiro2api_internal_logic_orchids_SSEWriter_WriteErrorAndFinish(0x29);
        if (lStack_130 == 0) {
          lStack_130 = 90000000000;
          lStack_128 = lStack_158;
          runtime_deferreturn();
          return lStack_130;
        }
        lStack_128 = lVar5;
        runtime_deferreturn();
        return lStack_130;
      }
      lStack_130 = 90000000000;
      runtime_deferreturn();
      return lStack_130;
    }
    lStack_128 = param_13;
    runtime_deferreturn();
    return lStack_130;
  }
  lStack_128 = lVar5;
  runtime_deferreturn();
  return lStack_130;
}




// === orchids.executeSSERequest @ 0x1760cc0 ===

/* WARNING: Removing unreachable block (ram,0x01761668) */
/* WARNING: Removing unreachable block (ram,0x017615a9) */
/* WARNING: Removing unreachable block (ram,0x01761628) */
/* WARNING: Removing unreachable block (ram,0x01761639) */
/* WARNING: Removing unreachable block (ram,0x017617a9) */
/* WARNING: Removing unreachable block (ram,0x017617ea) */
/* WARNING: Removing unreachable block (ram,0x017617bd) */
/* WARNING: Removing unreachable block (ram,0x017617c6) */
/* WARNING: Removing unreachable block (ram,0x01761721) */
/* WARNING: Removing unreachable block (ram,0x017615f9) */
/* WARNING: Removing unreachable block (ram,0x01761612) */
/* WARNING: Removing unreachable block (ram,0x01761981) */
/* WARNING: Removing unreachable block (ram,0x017619c5) */
/* WARNING: Removing unreachable block (ram,0x01761995) */
/* WARNING: Removing unreachable block (ram,0x0176199e) */
/* WARNING: Removing unreachable block (ram,0x017617f4) */
/* WARNING: Removing unreachable block (ram,0x017616cc) */

undefined8
orchids_executeSSERequest
          (long param_1,undefined8 param_2,undefined8 param_3,long param_4,undefined8 param_5,
          undefined8 param_6,undefined8 param_7,undefined8 param_8,long param_9,undefined8 *param_10
          )

{
  ulong uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  ulong uVar5;
  long lVar6;
  ulong uVar7;
  long lVar8;
  undefined8 extraout_RDX;
  undefined8 extraout_RDX_00;
  undefined8 extraout_RDX_01;
  undefined8 extraout_RDX_02;
  undefined8 extraout_RDX_03;
  long lVar9;
  undefined8 *puVar10;
  long lVar11;
  long lVar12;
  undefined8 in_R10;
  long in_R11;
  undefined1 (*pauVar13) [16];
  long unaff_R14;
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  long lStack0000000000000050;
  long lStack0000000000000058;
  undefined8 uStack0000000000000060;
  undefined8 uStack0000000000000068;
  undefined8 uStack0000000000000070;
  undefined8 uStack0000000000000078;
  long lStack0000000000000080;
  undefined1 auStack_150 [8];
  ulong uStack_148;
  ulong uStack_140;
  long lStack_138;
  undefined8 *puStack_120;
  undefined8 *puStack_118;
  undefined8 uStack_108;
  undefined8 uStack_100;
  undefined8 uStack_f8;
  long lStack_f0;
  long lStack_e8;
  undefined8 uStack_e0;
  long lStack_d8;
  undefined8 auStack_c8 [2];
  ulong uStack_b8;
  undefined8 uStack_90;
  undefined8 *puStack_88;
  long lStack_78;
  undefined8 uStack_70;
  undefined8 uStack_68;
  undefined8 uStack_60;
  undefined8 uStack_20;
  undefined8 uStack_18;
  
  uStack0000000000000060 = param_2;
  lStack0000000000000058 = param_1;
  uStack0000000000000068 = param_5;
  uStack0000000000000070 = param_6;
  uStack0000000000000078 = in_R10;
  lStack0000000000000080 = in_R11;
  while (lStack0000000000000050 = param_4, auStack_150 <= *(undefined1 **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
    param_4 = lStack0000000000000050;
  }
  uStack_100 = kiro2api_internal_logic_orchids_getOrchidsProxyURL();
  lVar12 = lStack0000000000000050;
  lVar11 = lStack0000000000000058;
  auVar14 = kiro2api_internal_logic_orchids_sOrchids_createProject();
  uStack_f8 = auVar14._0_8_;
  if (lVar12 != 0) {
    uStack_90 = *(undefined8 *)(lVar12 + 8);
    puStack_88 = (undefined8 *)lVar11;
    uVar3 = fmt_Errorf(1,1,auVar14._8_8_,&uStack_90);
    return uVar3;
  }
  lStack_d8 = github_com_imroc_req_v3_C();
  *(undefined8 *)(*(long *)(lStack_d8 + 200) + 0x28) = 300000000000;
  if (param_4 != 0) {
    github_com_imroc_req_v3_Client_SetProxyURL();
  }
  if (*(ulong *)(lStack0000000000000080 + 0x58) == 0) {
    puStack_120 = (undefined8 *)0x0;
  }
  else {
    uStack_60 = *(undefined8 *)(lStack0000000000000080 + 0x50);
    uStack_148 = *(ulong *)(lStack0000000000000080 + 0x60);
    uStack_140 = *(ulong *)(lStack0000000000000080 + 0x58);
    auStack_c8[0] = runtime_makeslice();
    uStack_b8 = uStack_140;
    kiro2api_internal_logic_orchids_ToolMapper_buildIndex(uStack_148);
    puStack_120 = auStack_c8;
  }
  pauVar13 = *(undefined1 (**) [16])(lStack0000000000000080 + 0x60);
  lStack_f0 = kiro2api_internal_logic_orchids_ConvertToOrchidsRequest(uStack0000000000000070,uStack0000000000000078,puStack_120,
                           lStack0000000000000080,*(undefined8 *)(lStack0000000000000080 + 0x68),
                           *(undefined8 *)(lStack0000000000000080 + 0x50));
  uVar3 = runtime_convTstring();
  lVar11 = lStack_f0;
  puVar10 = &DAT_0194e220;
  *(undefined8 **)(lStack_f0 + 0x10) = &DAT_0194e220;
  lVar12 = lStack0000000000000080;
  if (DAT_02e5e450 != 0) {
    auVar14 = runtime_gcWriteBarrier2();
    uVar3 = auVar14._0_8_;
    *pauVar13 = auVar14;
    lVar12 = lStack0000000000000080;
  }
  *(undefined8 *)(lVar11 + 0x18) = uVar3;
  uVar3 = *(undefined8 *)(lStack0000000000000058 + 0x18);
  *(undefined8 *)(lVar11 + 0xb0) = *(undefined8 *)(lStack0000000000000058 + 0x20);
  if (DAT_02e5e450 != 0) {
    uVar4 = *(undefined8 *)(lVar11 + 0xa8);
    runtime_gcWriteBarrier2();
    *(undefined8 *)*pauVar13 = uVar3;
    *(undefined8 *)(*pauVar13 + 8) = uVar4;
  }
  *(undefined8 *)(lVar11 + 0xa8) = uVar3;
  lVar6 = 0;
  if (param_10 != (undefined8 *)0x0) {
    uStack_140 = *(long *)(lVar11 + 0x88);
    uVar1 = (long)param_10 + uStack_140;
    uVar5 = *(ulong *)(lVar11 + 0x90);
    uStack_68 = *(undefined8 *)(lVar11 + 0x80);
    if (uVar5 < uVar1) {
      uStack_68 = runtime_growslice();
    }
    lVar12 = uVar1 - uStack_140;
    lVar11 = uStack_140 - uVar5;
    uVar7 = uStack_140 << 4;
    uStack_148 = uVar1;
    uStack_140 = uVar5;
    runtime_typedslicecopy(param_9,param_10,uVar7 & lVar11 >> 0x3f);
    lVar11 = lStack_f0;
    *(ulong *)(lStack_f0 + 0x88) = uStack_148;
    *(ulong *)(lStack_f0 + 0x90) = uStack_140;
    if (DAT_02e5e450 != 0) {
      lVar12 = *(long *)(lStack_f0 + 0x80);
      runtime_gcWriteBarrier2();
      *(undefined8 *)*pauVar13 = uStack_68;
      *(long *)(*pauVar13 + 8) = lVar12;
    }
    *(undefined8 *)(lVar11 + 0x80) = uStack_68;
    puVar10 = param_10;
    lVar6 = param_9;
  }
  uVar3 = runtime_convT();
  auVar14 = encoding_json_Marshal();
  uStack_108 = auVar14._0_8_;
  if (lVar6 == 0) {
    if (*(undefined8 **)(lStack_d8 + 0x60) == (undefined8 *)0x0) {
      lStack_138 = 0;
    }
    else {
      puStack_118 = *(undefined8 **)(lStack_d8 + 0x60);
      puVar10 = (undefined8 *)runtime_newobject();
      *puVar10 = *puStack_118;
      auVar14._8_8_ = puStack_118[1];
      auVar14._0_8_ = puVar10;
      puVar10 = puStack_118;
      if (DAT_02e5e450 != 0) {
        auVar14 = runtime_gcWriteBarrier1();
        *(long *)*pauVar13 = auVar14._8_8_;
      }
      lStack_138 = auVar14._0_8_;
      *(long *)(lStack_138 + 8) = auVar14._8_8_;
      uStack_148 = *(long *)(lStack_138 + 0x18);
      uVar5 = *(ulong *)(lStack_138 + 0x20);
      uStack_140 = puVar10[3];
      uVar1 = uStack_148 + uStack_140;
      uVar4 = *(undefined8 *)(lStack_138 + 0x10);
      uStack_70 = puVar10[2];
      if (uVar5 < uVar1) {
        uVar4 = runtime_growslice(uStack_140,&DAT_019ea040);
      }
      lVar6 = uVar1 - uStack_148;
      lVar8 = uStack_148 - uVar5;
      pauVar13 = (undefined1 (*) [16])(uStack_148 << 3);
      uStack_148 = uVar1;
      lVar11 = uStack_140;
      uStack_140 = uVar5;
      uVar2 = uStack_70;
      uStack_70 = uVar4;
      runtime_typedslicecopy(uVar2,lVar11,lVar8 >> 0x3f & (ulong)pauVar13,lVar6);
      *(ulong *)(lStack_138 + 0x18) = uStack_148;
      *(ulong *)(lStack_138 + 0x20) = uStack_140;
      lVar11 = lStack_138;
      if (DAT_02e5e450 != 0) {
        runtime_gcWriteBarrier2();
        *(undefined8 *)*pauVar13 = uStack_70;
        *(undefined8 *)(*pauVar13 + 8) = extraout_RDX;
      }
      *(undefined8 *)(lVar11 + 0x10) = uStack_70;
      uStack_148 = *(long *)(lVar11 + 0x30);
      uVar5 = *(ulong *)(lVar11 + 0x38);
      uStack_140 = puStack_118[6];
      uVar1 = uStack_148 + uStack_140;
      lVar11 = *(long *)(lVar11 + 0x28);
      lStack_78 = puStack_118[5];
      if (uVar5 < uVar1) {
        lVar11 = runtime_growslice(uStack_140,&DAT_019cbd00);
      }
      lVar9 = uVar1 - uStack_148;
      lVar8 = uStack_148 - uVar5;
      uVar7 = uStack_148 << 3;
      uStack_148 = uVar1;
      lVar6 = uStack_140;
      uStack_140 = uVar5;
      uVar4 = lStack_78;
      lStack_78 = lVar11;
      runtime_typedslicecopy(uVar4,lVar6,(lVar8 >> 0x3f & uVar7) + lVar11,lVar9);
      *(ulong *)(lStack_138 + 0x30) = uStack_148;
      *(ulong *)(lStack_138 + 0x38) = uStack_140;
      if (DAT_02e5e450 != 0) {
        uVar4 = *(undefined8 *)(lStack_138 + 0x28);
        runtime_gcWriteBarrier2();
        *(long *)*pauVar13 = lStack_78;
        *(undefined8 *)(*pauVar13 + 8) = uVar4;
      }
      *(long *)(lStack_138 + 0x28) = lStack_78;
    }
    lStack_e8 = runtime_newobject();
    if (DAT_02e5e450 != 0) {
      lStack_e8 = runtime_gcWriteBarrier2();
      *(long *)*pauVar13 = lStack_d8;
      *(long *)(*pauVar13 + 8) = lStack_138;
    }
    *(long *)(lStack_e8 + 0xf8) = lStack_d8;
    *(long *)(lStack_e8 + 0x130) = lStack_138;
    github_com_imroc_req_v3_Request_SetHeader(&DAT_01c4edb3,0x10,lStack_d8,0xc);
    github_com_imroc_req_v3_Request_SetHeader(&DAT_01c50d2f,0x11,extraout_RDX_00,6);
    auVar14 = runtime_concatstring2(uStack0000000000000060,uStack0000000000000068,extraout_RDX_01,7);
    github_com_imroc_req_v3_Request_SetHeader(auVar14._0_8_,&DAT_01c3ddc9,auVar14._8_8_,0xd);
    github_com_imroc_req_v3_Request_SetHeader(&DAT_01c5c194,0x17,extraout_RDX_02,6);
    github_com_imroc_req_v3_Request_SetHeader(&DAT_01ca4dbb,0x6f,extraout_RDX_03,10);
    *(undefined8 *)(lStack_e8 + 0xc0) = uVar3;
    *(long *)(lStack_e8 + 200) = lVar12;
    lVar11 = lStack_e8;
    if (DAT_02e5e450 != 0) {
      uVar4 = *(undefined8 *)(lStack_e8 + 0xb8);
      runtime_gcWriteBarrier2();
      *(undefined8 *)*pauVar13 = uStack_108;
      *(undefined8 *)(*pauVar13 + 8) = uVar4;
    }
    *(undefined8 *)(lVar11 + 0xb8) = uStack_108;
    puVar10 = (undefined8 *)runtime_newobject();
    auVar15._8_8_ = lStack_e8;
    auVar15._0_8_ = puVar10;
    *puVar10 = &LAB_01761ac0;
    puVar10[2] = uVar3;
    puVar10[3] = lVar12;
    if (DAT_02e5e450 != 0) {
      uVar3 = *(undefined8 *)(lStack_e8 + 0xd0);
      auVar15 = runtime_gcWriteBarrier3();
      *(undefined8 *)*pauVar13 = uStack_108;
      *(long *)(*pauVar13 + 8) = auVar15._0_8_;
      *(undefined8 *)pauVar13[1] = uVar3;
    }
    *(undefined8 *)(auVar15._0_8_ + 8) = uStack_108;
    *(long *)(auVar15._8_8_ + 0xd0) = auVar15._0_8_;
    *(undefined1 *)(auVar15._8_8_ + 0xe1) = 1;
    uVar3 = 4;
    github_com_imroc_req_v3_Request_Send(&DAT_01c9dc4a,0x4d);
    uStack_20 = DAT_01c3979a;
    uStack_e0 = uVar3;
    uStack_18 = uVar3;
    fmt_Fprintf(0x1f,&uStack_20,DAT_01c3979a,&DAT_01c6a717,1,1);
    uStack_90 = DAT_01c3979a;
    puStack_88 = (undefined8 *)uStack_e0;
    uVar3 = fmt_Errorf(1,1,uStack_e0,&uStack_90);
    return uVar3;
  }
  uStack_90 = *(undefined8 *)(lVar6 + 8);
  puStack_88 = puVar10;
  uVar3 = fmt_Errorf(1,1,auVar14._8_8_,&uStack_90);
  return uVar3;
}




// === orchids.TransformToolInput @ 0x1768d40 ===

/* WARNING: Removing unreachable block (ram,0x01768e5e) */

long orchids_TransformToolInput(long param_1,long param_2,undefined8 param_3,undefined8 param_4)

{
  long *plVar1;
  undefined4 uVar2;
  long lVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  long unaff_RBX;
  undefined8 uVar7;
  undefined8 *puVar8;
  undefined8 *puVar9;
  undefined8 uVar10;
  undefined8 *in_R11;
  long lVar11;
  long unaff_R14;
  bool bVar12;
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined8 uStack0000000000000018;
  long lStack0000000000000020;
  undefined8 uStack_110;
  long lStack_108;
  undefined8 *puStack_100;
  undefined8 uStack_f8;
  undefined8 uStack_f0;
  undefined8 uStack_e8;
  undefined8 uStack_e0;
  long *plStack_d8;
  long lStack_d0;
  long lStack_c8;
  long lStack_c0;
  long lStack_b8;
  undefined8 uStack_b0;
  undefined8 uStack_a8;
  undefined8 *puStack_a0;
  undefined8 uStack_98;
  undefined8 uStack_90;
  int *piStack_88;
  undefined8 *puStack_80;
  undefined8 *puStack_78;
  long lStack_70;
  undefined8 *puStack_68;
  undefined8 *puStack_60;
  
  uStack0000000000000018 = param_4;
  lStack0000000000000020 = param_1;
  while (&uStack_110 <= *(undefined8 **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  if (param_2 == 0) {
    param_2 = runtime_makemap_small();
  }
  lStack_70 = param_2;
  plStack_d8 = (long *)strings_ToLower();
  lVar3 = lStack0000000000000020;
  piStack_88 = (int *)strings_ToLower();
  lStack_108 = lVar3;
  if ((unaff_RBX == 2) && ((short)*plStack_d8 == 0x736c)) {
LAB_01768e22:
    lVar3 = internal_stringslite_Index(9);
    bVar12 = -1 < lVar3;
  }
  else if (unaff_RBX == 4) {
    if (((int)*plStack_d8 == 0x626f6c67) || ((int)*plStack_d8 == 0x7473696c)) goto LAB_01768e22;
    bVar12 = false;
  }
  else {
    bVar12 = false;
  }
  if (!bVar12) {
    if (unaff_RBX == 2) {
      if ((short)*plStack_d8 == 0x736c) {
        if ((lStack_108 == 4) && (*piStack_88 == 0x626f6c67)) {
          uVar2 = 1;
        }
        else if (lStack_108 < 4) {
          uVar2 = 0;
        }
        else {
          uVar2 = runtime_memequal();
        }
      }
      else {
        uVar2 = 0;
      }
    }
    else {
      uVar2 = 0;
    }
    if ((char)uVar2 != '\0') {
      lStack_c0 = runtime_makemap_small();
      FUN_00488ceb(&piStack_88);
      runtime_mapIterStart();
      while (lVar3 = lStack_c0, puStack_68 != (undefined8 *)0x0) {
        uVar7 = *puStack_60;
        uStack_e0 = puStack_60[1];
        puVar4 = (undefined8 *)runtime_mapassign_faststr(puStack_68[1],uVar7,uStack_e0,*puStack_68);
        *puVar4 = uVar7;
        if (DAT_02e5e450 != 0) {
          uVar7 = puVar4[1];
          puVar4 = (undefined8 *)runtime_gcWriteBarrier2();
          *in_R11 = uStack_e0;
          in_R11[1] = uVar7;
        }
        puVar4[1] = uStack_e0;
        runtime_mapIterNext();
      }
      runtime_mapaccess2_faststr(7);
      if ((char)lVar3 == '\0') {
        puVar4 = (undefined8 *)runtime_mapassign_faststr(7);
        *puVar4 = &DAT_0194e220;
        if (DAT_02e5e450 != 0) {
          uVar7 = puVar4[1];
          puVar4 = (undefined8 *)runtime_gcWriteBarrier1();
          *in_R11 = uVar7;
        }
        puVar4[1] = &PTR_DAT_01f3a1c0;
      }
      return lStack_c0;
    }
    if (((unaff_RBX == 2) && ((short)*plStack_d8 == 0x736c)) &&
       (lVar3 = internal_stringslite_Index(4,uVar2,plStack_d8,&DAT_01c39782), -1 < lVar3)) {
      return lStack_70;
    }
    if (((unaff_RBX != 4) || ((int)*plStack_d8 != 0x64616572)) &&
       ((unaff_RBX != 8 || (*plStack_d8 != 0x656c696664616572)))) {
      if (((lStack_108 != 4) || (*piStack_88 != 0x68736162)) &&
         ((lVar3 = internal_stringslite_Index(4), lVar3 < 0 && (lVar3 = internal_stringslite_Index(5), lVar3 < 0)))) {
        return lStack_70;
      }
      lStack_d0 = runtime_makemap_small();
      puVar4 = (undefined8 *)runtime_mapaccess1_faststr(7);
      if ((undefined8 *)*puVar4 == &DAT_0194e220) {
        uVar7 = *(undefined8 *)puVar4[1];
        if (((undefined8 *)puVar4[1])[1] != 0) {
          puStack_78 = (undefined8 *)runtime_convTstring();
          puVar4 = (undefined8 *)runtime_mapassign_faststr(7);
          *puVar4 = &DAT_0194e220;
          if (DAT_02e5e450 != 0) {
            uVar7 = puVar4[1];
            puVar4 = (undefined8 *)runtime_gcWriteBarrier2();
            *in_R11 = puStack_78;
            in_R11[1] = uVar7;
          }
          puVar4[1] = puStack_78;
          return lStack_d0;
        }
      }
      else {
        uVar7 = 0;
      }
      puVar4 = (undefined8 *)runtime_mapaccess1_faststr(4,uVar7,0,&DAT_01c3988a);
      if ((undefined8 *)*puVar4 == &DAT_0194e220) {
        uVar7 = *(undefined8 *)puVar4[1];
        lVar3 = ((undefined8 *)puVar4[1])[1];
      }
      else {
        lVar3 = 0;
        uVar7 = 0;
      }
      if (lVar3 == 0) {
        puVar4 = (undefined8 *)runtime_mapassign_faststr(7);
        *puVar4 = &DAT_0194e220;
        if (DAT_02e5e450 != 0) {
          uVar7 = puVar4[1];
          puVar4 = (undefined8 *)runtime_gcWriteBarrier1();
          *in_R11 = uVar7;
        }
        puVar4[1] = &PTR_DAT_01f3a1d0;
      }
      else {
        runtime_concatstring2(uVar7,lVar3,&DAT_0194e220,7);
        puStack_78 = (undefined8 *)runtime_convTstring();
        puVar4 = (undefined8 *)runtime_mapassign_faststr(7);
        *puVar4 = &DAT_0194e220;
        if (DAT_02e5e450 != 0) {
          uVar7 = puVar4[1];
          puVar4 = (undefined8 *)runtime_gcWriteBarrier2();
          *in_R11 = puStack_78;
          in_R11[1] = uVar7;
        }
        puVar4[1] = puStack_78;
      }
      return lStack_d0;
    }
    lStack_c8 = runtime_makemap_small();
    puVar4 = (undefined8 *)runtime_mapaccess1_faststr(9);
    if ((undefined8 *)*puVar4 == &DAT_0194e220) {
      uStack_98 = *(undefined8 *)puVar4[1];
      uStack_110 = ((undefined8 *)puVar4[1])[1];
    }
    else {
      puVar4 = (undefined8 *)runtime_mapaccess1_faststr(4);
      if ((undefined8 *)*puVar4 == &DAT_0194e220) {
        uStack_98 = *(undefined8 *)puVar4[1];
        uStack_110 = ((undefined8 *)puVar4[1])[1];
      }
      else {
        uStack_110 = 0;
        uStack_98 = 0;
      }
    }
    lVar3 = internal_stringslite_Index(10,uStack_98,uStack_110,&DAT_01c441bb);
    if (lVar3 < 0) {
      lVar3 = internal_stringslite_Index(4);
      if ((lVar3 < 0) && (lVar3 = internal_stringslite_Index(4), lVar3 < 0)) {
        FUN_00488ceb(&piStack_88);
        runtime_mapIterStart();
        while (puStack_68 != (undefined8 *)0x0) {
          uVar7 = *puStack_60;
          uStack_f0 = puStack_60[1];
          puVar4 = (undefined8 *)runtime_mapassign_faststr(puStack_68[1],uVar7,uStack_f0,*puStack_68);
          *puVar4 = uVar7;
          if (DAT_02e5e450 != 0) {
            uVar7 = puVar4[1];
            puVar4 = (undefined8 *)runtime_gcWriteBarrier2();
            *in_R11 = uStack_f0;
            in_R11[1] = uVar7;
          }
          puVar4[1] = uStack_f0;
          runtime_mapIterNext();
        }
      }
      else {
        puStack_78 = (undefined8 *)runtime_convTstring();
        puVar4 = (undefined8 *)runtime_mapassign_faststr(9);
        *puVar4 = &DAT_0194e220;
        if (DAT_02e5e450 != 0) {
          auVar13 = runtime_gcWriteBarrier2();
          puVar4 = auVar13._0_8_;
          *in_R11 = puStack_78;
          in_R11[1] = auVar13._8_8_;
        }
        puVar4[1] = puStack_78;
      }
      FUN_00488ceb(&piStack_88);
      runtime_mapIterStart();
      while (puStack_68 != (undefined8 *)0x0) {
        plVar1 = (long *)*puStack_68;
        if ((((puStack_68[1] != 9) || (*plVar1 != 0x7461705f656c6966)) || ((char)plVar1[1] != 'h'))
           && ((puStack_68[1] != 4 || ((int)*plVar1 != 0x68746170)))) {
          uVar7 = *puStack_60;
          uStack_f8 = puStack_60[1];
          puVar4 = (undefined8 *)runtime_mapassign_faststr();
          *puVar4 = uVar7;
          if (DAT_02e5e450 != 0) {
            uVar7 = puVar4[1];
            puVar4 = (undefined8 *)runtime_gcWriteBarrier2();
            *in_R11 = uStack_f8;
            in_R11[1] = uVar7;
          }
          puVar4[1] = uStack_f8;
        }
        runtime_mapIterNext();
      }
      return lStack_c8;
    }
    uStack_90 = runtime_makemap_small();
    puStack_78 = (undefined8 *)runtime_convTstring();
    puVar4 = (undefined8 *)runtime_mapassign_faststr(4);
    *puVar4 = &DAT_0194e220;
    if (DAT_02e5e450 != 0) {
      auVar13 = runtime_gcWriteBarrier2();
      puVar4 = auVar13._0_8_;
      *in_R11 = puStack_78;
      in_R11[1] = auVar13._8_8_;
    }
    puVar4[1] = puStack_78;
    FUN_00488ceb(&piStack_88);
    runtime_mapIterStart();
    while (puStack_68 != (undefined8 *)0x0) {
      plVar1 = (long *)*puStack_68;
      if ((((puStack_68[1] != 9) || (*plVar1 != 0x7461705f656c6966)) || ((char)plVar1[1] != 'h')) &&
         ((puStack_68[1] != 4 || ((int)*plVar1 != 0x68746170)))) {
        uVar7 = *puStack_60;
        uStack_e8 = puStack_60[1];
        puVar4 = (undefined8 *)runtime_mapassign_faststr();
        *puVar4 = uVar7;
        if (DAT_02e5e450 != 0) {
          uVar7 = puVar4[1];
          puVar4 = (undefined8 *)runtime_gcWriteBarrier2();
          *in_R11 = uStack_e8;
          in_R11[1] = uVar7;
        }
        puVar4[1] = uStack_e8;
      }
      runtime_mapIterNext();
    }
    puVar4 = (undefined8 *)runtime_newobject();
    if (DAT_02e5e450 != 0) {
      puVar4 = (undefined8 *)runtime_gcWriteBarrier1();
      *in_R11 = uStack_90;
    }
    *puVar4 = uStack_90;
    puStack_78 = (undefined8 *)runtime_convTslice();
    puVar4 = (undefined8 *)runtime_mapassign_faststr(5);
    *puVar4 = &DAT_0192a2e0;
    if (DAT_02e5e450 != 0) {
      uVar7 = puVar4[1];
      puVar4 = (undefined8 *)runtime_gcWriteBarrier2();
      *in_R11 = puStack_78;
      in_R11[1] = uVar7;
    }
    puVar4[1] = puStack_78;
    return lStack_c8;
  }
  lStack_b8 = runtime_makemap_small();
  puVar4 = (undefined8 *)runtime_mapaccess1_faststr(4);
  if ((undefined8 *)*puVar4 == &DAT_0194e220) {
    uVar7 = *(undefined8 *)puVar4[1];
    if (((undefined8 *)puVar4[1])[1] == 0) goto LAB_01769537;
  }
  else {
    uVar7 = 0;
LAB_01769537:
    puVar4 = (undefined8 *)runtime_mapaccess1_faststr(9,uVar7,0,&DAT_01c420da);
    if (((undefined8 *)*puVar4 != &DAT_0194e220) || (*(long *)(puVar4[1] + 8) == 0)) {
      runtime_mapaccess1_faststr(10,0,&DAT_0194e220,&DAT_01c443f5);
    }
  }
  puStack_78 = (undefined8 *)runtime_convTstring();
  puVar4 = (undefined8 *)runtime_mapassign_faststr(10);
  *puVar4 = &DAT_0194e220;
  if (DAT_02e5e450 != 0) {
    auVar13 = runtime_gcWriteBarrier2();
    puVar4 = auVar13._0_8_;
    *in_R11 = puStack_78;
    in_R11[1] = auVar13._8_8_;
  }
  puVar4[1] = puStack_78;
  puStack_80 = (undefined8 *)runtime_newobject();
  puStack_80[1] = 1;
  *puStack_80 = &DAT_01f34e30;
  puVar4 = (undefined8 *)runtime_mapaccess1_faststr(7);
  if ((undefined8 *)*puVar4 == &DAT_0194e220) {
    uVar7 = *(undefined8 *)puVar4[1];
    lVar3 = ((undefined8 *)puVar4[1])[1];
    if (lVar3 != 0) {
      uStack_a8 = uVar7;
      puVar4 = (undefined8 *)runtime_newobject();
      puVar4[1] = lVar3;
      if (DAT_02e5e450 != 0) {
        puVar4 = (undefined8 *)runtime_gcWriteBarrier1();
        *in_R11 = uStack_a8;
      }
      *puVar4 = uStack_a8;
      goto LAB_017697d7;
    }
  }
  else {
    uVar7 = 0;
  }
  puVar4 = (undefined8 *)runtime_mapaccess1_faststr(8,uVar7,0,&DAT_01c3ffff);
  if ((undefined8 *)*puVar4 == &DAT_0192e960) {
    puVar5 = (undefined8 *)((undefined8 *)puVar4[1])[1];
    if (puVar5 != (undefined8 *)0x0) {
      puStack_a0 = *(undefined8 **)puVar4[1];
      lVar3 = runtime_makeslice();
      puVar8 = (undefined8 *)0x0;
      puVar4 = puStack_a0;
      puVar6 = puVar5;
      for (; auVar13._8_8_ = puVar4, auVar13._0_8_ = lVar3, 0 < (long)puVar5;
          puVar5 = (undefined8 *)((long)puVar5 + -1)) {
        if ((undefined8 *)*puVar4 == &DAT_0194e220) {
          uVar7 = *(undefined8 *)puVar4[1];
          uVar10 = ((undefined8 *)puVar4[1])[1];
          puVar9 = (undefined8 *)((long)puVar8 + 1);
          if (puVar6 < puVar9) {
            puStack_100 = puVar5;
            uStack_b0 = uVar7;
            puStack_78 = puVar4;
            lVar3 = runtime_growslice(1,&DAT_0194e220);
            puVar5 = puStack_100;
            puVar4 = puStack_78;
            uVar7 = uStack_b0;
          }
          auVar13._8_8_ = puVar4;
          auVar13._0_8_ = lVar3;
          lVar11 = (long)puVar8 * 0x10;
          *(undefined8 *)(lVar3 + 8 + lVar11) = uVar10;
          if (DAT_02e5e450 != 0) {
            uVar10 = *(undefined8 *)(lVar3 + lVar11);
            puVar4 = puVar9;
            auVar13 = runtime_gcWriteBarrier2();
            *puVar4 = uVar7;
            puVar4[1] = uVar10;
          }
          *(undefined8 *)(auVar13._0_8_ + lVar11) = uVar7;
          puVar8 = puVar9;
        }
        lVar3 = auVar13._0_8_;
        puVar4 = (undefined8 *)(auVar13._8_8_ + 0x10);
        in_R11 = puVar8;
      }
    }
  }
LAB_017697d7:
  puStack_78 = (undefined8 *)runtime_convTslice();
  puVar4 = (undefined8 *)runtime_mapassign_faststr(8);
  auVar14._8_8_ = &DAT_0192e8e0;
  auVar14._0_8_ = puVar4;
  *puVar4 = &DAT_0192e8e0;
  if (DAT_02e5e450 != 0) {
    auVar14 = runtime_gcWriteBarrier2();
    *in_R11 = puStack_78;
    in_R11[1] = auVar14._8_8_;
  }
  *(undefined8 **)(auVar14._0_8_ + 8) = puStack_78;
  puVar4 = (undefined8 *)runtime_mapassign_faststr(0xb,puStack_78,auVar14._8_8_,&DAT_01c4635a);
  *puVar4 = &DAT_0194e460;
  if (DAT_02e5e450 != 0) {
    uVar7 = puVar4[1];
    puVar4 = (undefined8 *)runtime_gcWriteBarrier1();
    *in_R11 = uVar7;
  }
  puVar4[1] = &DAT_01f385c0;
  puVar4 = (undefined8 *)runtime_mapassign_faststr(9);
  *puVar4 = &DAT_0194e460;
  if (DAT_02e5e450 != 0) {
    uVar7 = puVar4[1];
    puVar4 = (undefined8 *)runtime_gcWriteBarrier1();
    *in_R11 = uVar7;
  }
  puVar4[1] = &DAT_01f385c0;
  puVar4 = (undefined8 *)runtime_mapassign_faststr(9);
  *puVar4 = &DAT_0194e460;
  if (DAT_02e5e450 != 0) {
    uVar7 = puVar4[1];
    puVar4 = (undefined8 *)runtime_gcWriteBarrier1();
    *in_R11 = uVar7;
  }
  puVar4[1] = &DAT_01f385c0;
  return lStack_b8;
}




// === orchids.MapToolNameToClient @ 0x1767bc0 ===

undefined8
orchids_MapToolNameToClient(ulong *param_1,undefined8 param_2,undefined8 param_3,undefined8 param_4)

{
  ulong uVar1;
  bool bVar2;
  undefined1 auVar3 [16];
  char cVar4;
  long *in_RAX;
  long lVar5;
  undefined8 *puVar6;
  undefined8 uVar7;
  long lVar8;
  char *pcVar9;
  long lVar10;
  ulong uVar11;
  undefined8 *puVar12;
  undefined8 *puVar13;
  long *plVar14;
  ulong uVar15;
  long lVar16;
  undefined8 unaff_RBX;
  undefined8 uVar17;
  long lVar18;
  ulong uVar19;
  ulong uVar20;
  ulong uVar21;
  undefined8 *in_R11;
  undefined8 *puVar22;
  long unaff_R14;
  undefined8 in_XMM15_Qa;
  undefined8 in_XMM15_Qb;
  undefined1 auVar23 [16];
  long *plStack0000000000000008;
  undefined8 uStack0000000000000010;
  undefined8 uStack0000000000000018;
  ulong *puStack0000000000000020;
  long lStack_2d8;
  long lStack_2d0;
  long lStack_2c8;
  undefined8 uStack_2c0;
  long lStack_2b8;
  ulong uStack_2b0;
  long lStack_2a8;
  long lStack_2a0;
  long lStack_298;
  undefined8 uStack_290;
  undefined8 uStack_288;
  undefined8 *puStack_280;
  undefined8 *puStack_278;
  undefined8 *puStack_270;
  undefined8 *puStack_268;
  undefined8 *puStack_260;
  undefined8 *puStack_258;
  undefined8 *puStack_250;
  undefined8 *puStack_248;
  undefined8 *puStack_240;
  undefined8 *puStack_238;
  undefined8 uStack_230;
  undefined8 uStack_228;
  undefined8 auStack_220 [4];
  undefined8 uStack_200;
  undefined1 auStack_1f8 [256];
  undefined1 auStack_f8 [8];
  undefined8 uStack_f0;
  undefined8 *puStack_e8;
  undefined8 *puStack_c8;
  undefined8 *puStack_68;
  undefined8 *puStack_60;
  undefined8 *puStack_58;
  long lStack_50;
  undefined8 uStack_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  undefined8 uStack_30;
  undefined8 uStack_28;
  undefined8 uStack_20;
  undefined8 uStack_18;
  undefined8 uStack_10;
  
  plStack0000000000000008 = in_RAX;
  uStack0000000000000018 = param_4;
  uStack0000000000000010 = unaff_RBX;
  puStack0000000000000020 = param_1;
  while (&lStack_2d8 <= *(long **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  lVar5 = kiro2api_internal_logic_orchids_NormalizeToolName();
  if (*(long *)(lVar5 + 8) == 0) {
    return uStack0000000000000010;
  }
  lVar18 = plStack0000000000000008[1];
  if (lVar18 == 0) {
    uVar7 = kiro2api_internal_logic_orchids_MapOrchidsToolToAnthropic();
    return uVar7;
  }
  lVar8 = *plStack0000000000000008;
  plVar14 = plStack0000000000000008;
  lStack_2a0 = lVar18;
  lStack_298 = lVar5;
  lStack_50 = lVar8;
  for (lVar10 = 0; lVar10 < lVar18; lVar10 = lVar10 + 1) {
    puVar6 = *(undefined8 **)(lVar8 + lVar10 * 8);
    if ((*(long *)(lVar5 + 8) == puVar6[1]) &&
       (lStack_2a8 = lVar10, puStack_248 = puVar6, cVar4 = runtime_memequal(), lVar5 = lStack_298,
       lVar10 = lStack_2a8, plVar14 = plStack0000000000000008, lVar18 = lStack_2a0,
       lVar8 = lStack_50, cVar4 != '\0')) {
      return *puStack_248;
    }
  }
  lVar18 = *plVar14;
  lVar8 = plVar14[1];
  lStack_2a0 = lVar8;
  lStack_50 = lVar18;
  for (lVar10 = 0; lVar10 < lVar8; lVar10 = lVar10 + 1) {
    puVar6 = *(undefined8 **)(lVar18 + lVar10 * 8);
    in_R11 = *(undefined8 **)(puVar6[2] + 0x18);
    if ((*(undefined8 **)(lVar5 + 0x18) == in_R11) &&
       (lStack_2a8 = lVar10, puStack_250 = puVar6, cVar4 = runtime_memequal(), lVar5 = lStack_298,
       lVar10 = lStack_2a8, plVar14 = plStack0000000000000008, lVar18 = lStack_50,
       lVar8 = lStack_2a0, cVar4 != '\0')) {
      return *puStack_250;
    }
  }
  lVar18 = *plVar14;
  lVar8 = plVar14[1];
  lStack_2a0 = lVar8;
  lStack_50 = lVar18;
  for (lVar10 = 0; uVar7 = DAT_02e33430, lVar10 < lVar8; lVar10 = lVar10 + 1) {
    puVar6 = *(undefined8 **)(lVar18 + lVar10 * 8);
    in_R11 = *(undefined8 **)(puVar6[2] + 0x28);
    if ((*(undefined8 **)(lVar5 + 0x28) == in_R11) &&
       (lStack_2a8 = lVar10, puStack_258 = puVar6, cVar4 = runtime_memequal(), lVar5 = lStack_298,
       lVar10 = lStack_2a8, plVar14 = plStack0000000000000008, lVar18 = lStack_50,
       lVar8 = lStack_2a0, cVar4 != '\0')) {
      return *puStack_258;
    }
  }
  puVar6 = (undefined8 *)
           runtime_mapaccess2_faststr(*(undefined8 *)(lVar5 + 0x28),lVar18,plVar14,*(undefined8 *)(lVar5 + 0x20));
  if ((char)uVar7 != '\0') {
    lVar5 = puVar6[1];
    puStack_238 = (undefined8 *)*puVar6;
    lVar18 = *plStack0000000000000008;
    lVar8 = plStack0000000000000008[1];
    lVar10 = 0;
    puVar6 = puStack_238;
    plVar14 = plStack0000000000000008;
    lStack_2a0 = lVar8;
    lStack_50 = lVar18;
    while (lVar10 < lVar8) {
      puStack_260 = *(undefined8 **)(lVar18 + lVar10 * 8);
      lVar16 = lVar5;
      puVar13 = puVar6;
      lStack_2a8 = lVar10;
      while (0 < lVar16) {
        lStack_2d0 = puVar6[1];
        uStack_228 = *puVar6;
        lStack_2b8 = lVar16;
        puStack_60 = puVar6;
        if (*(long *)(puStack_260[2] + 0x28) == lStack_2d0) {
          cVar4 = runtime_memequal();
          plVar14 = plStack0000000000000008;
          lVar18 = lStack_50;
        }
        else {
          cVar4 = '\0';
        }
        if (cVar4 != '\0') {
LAB_017688f9:
          return *puStack_260;
        }
        lVar8 = puStack_260[1];
        strings_ToLower(lStack_2d0,puStack_60,lStack_2b8,lVar5,plVar14,lVar18);
        if (lVar8 == lStack_2d0) {
          cVar4 = runtime_memequal();
        }
        else {
          cVar4 = '\0';
        }
        if (cVar4 != '\0') goto LAB_017688f9;
        puVar6 = puStack_60 + 2;
        plVar14 = plStack0000000000000008;
        lVar18 = lStack_50;
        lVar8 = lStack_2a0;
        puVar13 = puStack_238;
        lVar16 = lStack_2b8 + -1;
      }
      puVar6 = puVar13;
      in_R11 = puStack_260;
      lVar10 = lStack_2a8 + 1;
    }
  }
  lStack_50 = *plStack0000000000000008;
  lStack_2a0 = plStack0000000000000008[1];
  lVar5 = 0;
  while (uVar7 = DAT_02e33430, lVar5 < lStack_2a0) {
    puStack_268 = *(undefined8 **)(lStack_50 + lVar5 * 8);
    lVar18 = puStack_268[2];
    lStack_2a8 = lVar5;
    puVar6 = (undefined8 *)
             runtime_mapaccess2_faststr(*(undefined8 *)(lVar18 + 0x28),lStack_50,lVar18,
                          *(undefined8 *)(lVar18 + 0x20));
    if ((char)uVar7 != '\0') {
      puVar13 = (undefined8 *)*puVar6;
      lVar5 = puVar6[1];
      lVar18 = lStack_298;
      while (0 < lVar5) {
        lVar8 = puVar13[1];
        lStack_2b8 = lVar5;
        puStack_60 = puVar13;
        if (*(long *)(lVar18 + 0x28) == lVar8) {
          lStack_2d8 = lVar8;
          uStack_230 = *puVar13;
          cVar4 = runtime_memequal();
          lVar8 = lStack_2d8;
          lVar18 = lStack_298;
        }
        else {
          cVar4 = '\0';
        }
        if (cVar4 != '\0') {
LAB_01768777:
          return *puStack_268;
        }
        if (*(long *)(lVar18 + 0x18) == lVar8) {
          cVar4 = runtime_memequal();
          lVar18 = lStack_298;
        }
        else {
          cVar4 = '\0';
        }
        if (cVar4 != '\0') goto LAB_01768777;
        puVar13 = puStack_60 + 2;
        lVar5 = lStack_2b8 + -1;
      }
    }
    lVar5 = lStack_2a8 + 1;
  }
  FUN_00488cb4(auStack_1f8,lStack_50,plStack0000000000000008);
  uStack_200 = 0x8080808080808080;
  puStack_e8 = &uStack_200;
  uStack_f0 = runtime_rand();
  puVar6 = (undefined8 *)runtime_mapassign_faststr(2);
  puVar6[1] = 4;
  if (DAT_02e5e450 != 0) {
    auVar23 = runtime_gcWriteBarrier1();
    puVar6 = auVar23._0_8_;
    *in_R11 = auVar23._8_8_;
  }
  *puVar6 = &DAT_01c39892;
  puVar6 = (undefined8 *)runtime_mapassign_faststr(4);
  puVar6[1] = 4;
  if (DAT_02e5e450 != 0) {
    auVar23 = runtime_gcWriteBarrier1();
    puVar6 = auVar23._0_8_;
    *in_R11 = auVar23._8_8_;
  }
  *puVar6 = &DAT_01c39892;
  puVar6 = (undefined8 *)runtime_mapassign_faststr(7);
  puVar6[1] = 4;
  if (DAT_02e5e450 != 0) {
    auVar23 = runtime_gcWriteBarrier1();
    puVar6 = auVar23._0_8_;
    *in_R11 = auVar23._8_8_;
  }
  *puVar6 = &DAT_01c39896;
  puVar6 = (undefined8 *)runtime_mapassign_faststr(6);
  puVar6[1] = 5;
  if (DAT_02e5e450 != 0) {
    auVar23 = runtime_gcWriteBarrier1();
    puVar6 = auVar23._0_8_;
    *in_R11 = auVar23._8_8_;
  }
  *puVar6 = 
  "Writefilesshellchunkpartsitemstitlepaths<env>Agentarm642.1.7SkillmacOStasksstartMacOSnanos%s_%ddiffsplansskill.jsonPATCHx-appuser_ravenbytesQuery3.0.0ROUTE%s#%d</tr>debug%s:%d*fuzz*listPOST:HEAD:IndexInputshort%s,%s=j=02=G=15-0700%dh%sdefersweeptestRtestWexecWhchanexecRschedsudogtimergscanmheaptracepanicsleepamd64gcing MB,  got= ...\n max=scav  ptr ] = (trap:init  ms, fault and  tab= tag= top=[...], fp:deny"
  ;
  puVar6 = (undefined8 *)runtime_mapaccess2_faststr(*(undefined8 *)(lStack_298 + 0x28));
  if ((char)auStack_f8 != '\0') {
    uVar7 = puVar6[1];
    uStack_290 = *puVar6;
    lStack_50 = *plStack0000000000000008;
    lStack_2a0 = plStack0000000000000008[1];
    lVar5 = 0;
    while (lVar5 < lStack_2a0) {
      puStack_270 = *(undefined8 **)(lStack_50 + lVar5 * 8);
      lStack_2a8 = lVar5;
      cVar4 = strings_EqualFold(uVar7,lStack_50,puStack_270,uStack_290);
      if (cVar4 != '\0') {
        return *puStack_270;
      }
      lVar5 = lStack_2a8 + 1;
    }
  }
  if ((puStack0000000000000020 != (ulong *)0x0) && (0 < (long)*puStack0000000000000020)) {
    uStack_2b0 = *puStack0000000000000020;
    if (uStack_2b0 < 3) {
      puStack_280 = auStack_220;
    }
    else {
      puStack_280 = (undefined8 *)runtime_makeslice();
    }
    FUN_00488ceb();
    runtime_mapIterStart();
    bVar2 = false;
    uVar11 = 0;
    uVar15 = uStack_2b0;
    while (puStack_c8 != (undefined8 *)0x0) {
      uVar20 = uVar11 + 1;
      uVar7 = *puStack_c8;
      uVar17 = puStack_c8[1];
      puVar6 = puStack_280;
      if (uVar15 < uVar20) {
        uStack_288 = uVar7;
        if (((2 < (long)uVar20) || (bVar2)) || (uVar11 != 0)) {
          puVar6 = (undefined8 *)runtime_growslice();
          uVar7 = uStack_288;
        }
        else {
          uStack_28 = in_XMM15_Qa;
          uStack_20 = in_XMM15_Qb;
          uStack_18 = in_XMM15_Qa;
          uStack_10 = in_XMM15_Qb;
          puVar6 = &uStack_28;
          uVar15 = 2;
          bVar2 = true;
        }
      }
      lVar5 = uVar11 * 0x10;
      puVar6[uVar11 * 2 + 1] = uVar17;
      if (DAT_02e5e450 != 0) {
        uVar17 = puVar6[uVar11 * 2];
        runtime_gcWriteBarrier2();
        *in_R11 = uVar7;
        in_R11[1] = uVar17;
      }
      *(undefined8 *)((long)puVar6 + lVar5) = uVar7;
      puStack_280 = puVar6;
      runtime_mapIterNext();
      uVar11 = uVar20;
    }
    puStack_58 = puStack_280;
    lVar5 = *plStack0000000000000008;
    lVar18 = plStack0000000000000008[1];
    puVar6 = (undefined8 *)0x0;
    uVar15 = 0;
    uVar19 = 0;
    lVar8 = 0;
    puVar13 = puStack_280;
    uVar20 = 0;
    lStack_2a0 = lVar18;
    lStack_50 = lVar5;
    while (auVar23._8_8_ = lVar18, auVar23._0_8_ = lVar8, lVar8 < lVar18) {
      puVar12 = *(undefined8 **)(lVar5 + lVar8 * 8);
      plVar14 = (long *)puVar12[3];
      if (plVar14 == (long *)0x0) {
        lVar10 = 0;
      }
      else {
        lVar10 = *plVar14;
      }
      uVar21 = uVar20;
      if (lVar10 != 0) {
        puVar22 = puVar13;
        lStack_2a8 = lVar8;
        puStack_278 = puVar12;
        puStack_240 = puVar6;
        for (lStack_2b8 = 0; lStack_2b8 < (long)uVar11; lStack_2b8 = lStack_2b8 + 1) {
          puStack_60 = puVar13;
          pcVar9 = (char *)runtime_mapaccess1_faststr(puVar13[1]);
          lVar18 = lStack_2a0;
          lVar5 = lStack_50;
          puVar22 = puStack_58;
          if (*pcVar9 == '\0') {
            uVar21 = uVar20 & 0xff;
            break;
          }
          puVar13 = puStack_60 + 2;
          uVar21 = uVar20 & 0xff;
        }
        puVar13 = puVar22;
        auVar3._8_8_ = lVar18;
        auVar3._0_8_ = lStack_2a8;
        auVar23._8_8_ = lVar18;
        auVar23._0_8_ = lStack_2a8;
        puVar6 = puStack_240;
        if (((long)uVar11 <= lStack_2b8) && (auVar23 = auVar3, 0 < lStack_2b8)) {
          if ((long *)puStack_278[3] == (long *)0x0) {
            lVar8 = 0;
          }
          else {
            lVar8 = *(long *)puStack_278[3];
          }
          uVar1 = uVar15 + 1;
          uVar7 = puStack_278[1];
          puVar12 = (undefined8 *)*puStack_278;
          lVar8 = lVar8 - lStack_2b8;
          if (uVar19 < uVar1) {
            lStack_2c8 = lVar8;
            uStack_2c0 = uVar7;
            puStack_68 = puVar12;
            if ((((long)uVar1 < 2) && ((char)uVar21 == '\0')) && (uVar15 == 0)) {
              uStack_48 = in_XMM15_Qa;
              uStack_40 = in_XMM15_Qb;
              uStack_38 = in_XMM15_Qa;
              uStack_30 = in_XMM15_Qb;
              puVar6 = &uStack_48;
              uVar19 = 1;
              uVar21 = 1;
            }
            else {
              puVar6 = (undefined8 *)runtime_growslice(1,&DAT_01ad5de0);
              uVar21 = uVar20 & 0xff;
              uVar7 = uStack_2c0;
              lVar18 = lStack_2a0;
              lVar5 = lStack_50;
              puVar12 = puStack_68;
              puVar13 = puStack_58;
              lVar8 = lStack_2c8;
            }
          }
          auVar23._8_8_ = lVar18;
          auVar23._0_8_ = lStack_2a8;
          lVar18 = uVar15 * 0x20;
          puVar6[uVar15 * 4 + 1] = uVar7;
          puVar6[uVar15 * 4 + 2] = lStack_2b8;
          puVar6[uVar15 * 4 + 3] = lVar8;
          if (DAT_02e5e450 != 0) {
            uVar7 = puVar6[uVar15 * 4];
            puVar22 = puVar12;
            auVar23 = runtime_gcWriteBarrier2();
            *puVar22 = puVar12;
            puVar22[1] = uVar7;
          }
          *(undefined8 **)((long)puVar6 + lVar18) = puVar12;
          uVar15 = uVar1;
        }
      }
      lVar18 = auVar23._8_8_;
      uVar20 = uVar21;
      lVar8 = auVar23._0_8_ + 1;
    }
    if (uVar15 != 0) {
      puVar13 = (undefined8 *)((ulong)((uint)((long)-(uVar19 - 1) >> 0x3f) & 0x20) + (long)puVar6);
      lVar5 = puVar6[2];
      lVar18 = puVar6[3];
      uVar7 = *puVar6;
      while (uVar15 = uVar15 - 1, 0 < (long)uVar15) {
        lVar8 = puVar13[2];
        if ((lVar5 < lVar8) || ((lVar5 == lVar8 && ((long)puVar13[3] < lVar18)))) {
          uVar7 = *puVar13;
          lVar5 = lVar8;
          lVar18 = puVar13[3];
        }
        puVar13 = puVar13 + 4;
      }
      return uVar7;
    }
  }
  uVar7 = kiro2api_internal_logic_orchids_MapOrchidsToolToAnthropic();
  return uVar7;
}




// === orchids.extractMessageContent @ 0x1754f40 ===

undefined8
orchids_extractMessageContent
          (undefined8 *param_1,undefined8 param_2,undefined8 param_3,undefined8 *param_4,
          undefined8 param_5)

{
  bool bVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  undefined8 uVar4;
  long *plVar5;
  ulong uVar6;
  ulong uVar7;
  undefined8 uVar8;
  ulong uVar9;
  ulong uVar10;
  ulong uVar11;
  long lVar12;
  long lVar13;
  long lVar14;
  undefined8 *puVar15;
  long unaff_R14;
  undefined8 in_XMM15_Qa;
  undefined8 in_XMM15_Qb;
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined8 *puStack0000000000000018;
  undefined8 *puStack0000000000000020;
  undefined8 uStack0000000000000028;
  undefined8 uStack0000000000000030;
  undefined8 uStack_168;
  undefined8 uStack_160;
  undefined8 uStack_158;
  ulong uStack_150;
  ulong uStack_148;
  ulong uStack_140;
  long lStack_138;
  long *plStack_130;
  long lStack_128;
  undefined8 uStack_120;
  undefined8 uStack_118;
  undefined8 *puStack_110;
  undefined8 uStack_108;
  undefined8 uStack_100;
  undefined8 uStack_f8;
  undefined8 uStack_f0;
  undefined8 uStack_e8;
  undefined8 uStack_e0;
  undefined8 uStack_d8;
  undefined8 uStack_d0;
  undefined8 uStack_c8;
  undefined8 uStack_c0;
  undefined8 *puStack_b8;
  long lStack_b0;
  long lStack_a8;
  long lStack_a0;
  long lStack_98;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 uStack_88;
  undefined4 uStack_84;
  undefined8 *puStack_80;
  undefined8 uStack_78;
  undefined8 *puStack_70;
  undefined8 uStack_68;
  undefined8 *puStack_60;
  undefined8 uStack_58;
  undefined8 *puStack_50;
  undefined8 uStack_48;
  undefined8 *puStack_40;
  undefined8 uStack_38;
  undefined8 *puStack_30;
  undefined8 uStack_28;
  long lStack_20;
  undefined8 uStack_18;
  undefined8 *puStack_10;
  
  puStack0000000000000018 = param_4;
  uStack0000000000000028 = param_2;
  puStack0000000000000020 = param_1;
  uStack0000000000000030 = param_5;
  while (&uStack_168 <= *(undefined8 **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
  }
  if (puStack0000000000000018 == (undefined8 *)0x0) {
    lVar14 = 0;
    uVar7 = 0;
  }
  else {
    if (*(int *)(puStack0000000000000018 + 2) == -0xd99de8a) {
      if (puStack0000000000000018 == &DAT_0192e960) {
        puVar2 = (undefined8 *)*puStack0000000000000020;
        bVar1 = false;
        uVar6 = 0;
        lVar14 = 0;
        uVar11 = 0;
        uVar7 = 0;
        puVar3 = (undefined8 *)0x0;
        uVar9 = 0;
        for (lVar12 = puStack0000000000000020[1]; 0 < lVar12; lVar12 = lVar12 + -1) {
          if ((undefined8 *)*puVar2 == &DAT_01a233a0) {
            uStack_e0 = puVar2[1];
            lStack_138 = lVar12;
            lStack_128 = lVar14;
            puStack_110 = puVar3;
            puStack_10 = puVar2;
            puVar2 = (undefined8 *)runtime_mapaccess1_faststr(4,uVar11,puVar2,&DAT_01c397aa);
            if ((undefined8 *)*puVar2 == &DAT_0194e220) {
              plVar5 = *(long **)puVar2[1];
              lVar13 = ((undefined8 *)puVar2[1])[1];
            }
            else {
              lVar13 = 0;
              plVar5 = (long *)0x0;
            }
            puVar3 = puStack_110;
            puVar2 = puStack_10;
            lVar14 = lStack_128;
            lVar12 = lStack_138;
            if ((((lVar13 != 8) || (*plVar5 != 0x676e696b6e696874)) &&
                ((lVar13 != 9 ||
                 (((undefined1 *)*plVar5 != &DAT_6e696e6f73616572 || ((char)plVar5[1] != 'g'))))))
               && ((puVar15 = (undefined8 *)&DAT_6e696e6f73616572, lVar13 != 10 ||
                   ((*plVar5 != 0x65745f7475706e69 || ((short)plVar5[1] != 0x7478)))))) {
              if (lVar13 < 6) {
                if (lVar13 == 4) {
                  if ((int)*plVar5 == 0x74786574) {
                    puVar2 = (undefined8 *)runtime_mapaccess1_faststr(4);
                    if ((undefined8 *)*puVar2 == &DAT_0194e220) {
                      uVar4 = *(undefined8 *)puVar2[1];
                      uVar8 = ((undefined8 *)puVar2[1])[1];
                    }
                    else {
                      uVar4 = 0;
                      uVar8 = 0;
                    }
                    uVar10 = uVar9 + 1;
                    puVar3 = puStack_110;
                    if (uVar7 < uVar10) {
                      uStack_108 = uVar4;
                      if (((2 < (long)uVar10) || (bVar1)) || (uVar9 != 0)) {
                        puVar3 = (undefined8 *)runtime_growslice(1);
                        uVar4 = uStack_108;
                      }
                      else {
                        uStack_d8 = in_XMM15_Qa;
                        uStack_d0 = in_XMM15_Qb;
                        uStack_c8 = in_XMM15_Qa;
                        uStack_c0 = in_XMM15_Qb;
                        uVar7 = 2;
                        bVar1 = true;
                        puVar3 = &uStack_d8;
                      }
                    }
                    lVar14 = uVar9 * 0x10;
                    puVar3[uVar9 * 2 + 1] = uVar8;
                    if (DAT_02e5e450 != 0) {
                      auVar16 = runtime_gcWriteBarrier2();
                      puVar3 = auVar16._0_8_;
                      *puVar15 = uVar4;
                      puVar15[1] = auVar16._8_8_;
                    }
                    *(undefined8 *)((long)puVar3 + lVar14) = uVar4;
                    puVar2 = puStack_10;
                    lVar14 = lStack_128;
                    lVar12 = lStack_138;
                    uVar9 = uVar10;
                  }
                }
                else if (((lVar13 == 5) && ((int)*plVar5 == 0x67616d69)) &&
                        (*(char *)((long)plVar5 + 4) == 'e')) {
                  puVar2 = (undefined8 *)runtime_mapaccess1_faststr(6);
                  if ((undefined8 *)*puVar2 == &DAT_01a233a0) {
                    uStack_f8 = puVar2[1];
                    puVar2 = (undefined8 *)runtime_mapaccess1_faststr(10,uStack_f8,&DAT_01a233a0,&DAT_01c44373);
                    if ((undefined8 *)*puVar2 == &DAT_0194e220) {
                      uStack_f0 = *(undefined8 *)puVar2[1];
                      uStack_160 = ((undefined8 *)puVar2[1])[1];
                    }
                    else {
                      uStack_160 = 0;
                      uStack_f0 = 0;
                    }
                    puVar2 = (undefined8 *)runtime_mapaccess1_faststr(4);
                    if ((undefined8 *)*puVar2 == &DAT_0194e220) {
                      uStack_100 = *(undefined8 *)puVar2[1];
                      uStack_168 = ((undefined8 *)puVar2[1])[1];
                    }
                    else {
                      uStack_168 = 0;
                      uStack_100 = 0;
                    }
                  }
                  else {
                    uStack_168 = 0;
                    uStack_100 = 0;
                  }
                  uStack_140 = uVar9 + 1;
                  uStack_38 = runtime_convTstring();
                  puStack_40 = &DAT_0194e220;
                  auVar16 = runtime_convTstring();
                  uStack_28 = auVar16._0_8_;
                  puStack_30 = &DAT_0194e220;
                  uVar10 = 0xd;
                  uVar4 = fmt_Sprintf(2,2,auVar16._8_8_,&puStack_40);
                  uVar9 = uStack_140;
                  puVar3 = puStack_110;
                  if (uVar7 < uStack_140) {
                    uStack_140 = 0xd;
                    uStack_18 = uVar4;
                    puVar3 = (undefined8 *)runtime_growslice(1,&DAT_0194e220);
                    uVar4 = uStack_18;
                    uVar10 = uStack_140;
                  }
                  auVar17._8_8_ = uVar9;
                  auVar17._0_8_ = uVar4;
                  lVar14 = uVar9 - 1;
                  lVar12 = lVar14 * 0x10;
                  puVar3[lVar14 * 2 + 1] = uVar10;
                  if (DAT_02e5e450 != 0) {
                    uVar4 = puVar3[lVar14 * 2];
                    auVar17 = runtime_gcWriteBarrier2();
                    *puVar15 = auVar17._0_8_;
                    puVar15[1] = uVar4;
                  }
                  uVar9 = auVar17._8_8_;
                  *(long *)((long)puVar3 + lVar12) = auVar17._0_8_;
                  puVar2 = puStack_10;
                  lVar14 = lStack_128;
                  lVar12 = lStack_138;
                }
              }
              else if (lVar13 == 8) {
                if (*plVar5 == 0x746e656d75636f64) {
                  puVar2 = (undefined8 *)runtime_mapaccess1_faststr(6);
                  if ((undefined8 *)*puVar2 == &DAT_01a233a0) {
                    runtime_mapaccess1_faststr(4,puVar2[1],&DAT_01a233a0,&DAT_01c397aa);
                  }
                  uStack_140 = uVar9 + 1;
                  auVar16 = runtime_convTstring();
                  uStack_78 = auVar16._0_8_;
                  puStack_80 = &DAT_0194e220;
                  uVar10 = 0xd;
                  uVar4 = fmt_Sprintf(1,1,auVar16._8_8_,&puStack_80);
                  uVar9 = uStack_140;
                  puVar3 = puStack_110;
                  if (uVar7 < uStack_140) {
                    uStack_140 = 0xd;
                    uStack_18 = uVar4;
                    puVar3 = (undefined8 *)runtime_growslice(1,&DAT_0194e220);
                    uVar4 = uStack_18;
                    uVar10 = uStack_140;
                  }
                  auVar19._8_8_ = uVar9;
                  auVar19._0_8_ = uVar4;
                  lVar14 = uVar9 - 1;
                  lVar12 = lVar14 * 0x10;
                  puVar3[lVar14 * 2 + 1] = uVar10;
                  if (DAT_02e5e450 != 0) {
                    uVar4 = puVar3[lVar14 * 2];
                    auVar19 = runtime_gcWriteBarrier2();
                    *puVar15 = auVar19._0_8_;
                    puVar15[1] = uVar4;
                  }
                  uVar9 = auVar19._8_8_;
                  *(long *)((long)puVar3 + lVar12) = auVar19._0_8_;
                  puVar2 = puStack_10;
                  lVar14 = lStack_128;
                  lVar12 = lStack_138;
                }
                else if (*plVar5 == 0x6573755f6c6f6f74) {
                  puVar2 = (undefined8 *)runtime_mapaccess1_faststr(2);
                  if ((undefined8 *)*puVar2 == &DAT_0194e220) {
                    uStack_118 = *(undefined8 *)puVar2[1];
                    uVar4 = ((undefined8 *)puVar2[1])[1];
                  }
                  else {
                    uVar4 = 0;
                    uStack_118 = 0;
                  }
                  puVar2 = (undefined8 *)runtime_mapaccess1_faststr(4,uVar4,&DAT_0194e220,&DAT_01c39796);
                  if ((undefined8 *)*puVar2 == &DAT_0194e220) {
                    uStack_120 = *(undefined8 *)puVar2[1];
                  }
                  else {
                    uStack_120 = 0;
                  }
                  lVar14 = 5;
                  puVar2 = (undefined8 *)runtime_mapaccess1_faststr();
                  if ((undefined8 *)*puVar2 == &DAT_01a233a0) {
                    uVar4 = encoding_json_Marshal();
                    if (lVar14 == 0) {
                      uStack_e8 = runtime_slicebytetostring();
                    }
                    else {
                      uVar4 = 0;
                      uStack_e8 = 0;
                    }
                  }
                  else {
                    uVar4 = 0;
                    uStack_e8 = 0;
                  }
                  uStack_140 = uVar9 + 1;
                  uStack_158 = uVar4;
                  uStack_68 = runtime_convTstring();
                  puStack_70 = &DAT_0194e220;
                  uStack_58 = runtime_convTstring();
                  puStack_60 = &DAT_0194e220;
                  auVar16 = runtime_convTstring();
                  uStack_48 = auVar16._0_8_;
                  puStack_50 = &DAT_0194e220;
                  uVar10 = 0x20;
                  uVar4 = fmt_Sprintf(3,3,auVar16._8_8_,&puStack_70);
                  uVar9 = uStack_140;
                  puVar3 = puStack_110;
                  if (uVar7 < uStack_140) {
                    uStack_140 = 0x20;
                    uStack_18 = uVar4;
                    puVar3 = (undefined8 *)runtime_growslice(1,&DAT_0194e220);
                    uVar4 = uStack_18;
                    uVar10 = uStack_140;
                  }
                  auVar18._8_8_ = uVar9;
                  auVar18._0_8_ = uVar4;
                  lVar14 = uVar9 - 1;
                  lVar12 = lVar14 * 0x10;
                  puVar3[lVar14 * 2 + 1] = uVar10;
                  if (DAT_02e5e450 != 0) {
                    uVar4 = puVar3[lVar14 * 2];
                    auVar18 = runtime_gcWriteBarrier2();
                    *puVar15 = auVar18._0_8_;
                    puVar15[1] = uVar4;
                  }
                  uVar9 = auVar18._8_8_;
                  *(long *)((long)puVar3 + lVar12) = auVar18._0_8_;
                  puVar2 = puStack_10;
                  lVar14 = lStack_128;
                  lVar12 = lStack_138;
                }
              }
              else if ((((lVar13 == 0xb) && (*plVar5 == 0x7365725f6c6f6f74)) &&
                       ((short)plVar5[1] == 0x6c75)) &&
                      ((*(char *)((long)plVar5 + 10) == 't' &&
                       (plVar5 = (long *)kiro2api_internal_logic_orchids_parseToolResult(), puVar2 = puStack_10, lVar14 = lStack_128,
                       lVar12 = lStack_138, puVar3 = puStack_110, plVar5 != (long *)0x0)))) {
                puStack_b8 = (undefined8 *)*plVar5;
                lStack_b0 = plVar5[1];
                lStack_a8 = plVar5[2];
                lStack_a0 = plVar5[3];
                lStack_98 = plVar5[4];
                uStack_90 = (undefined4)plVar5[5];
                uStack_8c = *(undefined4 *)((long)plVar5 + 0x2c);
                uStack_88 = (undefined4)plVar5[6];
                uStack_84 = *(undefined4 *)((long)plVar5 + 0x34);
                uVar11 = uVar11 + 1;
                plStack_130 = plVar5;
                if (uVar6 < uVar11) {
                  lVar14 = runtime_growslice(1,&DAT_01ad5c60);
                }
                uVar10 = uVar11 * 0x38;
                uStack_148 = uVar6;
                uStack_140 = uVar11;
                lStack_20 = lVar14;
                if (DAT_02e5e450 != 0) {
                  uStack_150 = uVar11 * 0x38;
                  runtime_wbMove();
                  uVar10 = uStack_150;
                }
                lVar14 = uVar10 + lStack_20;
                *(undefined8 **)((uVar10 - 0x38) + lStack_20) = puStack_b8;
                *(long *)(uVar10 + lStack_20 + -0x30) = lStack_b0;
                *(long *)(uVar10 + lStack_20 + -0x28) = lStack_a8;
                *(long *)(lVar14 + -0x20) = lStack_a0;
                *(long *)(lVar14 + -0x18) = lStack_98;
                *(undefined4 *)(lVar14 + -0x10) = uStack_90;
                *(undefined4 *)(lVar14 + -0xc) = uStack_8c;
                *(undefined4 *)(lVar14 + -8) = uStack_88;
                *(undefined4 *)(lVar14 + -4) = uStack_84;
                uVar6 = uStack_148;
                puVar2 = puStack_10;
                lVar14 = lStack_20;
                uVar11 = uStack_140;
                lVar12 = lStack_138;
                puVar3 = puStack_110;
                if ((plStack_130[1] != 0) && (lVar14 = lStack_20, *(long *)(*plStack_130 + 8) != 0))
                {
                  puVar2 = puStack_b8;
                  uStack_38 = runtime_convTstring();
                  puStack_40 = &DAT_0194e220;
                  if (plStack_130[1] == 0) {
                    /* WARNING: Subroutine does not return */
                    runtime_panicIndex();
                  }
                  uStack_150 = uVar9 + 1;
                  auVar16 = runtime_convTstring();
                  uStack_28 = auVar16._0_8_;
                  puStack_30 = &DAT_0194e220;
                  uVar11 = 0x23;
                  uVar4 = fmt_Sprintf(2,2,auVar16._8_8_,&puStack_40);
                  uVar6 = uStack_150;
                  puVar3 = puStack_110;
                  if (uVar7 < uStack_150) {
                    uStack_150 = 0x23;
                    uStack_18 = uVar4;
                    puVar3 = (undefined8 *)runtime_growslice(1,&DAT_0194e220);
                    uVar4 = uStack_18;
                    uVar11 = uStack_150;
                  }
                  auVar16._8_8_ = uVar6;
                  auVar16._0_8_ = uVar4;
                  lVar14 = uVar6 - 1;
                  lVar12 = lVar14 * 0x10;
                  puVar3[lVar14 * 2 + 1] = uVar11;
                  if (DAT_02e5e450 != 0) {
                    uVar4 = puVar3[lVar14 * 2];
                    auVar16 = runtime_gcWriteBarrier2();
                    *puVar2 = auVar16._0_8_;
                    puVar2[1] = uVar4;
                  }
                  uVar9 = auVar16._8_8_;
                  *(long *)((long)puVar3 + lVar12) = auVar16._0_8_;
                  uVar6 = uStack_148;
                  puVar2 = puStack_10;
                  lVar14 = lStack_20;
                  uVar11 = uStack_140;
                  lVar12 = lStack_138;
                }
              }
            }
          }
          puVar2 = puVar2 + 2;
        }
        goto LAB_01755017;
      }
    }
    else if ((*(int *)(puStack0000000000000018 + 2) == -0x778cd48) &&
            (puStack0000000000000018 == &DAT_0194e220)) {
      return *puStack0000000000000020;
    }
    lVar14 = 0;
    uVar7 = 0;
  }
LAB_01755017:
  lStack_128 = lVar14;
  uVar4 = strings_Join(&DAT_01f34d88,1,lVar14,uVar7);
  return uVar4;
}




// === orchids.extractUserMessage @ 0x1753420 ===

undefined1  [16] orchids_extractUserMessage(undefined8 param_1,undefined8 param_2,ulong param_3)

{
  undefined1 auVar1 [16];
  bool bVar2;
  bool bVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  long in_RAX;
  undefined8 uVar12;
  undefined8 *puVar13;
  undefined8 *puVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  ulong uVar18;
  undefined8 extraout_RDX;
  ulong extraout_RDX_00;
  long unaff_RBX;
  ulong uVar19;
  long lVar20;
  ulong uVar21;
  long *plVar22;
  long unaff_R14;
  undefined8 in_XMM15_Qa;
  undefined8 in_XMM15_Qb;
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  long lStack0000000000000008;
  long lStack_170;
  long lStack_138;
  ulong uStack_130;
  ulong uStack_128;
  long lStack_120;
  ulong uStack_118;
  ulong uStack_110;
  ulong uStack_108;
  long lStack_100;
  undefined8 *puStack_f8;
  undefined8 uStack_f0;
  undefined8 uStack_e8;
  undefined8 uStack_e0;
  undefined8 uStack_d8;
  undefined8 uStack_d0;
  undefined8 uStack_c8;
  undefined8 uStack_c0;
  undefined8 uStack_b8;
  long lStack_b0;
  int *piStack_a8;
  long lStack_a0;
  undefined8 *puStack_98;
  undefined8 *puStack_90;
  undefined8 uStack_88;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 uStack_78;
  undefined4 uStack_74;
  undefined8 *puStack_70;
  undefined8 uStack_68;
  undefined8 *puStack_60;
  undefined8 uStack_58;
  undefined8 *puStack_50;
  undefined8 uStack_48;
  long lStack_40;
  undefined8 uStack_38;
  undefined8 *puStack_30;
  undefined8 uStack_28;
  undefined8 uStack_20;
  undefined8 uStack_18;
  undefined8 uStack_10;
  
  while (lStack0000000000000008 = in_RAX, &lStack_138 <= *(long **)(unaff_R14 + 0x10)) {
    runtime_morestack_noctxt();
    in_RAX = lStack0000000000000008;
    param_3 = extraout_RDX_00;
  }
  if (unaff_RBX == 0) {
    auVar26._8_8_ = 0;
    auVar26._0_8_ = param_3;
    return auVar26 << 0x40;
  }
  lVar17 = unaff_RBX + -1;
  lVar15 = lVar17;
  do {
    if (lVar15 < 0) {
      bVar2 = false;
      uStack_130 = 0;
      uStack_128 = 0;
      lStack_b0 = 0;
LAB_0175353a:
      if ((bVar2) && (uStack_130 != 0)) {
        auVar23._8_8_ = uStack_128;
        auVar23._0_8_ = &DAT_01ca80bc;
        return auVar23;
      }
      bVar2 = false;
      uVar21 = uStack_130;
      uVar19 = uStack_128;
      do {
        if (lVar17 < 0) {
          if (uVar21 == 0) {
            return ZEXT816(0x192e960) << 0x40;
          }
          auVar1._8_8_ = 0;
          auVar1._0_8_ = uVar19;
          return auVar1 << 0x40;
        }
        lVar16 = lVar17 * 0x30;
        lVar15 = lVar16 + in_RAX;
        piStack_a8 = *(int **)(lVar16 + in_RAX);
        lStack_a0 = ((undefined8 *)(lVar16 + in_RAX))[1];
        puStack_98 = *(undefined8 **)(lVar16 + in_RAX + 0x10);
        puStack_90 = *(undefined8 **)(lVar16 + in_RAX + 0x18);
        uStack_88 = *(undefined8 *)(lVar15 + 0x20);
        uStack_80 = *(undefined4 *)(lVar15 + 0x28);
        uStack_7c = *(undefined4 *)(lVar15 + 0x2c);
        if ((lStack_a0 == 4) && (*piStack_a8 == 0x72657375)) {
          if (puStack_98 == &DAT_0194e220) {
            uStack_c8 = *puStack_90;
            lVar15 = puStack_90[1];
            lStack_138 = lVar15;
            strings_TrimSpace();
            in_RAX = lStack0000000000000008;
            uVar21 = uStack_130;
            uVar19 = uStack_128;
            if (lVar15 != 0) {
              auVar24._8_8_ = extraout_RDX;
              auVar24._0_8_ = uStack_c8;
              return auVar24;
            }
          }
          else if (puStack_98 == &DAT_0192e960) {
            puVar13 = (undefined8 *)*puStack_90;
            lVar15 = puStack_90[1];
            bVar3 = true;
            uVar18 = 0;
            auVar25 = ZEXT816(0);
            lStack_a0 = 4;
            puStack_98 = &DAT_0192e960;
            while( true ) {
              lStack_170 = auVar25._8_8_;
              puVar14 = &DAT_0194e220;
              if (lVar15 < 1) break;
              if ((undefined8 *)*puVar13 == &DAT_01a233a0) {
                uStack_c0 = puVar13[1];
                lStack_100 = lVar15;
                puStack_f8 = auVar25._0_8_;
                puStack_30 = puVar13;
                puVar13 = (undefined8 *)runtime_mapaccess1_faststr(4,uVar21,&DAT_0192e960,&DAT_01c397aa);
                auVar11._8_8_ = lStack_170;
                auVar11._0_8_ = puStack_f8;
                auVar10._8_8_ = lStack_170;
                auVar10._0_8_ = puStack_f8;
                auVar9._8_8_ = lStack_170;
                auVar9._0_8_ = puStack_f8;
                auVar25._8_8_ = lStack_170;
                auVar25._0_8_ = puStack_f8;
                auVar8._8_8_ = lStack_170;
                auVar8._0_8_ = puStack_f8;
                auVar7._8_8_ = lStack_170;
                auVar7._0_8_ = puStack_f8;
                auVar6._8_8_ = lStack_170;
                auVar6._0_8_ = puStack_f8;
                auVar5._8_8_ = lStack_170;
                auVar5._0_8_ = puStack_f8;
                auVar4._8_8_ = lStack_170;
                auVar4._0_8_ = puStack_f8;
                if ((undefined8 *)*puVar13 == &DAT_0194e220) {
                  plVar22 = *(long **)puVar13[1];
                  lVar16 = ((undefined8 *)puVar13[1])[1];
                }
                else {
                  lVar16 = 0;
                  plVar22 = (long *)0x0;
                }
                in_RAX = lStack0000000000000008;
                uVar21 = uStack_130;
                uVar19 = uStack_128;
                puVar13 = puStack_30;
                lVar15 = lStack_100;
                if (lVar16 < 6) {
                  if (lVar16 == 4) {
                    auVar25 = auVar4;
                    if ((int)*plVar22 == 0x74786574) {
                      puVar13 = (undefined8 *)runtime_mapaccess1_faststr(4);
                      if ((undefined8 *)*puVar13 == &DAT_0194e220) {
                        uStack_f0 = *(undefined8 *)puVar13[1];
                        lVar16 = ((undefined8 *)puVar13[1])[1];
                      }
                      else {
                        uStack_f0 = 0;
                        lVar16 = 0;
                      }
                      lVar20 = internal_stringslite_Index(0x11);
                      if (lVar20 < 0) {
                        strings_TrimSpace();
                      }
                      auVar25._0_8_ = puStack_f8;
                      in_RAX = lStack0000000000000008;
                      uVar21 = uStack_130;
                      uVar19 = uStack_128;
                      puVar13 = puStack_30;
                      lVar15 = lStack_100;
                      if (lVar20 < 0 && lVar16 != 0) {
                        uVar21 = lStack_170 + 1;
                        puVar13 = puStack_f8;
                        if (uVar18 < uVar21) {
                          if (((2 < (long)uVar21) || (bVar2)) || (lStack_170 != 0)) {
                            puVar13 = (undefined8 *)runtime_growslice(1);
                          }
                          else {
                            uStack_28 = in_XMM15_Qa;
                            uStack_20 = in_XMM15_Qb;
                            uStack_18 = in_XMM15_Qa;
                            uStack_10 = in_XMM15_Qb;
                            uVar18 = 2;
                            bVar2 = true;
                            puVar13 = &uStack_28;
                          }
                        }
                        auVar25._8_8_ = uVar21;
                        auVar25._0_8_ = puVar13;
                        lVar15 = lStack_170 * 0x10;
                        puVar13[lStack_170 * 2 + 1] = lVar16;
                        if (DAT_02e5e450 != 0) {
                          uVar12 = puVar13[lStack_170 * 2];
                          auVar25 = runtime_gcWriteBarrier2();
                          *puVar14 = uStack_f0;
                          puVar14[1] = uVar12;
                        }
                        *(undefined8 *)(auVar25._0_8_ + lVar15) = uStack_f0;
                        bVar3 = false;
                        in_RAX = lStack0000000000000008;
                        uVar21 = uStack_130;
                        uVar19 = uStack_128;
                        puVar13 = puStack_30;
                        lVar15 = lStack_100;
                      }
                    }
                  }
                  else {
                    auVar25 = auVar5;
                    if (((lVar16 == 5) && (auVar25 = auVar6, (int)*plVar22 == 0x67616d69)) &&
                       (auVar25 = auVar7, *(char *)((long)plVar22 + 4) == 'e')) {
                      puVar13 = (undefined8 *)runtime_mapaccess1_faststr(6);
                      if ((undefined8 *)*puVar13 == &DAT_01a233a0) {
                        uStack_d8 = puVar13[1];
                        puVar13 = (undefined8 *)
                                  runtime_mapaccess1_faststr(10,uStack_d8,&DAT_01a233a0,&DAT_01c44373);
                        if ((undefined8 *)*puVar13 == &DAT_0194e220) {
                          uStack_d0 = *(undefined8 *)puVar13[1];
                        }
                        else {
                          uStack_d0 = 0;
                        }
                        puVar13 = (undefined8 *)runtime_mapaccess1_faststr(4);
                        if ((undefined8 *)*puVar13 == &DAT_0194e220) {
                          uStack_e0 = *(undefined8 *)puVar13[1];
                        }
                        else {
                          uStack_e0 = 0;
                        }
                      }
                      else {
                        uStack_e0 = 0;
                      }
                      uStack_108 = lStack_170 + 1;
                      uStack_58 = runtime_convTstring();
                      puStack_60 = &DAT_0194e220;
                      auVar26 = runtime_convTstring();
                      uStack_48 = auVar26._0_8_;
                      puStack_50 = &DAT_0194e220;
                      uVar19 = 0xd;
                      uVar12 = fmt_Sprintf(2,2,auVar26._8_8_,&puStack_60);
                      uVar21 = uStack_108;
                      puVar13 = puStack_f8;
                      if (uVar18 < uStack_108) {
                        uStack_108 = 0xd;
                        uStack_38 = uVar12;
                        puVar13 = (undefined8 *)runtime_growslice(1,&DAT_0194e220);
                        uVar12 = uStack_38;
                        uVar19 = uStack_108;
                      }
                      auVar27._8_8_ = uVar21;
                      auVar27._0_8_ = uVar12;
                      lVar15 = uVar21 - 1;
                      lVar16 = lVar15 * 0x10;
                      puVar13[lVar15 * 2 + 1] = uVar19;
                      if (DAT_02e5e450 != 0) {
                        uVar12 = puVar13[lVar15 * 2];
                        auVar27 = runtime_gcWriteBarrier2();
                        *puVar14 = auVar27._0_8_;
                        puVar14[1] = uVar12;
                      }
                      auVar25._8_8_ = auVar27._8_8_;
                      auVar25._0_8_ = puVar13;
                      *(long *)((long)puVar13 + lVar16) = auVar27._0_8_;
                      bVar3 = false;
                      in_RAX = lStack0000000000000008;
                      uVar21 = uStack_130;
                      uVar19 = uStack_128;
                      puVar13 = puStack_30;
                      lVar15 = lStack_100;
                    }
                  }
                }
                else if (lVar16 == 8) {
                  auVar25 = auVar8;
                  if (*plVar22 == 0x746e656d75636f64) {
                    puVar13 = (undefined8 *)runtime_mapaccess1_faststr(6);
                    if ((undefined8 *)*puVar13 == &DAT_01a233a0) {
                      runtime_mapaccess1_faststr(4,puVar13[1],&DAT_01a233a0,&DAT_01c397aa);
                    }
                    uStack_108 = lStack_170 + 1;
                    auVar26 = runtime_convTstring();
                    uStack_68 = auVar26._0_8_;
                    puStack_70 = &DAT_0194e220;
                    uVar19 = 0xd;
                    uVar12 = fmt_Sprintf(1,1,auVar26._8_8_,&puStack_70);
                    uVar21 = uStack_108;
                    puVar13 = puStack_f8;
                    if (uVar18 < uStack_108) {
                      uStack_108 = 0xd;
                      uStack_38 = uVar12;
                      puVar13 = (undefined8 *)runtime_growslice(1,&DAT_0194e220);
                      uVar12 = uStack_38;
                      uVar19 = uStack_108;
                    }
                    auVar28._8_8_ = uVar21;
                    auVar28._0_8_ = uVar12;
                    lVar15 = uVar21 - 1;
                    lVar16 = lVar15 * 0x10;
                    puVar13[lVar15 * 2 + 1] = uVar19;
                    if (DAT_02e5e450 != 0) {
                      uVar12 = puVar13[lVar15 * 2];
                      auVar28 = runtime_gcWriteBarrier2();
                      *puVar14 = auVar28._0_8_;
                      puVar14[1] = uVar12;
                    }
                    auVar25._8_8_ = auVar28._8_8_;
                    auVar25._0_8_ = puVar13;
                    *(long *)((long)puVar13 + lVar16) = auVar28._0_8_;
                    bVar3 = false;
                    in_RAX = lStack0000000000000008;
                    uVar21 = uStack_130;
                    uVar19 = uStack_128;
                    puVar13 = puStack_30;
                    lVar15 = lStack_100;
                  }
                }
                else if (((lVar16 == 0xb) && (auVar25 = auVar9, *plVar22 == 0x7365725f6c6f6f74)) &&
                        (auVar25 = auVar10, (short)plVar22[1] == 0x6c75)) {
                  auVar25 = auVar11;
                }
              }
              else {
                uStack_c0 = 0;
              }
              puVar13 = puVar13 + 2;
              lVar15 = lVar15 + -1;
            }
            if (!bVar3) {
              strings_Join(&DAT_01f34d88,1,&DAT_0192e960,uVar18);
              auVar26 = strings_TrimSpace();
              in_RAX = lStack0000000000000008;
              uVar21 = uStack_130;
              uVar19 = uStack_128;
              if (lStack_170 != 0) {
                return auVar26;
              }
            }
          }
        }
        lVar17 = lVar17 + -1;
      } while( true );
    }
    lVar20 = lVar15 * 0x30;
    lVar16 = in_RAX + lVar20;
    piStack_a8 = *(int **)(lVar20 + in_RAX);
    puStack_90 = *(undefined8 **)(in_RAX + lVar20 + 0x18);
    uStack_88 = *(undefined8 *)(lVar16 + 0x20);
    uStack_80 = *(undefined4 *)(lVar16 + 0x28);
    uStack_7c = *(undefined4 *)(lVar16 + 0x2c);
    if ((((undefined8 *)(lVar20 + in_RAX))[1] == 4) && (*piStack_a8 == 0x72657375)) {
      if (*(undefined8 **)(in_RAX + lVar20 + 0x10) == &DAT_0192e960) {
        puVar13 = (undefined8 *)*puStack_90;
        bVar2 = false;
        uStack_130 = 0;
        uStack_128 = 0;
        lStack_b0 = 0;
        lStack_a0 = 4;
        puStack_98 = &DAT_0192e960;
        lStack_100 = lVar17;
        for (uVar21 = puStack_90[1]; 0 < (long)uVar21; uVar21 = uVar21 - 1) {
          if ((undefined8 *)*puVar13 == &DAT_01a233a0) {
            uStack_b8 = puVar13[1];
            uStack_108 = uVar21;
            puStack_30 = puVar13;
            puVar13 = (undefined8 *)runtime_mapaccess1_faststr(4,uStack_130,&DAT_0192e960,&DAT_01c397aa);
            if ((undefined8 *)*puVar13 == &DAT_0194e220) {
              plVar22 = *(long **)puVar13[1];
              lVar15 = ((undefined8 *)puVar13[1])[1];
            }
            else {
              lVar15 = 0;
              plVar22 = (long *)0x0;
            }
            if ((((lVar15 == 0xb) && (*plVar22 == 0x7365725f6c6f6f74)) &&
                ((short)plVar22[1] == 0x6c75)) && (*(char *)((long)plVar22 + 10) == 't')) {
              puVar14 = (undefined8 *)kiro2api_internal_logic_orchids_parseToolResult();
              in_RAX = lStack0000000000000008;
              lVar17 = lStack_100;
              uVar21 = uStack_108;
              puVar13 = puStack_30;
              if (puVar14 != (undefined8 *)0x0) {
                piStack_a8 = (int *)*puVar14;
                lStack_a0 = puVar14[1];
                puStack_98 = (undefined8 *)puVar14[2];
                puStack_90 = (undefined8 *)puVar14[3];
                uStack_88 = puVar14[4];
                uStack_80 = *(undefined4 *)(puVar14 + 5);
                uStack_7c = *(undefined4 *)((long)puVar14 + 0x2c);
                uStack_78 = *(undefined4 *)(puVar14 + 6);
                uStack_74 = *(undefined4 *)((long)puVar14 + 0x34);
                uVar19 = uStack_130 + 1;
                lVar15 = lStack_b0;
                uVar21 = uStack_128;
                if (uStack_128 < uVar19) {
                  lVar15 = runtime_growslice(1,&DAT_01ad5c60);
                }
                lVar17 = uVar19 * 0x38;
                if (DAT_02e5e450 != 0) {
                  lStack_120 = uVar19 * 0x38;
                  uStack_118 = uVar21;
                  uStack_110 = uVar19;
                  lStack_40 = lVar15;
                  runtime_wbMove();
                  lVar15 = lStack_40;
                  uVar21 = uStack_118;
                  lVar17 = lStack_120;
                  uVar19 = uStack_110;
                }
                lVar16 = lVar17 + lVar15;
                *(int **)(lVar17 + -0x38 + lVar15) = piStack_a8;
                *(long *)(lVar17 + lVar15 + -0x30) = lStack_a0;
                *(undefined8 **)(lVar17 + lVar15 + -0x28) = puStack_98;
                *(undefined8 **)(lVar16 + -0x20) = puStack_90;
                *(undefined8 *)(lVar16 + -0x18) = uStack_88;
                *(undefined4 *)(lVar16 + -0x10) = uStack_80;
                *(undefined4 *)(lVar16 + -0xc) = uStack_7c;
                *(undefined4 *)(lVar16 + -8) = uStack_78;
                *(undefined4 *)(lVar16 + -4) = uStack_74;
                in_RAX = lStack0000000000000008;
                lVar17 = lStack_100;
                uStack_130 = uVar19;
                uStack_128 = uVar21;
                uVar21 = uStack_108;
                puVar13 = puStack_30;
                lStack_b0 = lVar15;
              }
            }
            else {
              in_RAX = lStack0000000000000008;
              lVar17 = lStack_100;
              uVar21 = uStack_108;
              puVar13 = puStack_30;
              if ((lVar15 == 4) && ((int)*plVar22 == 0x74786574)) {
                puVar13 = (undefined8 *)runtime_mapaccess1_faststr(4);
                if ((undefined8 *)*puVar13 == &DAT_0194e220) {
                  uStack_e8 = *(undefined8 *)puVar13[1];
                  lVar15 = ((undefined8 *)puVar13[1])[1];
                }
                else {
                  lVar15 = 0;
                  uStack_e8 = 0;
                }
                lVar16 = internal_stringslite_Index(0x11,lVar15,&DAT_0194e220,&DAT_01c5104e);
                in_RAX = lStack0000000000000008;
                lVar17 = lStack_100;
                uVar21 = uStack_108;
                puVar13 = puStack_30;
                if ((lVar16 < 0) &&
                   (strings_TrimSpace(), in_RAX = lStack0000000000000008, lVar17 = lStack_100,
                   uVar21 = uStack_108, puVar13 = puStack_30, lVar15 != 0)) {
                  bVar2 = true;
                }
              }
            }
          }
          puVar13 = puVar13 + 2;
        }
        if ((bVar2) || (uStack_130 == 0)) {
          bVar2 = false;
        }
        else {
          bVar2 = true;
        }
      }
      else {
        bVar2 = false;
        uStack_130 = 0;
        uStack_128 = 0;
        lStack_b0 = 0;
      }
      goto LAB_0175353a;
    }
    lVar15 = lVar15 + -1;
  } while( true );
}




// === orchids.handleModelEvent @ 0x175d4a0 ===

long kiro2api_internal_logic_orchids_handleModelEvent(long param_1,undefined *param_2,undefined8 param_3,undefined *param_4,long param_5
                 )

{
  char cVar1;
  undefined8 in_RAX;
  undefined8 *puVar2;
  long *plVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  undefined8 uVar7;
  undefined8 extraout_RDX;
  undefined8 extraout_RDX_00;
  long lVar8;
  undefined8 extraout_RDX_01;
  long unaff_RBX;
  undefined4 *puVar9;
  long lVar10;
  undefined *puVar11;
  undefined8 *in_R11;
  long unaff_R14;
  long in_XMM15_Qa;
  long in_XMM15_Qb;
  undefined1 auVar12 [16];
  undefined4 local_148;
  undefined4 uStack_144;
  undefined4 uStack_140;
  undefined4 uStack_13c;
  undefined4 local_104;
  undefined4 uStack_100;
  undefined4 uStack_fc;
  undefined4 uStack_f8;
  undefined4 uStack_f4;
  undefined1 local_c8 [8];
  undefined4 local_c0;
  undefined4 uStack_bc;
  undefined4 uStack_b8;
  undefined4 uStack_b4;
  long local_b0;
  undefined *local_a8;
  undefined *local_a0;
  undefined8 local_98;
  long local_90;
  long local_88;
  long local_80;
  long lStack_78;
  long local_70;
  long local_68;
  undefined8 local_60;
  long *local_58;
  long local_50;
  long local_48;
  long local_40;
  long local_38;
  long *local_30;
  undefined8 local_28;
  undefined8 local_20;
  undefined8 local_18;
  undefined8 *local_10;
  
  puVar9 = (undefined4 *)register0x00000020;
  lVar10 = param_1;
  lVar6 = param_5;
  if (local_c8 <= *(undefined1 **)(unaff_R14 + 0x10)) {
LAB_0175dfdd:
    *(undefined8 *)((long)puVar9 + 8) = in_RAX;
    *(long *)((long)puVar9 + 0x10) = unaff_RBX;
    *(undefined **)((long)puVar9 + 0x18) = param_4;
    *(long *)((long)puVar9 + 0x20) = lVar10;
    *(undefined **)((long)puVar9 + 0x28) = param_2;
    *(long *)((long)puVar9 + 0x30) = lVar6;
    *(undefined8 *)((long)puVar9 + -8) = 0x175e005;
    runtime_morestack_noctxt();
    lVar6 = kiro2api_internal_logic_orchids_handleModelEvent(*(undefined8 *)((long)puVar9 + 0x20),*(undefined8 *)((long)puVar9 + 0x28),
                         extraout_RDX_01,*(undefined8 *)((long)puVar9 + 0x18),
                         *(undefined8 *)((long)puVar9 + 0x30));
    return lVar6;
  }
  puVar9 = &local_148;
  cVar1 = kiro2api_internal_logic_orchids_StreamState_ShouldSkipModelEvent();
  if (cVar1 != '\0') {
    return 0;
  }
  puVar2 = (undefined8 *)runtime_mapaccess1_faststr(5);
  if ((undefined8 *)*puVar2 == &DAT_01a233a0) {
    local_68 = puVar2[1];
    puVar2 = (undefined8 *)runtime_mapaccess1_faststr(4,local_68,&DAT_01a233a0,&DAT_01c397aa);
    if ((undefined8 *)*puVar2 == &DAT_0194e220) {
      plVar3 = *(long **)puVar2[1];
      lVar6 = ((undefined8 *)puVar2[1])[1];
    }
    else {
      lVar6 = 0;
      plVar3 = (long *)0x0;
    }
  }
  else {
    local_68 = 0;
    plVar3 = (long *)0x0;
    lVar6 = 0;
  }
  if (local_68 == 0) {
    return 0;
  }
  switch(lVar6 + -6) {
  case 0:
    if (((int)*plVar3 == 0x696e6966) && (*(short *)((long)plVar3 + 4) == 0x6873)) {
      puVar2 = (undefined8 *)runtime_mapaccess1_faststr(0xc,lVar6 + -6,&DAT_01a233a0,&DAT_01c48184);
      if ((undefined8 *)*puVar2 == &DAT_0194e220) {
        local_30 = *(long **)puVar2[1];
        local_90 = ((undefined8 *)puVar2[1])[1];
      }
      else {
        local_30 = (long *)0x0;
        local_90 = 0;
      }
      puVar2 = (undefined8 *)runtime_mapaccess1_faststr(5,local_30,local_90,&DAT_01c3a5b2);
      if ((undefined8 *)*puVar2 == &DAT_01a233a0) {
        local_60 = puVar2[1];
        local_70 = 0;
        local_80 = in_XMM15_Qa;
        lStack_78 = in_XMM15_Qb;
        puVar2 = (undefined8 *)runtime_mapaccess1_faststr(0xb,local_60,&DAT_01a233a0,&DAT_01c46339);
        if ((undefined *)*puVar2 == &DAT_0194e5e0) {
          local_80 = (long)*(double *)puVar2[1];
        }
        puVar2 = (undefined8 *)runtime_mapaccess1_faststr(0xc);
        if ((undefined *)*puVar2 == &DAT_0194e5e0) {
          lStack_78 = (long)*(double *)puVar2[1];
        }
        puVar2 = (undefined8 *)runtime_mapaccess1_faststr(0x11);
        if ((undefined *)*puVar2 == &DAT_0194e5e0) {
          local_70 = (long)*(double *)puVar2[1];
        }
        plVar3 = &local_80;
      }
      else {
        plVar3 = (long *)0x0;
      }
      if (plVar3 != (long *)0x0) {
        local_58 = plVar3;
        kiro2api_internal_logic_orchids_StreamState_SetInputTokens();
        kiro2api_internal_logic_orchids_StreamState_SetOutputTokens();
        kiro2api_internal_logic_orchids_StreamState_SetCacheReadInputTokens();
      }
      if (((local_90 == 10) && (*local_30 == 0x6c61632d6c6f6f74)) && ((short)local_30[1] == 0x736c))
      {
        kiro2api_internal_logic_orchids_StreamState_SetFinishReason();
      }
      else if ((local_90 == 4) && ((int)*local_30 == 0x706f7473)) {
        kiro2api_internal_logic_orchids_StreamState_SetFinishReason();
      }
    }
    break;
  case 2:
    break;
  case 3:
    break;
  case 4:
    if ((*plVar3 == 0x6c65642d74786574) && ((short)plVar3[1] == 0x6174)) {
      puVar2 = (undefined8 *)runtime_mapaccess1_faststr(5,0x6c65642d74786574,&DAT_01a233a0,&DAT_01c3a5ad);
      if ((undefined8 *)*puVar2 == &DAT_0194e220) {
        uVar7 = *(undefined8 *)puVar2[1];
        lVar6 = ((undefined8 *)puVar2[1])[1];
      }
      else {
        lVar6 = 0;
        uVar7 = 0;
      }
      if (lVar6 != 0) {
        lVar6 = kiro2api_internal_logic_orchids_SSEWriter_EnsureTextBlockAndWriteDelta(lVar6,uVar7,lVar6,uVar7);
        return lVar6;
      }
    }
    else if ((*plVar3 == 0x6174732d74786574) &&
            (((short)plVar3[1] == 0x7472 && (*(char *)(param_1 + 0x28) == '\0')))) {
      kiro2api_internal_logic_orchids_StreamState_StartResponse();
      lVar6 = kiro2api_internal_logic_orchids_SSEWriter_WriteBlockStart(4,0,extraout_RDX,&DAT_01c397b2,0);
      return lVar6;
    }
    break;
  case 6:
    break;
  case 7:
    if ((((undefined1 *)*plVar3 == &DAT_6e696e6f73616572) && ((int)plVar3[1] == 0x6e652d67)) &&
       (*(char *)((long)plVar3 + 0xc) == 'd')) {
      lVar6 = kiro2api_internal_logic_orchids_SSEWriter_CloseReasoningBlock();
      return lVar6;
    }
    break;
  case 8:
    if ((((*plVar3 == 0x706e692d6c6f6f74) && ((int)plVar3[1] == 0x652d7475)) &&
        (*(short *)((long)plVar3 + 0xc) == 0x646e)) && (local_50 = kiro2api_internal_logic_orchids_StreamState_EndToolCall(), local_50 != 0)) {
      if (*(long *)(local_50 + 0x28) != 0) {
        local_10 = (undefined8 *)runtime_newobject();
        runtime_stringtoslicebyte();
        lVar6 = encoding_json_Unmarshal(&DAT_01928320,local_10);
        if (lVar6 == 0) {
          kiro2api_internal_logic_orchids_StreamState_UpdatePendingToolInput(*local_10);
        }
      }
      if (((*(char *)(local_50 + 0x38) == '\0') && (*(long *)(local_50 + 0x28) != 0)) &&
         (lVar6 = kiro2api_internal_logic_orchids_SSEWriter_WriteToolInputDelta(), lVar6 != 0)) {
        return lVar6;
      }
      local_98 = *(undefined8 *)(local_50 + 0x30);
      local_20 = runtime_makemap_small();
      puVar2 = (undefined8 *)runtime_mapassign_faststr(4);
      *puVar2 = &DAT_0194e220;
      if (DAT_02e5e450 != 0) {
        uVar7 = puVar2[1];
        puVar2 = (undefined8 *)runtime_gcWriteBarrier1();
        *in_R11 = uVar7;
      }
      puVar2[1] = &PTR_DAT_01f39be0;
      local_18 = runtime_convT64();
      auVar12 = runtime_mapassign_faststr(5);
      *auVar12._0_8_ = &DAT_0194e460;
      if (DAT_02e5e450 != 0) {
        auVar12 = runtime_gcWriteBarrier2();
        *in_R11 = local_18;
        in_R11[1] = auVar12._8_8_;
      }
      *(undefined8 *)(auVar12._0_8_ + 8) = local_18;
      lVar6 = kiro2api_internal_logic_orchids_SSEWriter_writeEvent(&DAT_01a233a0,local_20,auVar12._8_8_,7);
      return lVar6;
    }
    break;
  case 9:
    if (((((undefined1 *)*plVar3 == &DAT_6e696e6f73616572) && ((int)plVar3[1] == 0x65642d67)) &&
        (*(short *)((long)plVar3 + 0xc) == 0x746c)) && (*(char *)((long)plVar3 + 0xe) == 'a')) {
      puVar2 = (undefined8 *)runtime_mapaccess1_faststr(5,&DAT_6e696e6f73616572,&DAT_01a233a0,&DAT_01c3a5ad);
      if ((undefined8 *)*puVar2 == &DAT_0194e220) {
        uVar7 = *(undefined8 *)puVar2[1];
        lVar6 = ((undefined8 *)puVar2[1])[1];
      }
      else {
        lVar6 = 0;
        uVar7 = 0;
      }
      if ((lVar6 != 0) && (*(char *)(param_1 + 0x18) != '\0')) {
        lVar6 = kiro2api_internal_logic_orchids_SSEWriter_WriteThinkingDelta(lVar6,uVar7,lVar6,uVar7);
        return lVar6;
      }
    }
    else if ((((undefined1 *)*plVar3 == &DAT_6e696e6f73616572) && ((int)plVar3[1] == 0x74732d67)) &&
            ((*(short *)((long)plVar3 + 0xc) == 0x7261 &&
             ((*(char *)((long)plVar3 + 0xe) == 't' && (*(char *)(param_1 + 0x18) == '\0')))))) {
      kiro2api_internal_logic_orchids_StreamState_StartReasoning();
      lVar6 = kiro2api_internal_logic_orchids_SSEWriter_WriteBlockStart(8,0,extraout_RDX_00,&DAT_01c3fd97,0);
      return lVar6;
    }
    break;
  case 10:
    if ((*plVar3 == 0x706e692d6c6f6f74) && (plVar3[1] == 0x61746c65642d7475)) {
      puVar2 = (undefined8 *)runtime_mapaccess1_faststr(5,0x706e692d6c6f6f74,&DAT_01a233a0,&DAT_01c3a5ad);
      if ((undefined8 *)*puVar2 == &DAT_0194e220) {
        local_28 = *(undefined8 *)puVar2[1];
        local_88 = ((undefined8 *)puVar2[1])[1];
      }
      else {
        local_88 = 0;
        local_28 = 0;
      }
      if ((local_88 != 0) && (kiro2api_internal_logic_orchids_StreamState_AppendToolInput(), *(long *)(param_1 + 0x60) != 0)) {
        lVar6 = kiro2api_internal_logic_orchids_SSEWriter_WriteToolInputDelta(local_88);
        return lVar6;
      }
    }
    else if ((*plVar3 == 0x706e692d6c6f6f74) && (plVar3[1] == 0x74726174732d7475)) {
      puVar2 = (undefined8 *)runtime_mapaccess1_faststr(2,0x74726174732d7475,&DAT_01a233a0,&DAT_01c3896e);
      unaff_RBX = local_68;
      if ((undefined8 *)*puVar2 == &DAT_0194e220) {
        lVar6 = *(long *)puVar2[1];
        param_2 = (undefined *)((long *)puVar2[1])[1];
      }
      else {
        param_2 = (undefined *)0x0;
        lVar6 = 0;
      }
      param_4 = &DAT_01c3ffe7;
      lVar10 = 8;
      local_a0 = param_2;
      local_38 = lVar6;
      puVar2 = (undefined8 *)runtime_mapaccess1_faststr();
      if ((undefined8 *)*puVar2 == &DAT_0194e220) {
        lVar4 = *(long *)puVar2[1];
        lVar8 = ((long *)puVar2[1])[1];
      }
      else {
        lVar8 = 0;
        lVar4 = 0;
      }
      lVar5 = local_38;
      puVar11 = local_a0;
      if (local_a0 == (undefined *)0x0) {
        local_b0 = lVar8;
        local_48 = lVar4;
        lVar4 = github_com_google_uuid_NewRandom();
        local_c0 = local_148;
        uStack_bc = uStack_144;
        uStack_b8 = uStack_140;
        uStack_b4 = uStack_13c;
        if (lVar4 != 0) {
          in_RAX = runtime_gopanic();
          goto LAB_0175dfdd;
        }
        local_104 = (undefined4)in_XMM15_Qa;
        uStack_fc = (undefined4)((ulong)in_XMM15_Qa >> 0x20);
        uStack_f8 = (undefined4)in_XMM15_Qb;
        uStack_f4 = (undefined4)((ulong)in_XMM15_Qb >> 0x20);
        uStack_100 = local_104;
        github_com_google_uuid_encodeHex();
        auVar12 = runtime_slicebytetostring();
        if (&local_104 < (undefined4 *)0xc) {
                    /* WARNING: Subroutine does not return */
          runtime_panicSliceAlen();
        }
        lVar5 = runtime_concatstring2(auVar12._0_8_,0xc,auVar12._8_8_,6);
        lVar8 = local_b0;
        lVar4 = local_48;
        puVar11 = &DAT_01c3bccf;
      }
      if (lVar8 != 0) {
        lVar6 = lVar4;
        if (param_5 != 0) {
          local_a8 = puVar11;
          local_40 = lVar5;
          lVar6 = orchids_MapToolNameToClient(0);
          lVar5 = local_40;
          lVar8 = lVar4;
          puVar11 = local_a8;
        }
        kiro2api_internal_logic_orchids_SSEWriter_StartToolUseBlock(puVar11,lVar6,lVar8,lVar5,lVar8);
        if (param_1 != 0) {
          return param_1;
        }
      }
    }
  }
  return 0;
}



