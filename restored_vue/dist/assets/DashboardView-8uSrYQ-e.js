import{d as b,e as f,c as l,a as s,t as e,F as k,f as w,r as u,h as m,g as C,o as i,u as L,n as x,_ as y}from"./index-0b7F522w.js";import{C as B}from"./channels-CdsIN6g2.js";import{f as M,s as S,a as j,c as V}from"./accounts-Bsq4WSUt.js";const A={class:"dashboard-page"},D={class:"global-stats"},N={class:"gs-card"},q={class:"gs-info"},E={class:"gs-value"},F={class:"gs-card"},I={class:"gs-info"},z={class:"gs-value text-green"},H={class:"gs-card"},R={class:"gs-info"},T={class:"gs-value text-blue"},Z={class:"gs-card"},$={class:"gs-info"},G={class:"gs-value text-purple"},J={class:"section-header"},K={class:"section-count"},O={class:"channel-grid"},P=["onClick"],Q={class:"ch-card-header"},U={class:"ch-name"},W={class:"ch-card-body"},X={class:"ch-stat"},Y={class:"ch-stat-val"},ss={class:"ch-stat"},ts={class:"ch-stat-val text-green"},os={class:"ch-stat"},as={class:"ch-stat-val text-red"},es=b({__name:"DashboardView",setup(ns){const h=L(),r=u(!1),n=u({total_accounts:0,active_accounts:0,total_requests:0,success_rate:100});async function p(){r.value=!0;try{const a=await m.get("/api/stats");a.data.code===0&&a.data.data&&(n.value={...n.value,...a.data.data})}catch{}finally{r.value=!1}}function _(a){S(a),h.push("/accounts")}const d=C(()=>j.value.map(a=>{const t=B[a],o=V.value.find(g=>g.channelId===a);return{id:a,name:(t==null?void 0:t.name)||a,color:(t==null?void 0:t.color)||"gray",total:(o==null?void 0:o.total)||0,normal:(o==null?void 0:o.normal)||0,abnormal:(o==null?void 0:o.abnormal)||0}})),c={amber:"#f59e0b",purple:"#8b5cf6",green:"#10b981",indigo:"#6366f1",cyan:"#06b6d4",orange:"#f97316",gray:"#6b7280"},v={amber:"rgba(245,158,11,.08)",purple:"rgba(139,92,246,.08)",green:"rgba(16,185,129,.08)",indigo:"rgba(99,102,241,.08)",cyan:"rgba(6,182,212,.08)",orange:"rgba(249,115,22,.08)",gray:"rgba(107,114,128,.08)"};return f(()=>{p(),M()}),(a,t)=>(i(),l("div",A,[t[15]||(t[15]=s("div",{class:"page-header"},[s("h1",null,"仪表盘"),s("p",{class:"page-desc"},"系统运行状态总览")],-1)),s("div",D,[s("div",N,[t[1]||(t[1]=s("div",{class:"gs-icon gs-icon-default"},[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[s("circle",{cx:"10",cy:"7",r:"3.5",stroke:"currentColor","stroke-width":"1.5"}),s("path",{d:"M3.5 17.5C3.5 14 6 11.5 10 11.5C14 11.5 16.5 14 16.5 17.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})])],-1)),s("div",q,[s("div",E,e(n.value.total_accounts),1),t[0]||(t[0]=s("div",{class:"gs-label"},"总账号",-1))])]),s("div",F,[t[3]||(t[3]=s("div",{class:"gs-icon gs-icon-green"},[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[s("path",{d:"M10 2L12.5 7.5L18 8.5L14 12.5L15 18L10 15.5L5 18L6 12.5L2 8.5L7.5 7.5L10 2Z",stroke:"currentColor","stroke-width":"1.5","stroke-linejoin":"round"})])],-1)),s("div",I,[s("div",z,e(n.value.active_accounts),1),t[2]||(t[2]=s("div",{class:"gs-label"},"活跃账号",-1))])]),s("div",H,[t[5]||(t[5]=s("div",{class:"gs-icon gs-icon-blue"},[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[s("path",{d:"M3 10L7 14L17 4",stroke:"currentColor","stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("div",R,[s("div",T,e(n.value.total_requests),1),t[4]||(t[4]=s("div",{class:"gs-label"},"总请求数",-1))])]),s("div",Z,[t[7]||(t[7]=s("div",{class:"gs-icon gs-icon-purple"},[s("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[s("circle",{cx:"10",cy:"10",r:"7",stroke:"currentColor","stroke-width":"1.5"}),s("path",{d:"M10 6V10.5L13 13",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s("div",$,[s("div",G,e(n.value.success_rate)+"%",1),t[6]||(t[6]=s("div",{class:"gs-label"},"成功率",-1))])])]),s("div",J,[t[8]||(t[8]=s("h2",{class:"section-title"},"渠道概览",-1)),s("span",K,e(d.value.length)+" 个渠道",1)]),s("div",O,[(i(!0),l(k,null,w(d.value,o=>(i(),l("div",{key:o.id,class:"ch-card",onClick:g=>_(o.id)},[s("div",Q,[s("div",{class:"ch-badge",style:x({background:v[o.color]||v.gray,color:c[o.color]||c.gray})},e(o.name.charAt(0)),5),s("span",U,e(o.name),1),t[9]||(t[9]=s("svg",{class:"ch-arrow",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[s("path",{d:"M5 3L9 7L5 11",stroke:"currentColor","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),s("div",W,[s("div",X,[s("span",Y,e(o.total),1),t[10]||(t[10]=s("span",{class:"ch-stat-lbl"},"总数",-1))]),t[13]||(t[13]=s("div",{class:"ch-divider"},null,-1)),s("div",ss,[s("span",ts,e(o.normal),1),t[11]||(t[11]=s("span",{class:"ch-stat-lbl"},"正常",-1))]),t[14]||(t[14]=s("div",{class:"ch-divider"},null,-1)),s("div",os,[s("span",as,e(o.abnormal),1),t[12]||(t[12]=s("span",{class:"ch-stat-lbl"},"异常",-1))])])],8,P))),128))])]))}}),ds=y(es,[["__scopeId","data-v-1cca59fa"]]);export{ds as default};
